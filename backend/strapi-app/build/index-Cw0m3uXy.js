const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["ListView-vlg8d-w6.js","strapi-CGAa_rXE.js","strapi-D6821bIJ.css","sortable.esm-CIFxLjQf.js","groupBy-_x7Ngucn.js","_baseEach-DgzPyvvE.js","sortBy-9xdXmzv-.js","_baseMap-B5Vo6HDd.js","index-CGh3H2bW.js","index-BRVyLNfZ.js"])))=>i.map(i=>d[i]);
import{gz as kn,f as G,j as u,T as ge,a5 as Ha,o as ei,k as be,dG as hy,bh as gy,b6 as Qn,cv as Hn,bl as ti,F as ae,bJ as nc,C as Ue,co as Bt,eH as by,bE as rc,d2 as Yo,c as yy,p as ac,Z as ce,bH as Jn,bI as ea,d as Tt,c6 as ic,gA as vy,g8 as wl,eB as Ie,gB as xy,h as ni,g as oc,gC as Cy,b7 as sc,v as Qo,gD as _y,ak as Qr,ct as uc,a3 as jy,cf as Qa,gE as Ee,gF as Tl,bK as wy,dv as lc,gG as Ty,K as ie,g9 as cc,ao as My,aq as Ga,ar as Ml,gH as Fy,gI as ky,as as Ay,at as Ry,av as Gr,au as Fo,ap as Fl,aw as kl,ax as Sy,am as Ny,gJ as Al,an as $y,ay as Oy,al as Ey,gK as Iy,gL as Jo,E as An,f2 as Ly,m as Dy,aG as Py,a2 as qy,aI as Zn,bU as dc,cl as Rn,cW as Dt,aU as bn,aV as wt,gM as fc,bD as Xo,aW as Yn,gN as pc,ee as mc,cz as Uy,cA as zy,gO as Rl,gP as Wy,gQ as By,gR as Vy,gS as Hy,aa as Gy,gT as Zy,gU as Ky,gV as Yy,gW as Qy,gX as Jy,gY as Xy,gZ as ev,g_ as tv,g$ as nv,h0 as rv,gj as av,h1 as iv,h2 as ov,gu as sv,h3 as uv,h4 as lv,h5 as cv,h6 as dv,q as hc,h7 as fv,f4 as pv,h8 as mv,h9 as hv,ha as gv,hb as bv,dB as yv,hc as vv,ew as xv,hd as Cv,he as _v,hf as jv,hg as wv,hh as Tv,b as Mv,ci as Fv,hi as ko,hj as gc,hk as bc,hl as yc,hm as kv,hn as Av,ho as Rv,hp as Sv,hq as Nv,hr as $v,hs as vc,ht as xc,hu as Cc,hv as Ov,cK as Ev,hw as Iv,hx as Lv,ad as Dv,eW as Pv,ae as qv,a8 as Uv,hy as zv,fT as Wv,gt as Bv,hz as Vv,hA as Hv,hB as Gv,hC as Zv,fE as Kv,hD as Yv,hE as Qv,hF as Jv,fn as Xv,fq as ex,hG as tx,hH as nx,hI as rx,ag as _c,hJ as ax,hK as ix,bW as ox,hL as sx,hM as ux,ab as lx,hN as cx,hO as dx,hP as fx,hQ as px,hR as mx,hS as hx,hT as gx,hU as bx,hV as yx,hW as vx,hX as xx,cp as Cx,hY as _x,hZ as jx,h_ as wx,D as Tx,h$ as Mx,i0 as Fx,i1 as kx,i2 as Ax,i3 as Rx,i4 as Sx,i5 as Nx,i6 as $x,i7 as Ox,i8 as Ex,i9 as Ix,ia as Lx,ib as Dx,ic as Px,id as qx,ie as Ux,ig as zx,ih as Wx,I as Uo,bm as ri,bA as jc,ii as wc,gg as Ja,cQ as Bx,bv as Tc,eI as Vx,cP as Hx,ij as Gx,ch as Zx,en as Kx,ik as Ve,il as Yx,im as Qx,dp as Jx,io as Xx,ip as e0,iq as Mc,bT as Fc,f$ as t0,ir as n0,is as r0,it as a0,iu as i0,iv as o0,fR as es,M as s0,O as u0,iw as kc,ec as Ac,ix as l0,iy as Rc,iz as c0,iA as d0,iB as f0,iC as p0,iD as m0,iE as Zr,iF as h0,bL as Wt,be as Jr,b1 as Re,b2 as Le,iG as Ao,b0 as $e,ex as g0,bc as Sl,iH as Kr,iI as Sc,iJ as b0,iK as y0,U as v0,cd as x0,bz as C0,cc as _0,g7 as j0,P as Ro,iL as w0,iM as T0,A as M0,R as F0,N as Za,_ as k0}from"./strapi-CGAa_rXE.js";import{g as A0}from"./groupBy-_x7Ngucn.js";import{s as R0}from"./sortBy-9xdXmzv-.js";import{f as S0}from"./index-CGh3H2bW.js";const j=i=>`${kn}.${i}`,Nc=G.createContext(),nn=()=>G.useContext(Nc),Nl=({status:i})=>{switch(i){case"UNCHANGED":return null;case"CHANGED":return u.jsx(ge,{fontWeight:"semiBold",textColor:"alternative500",children:"M"});case"REMOVED":return u.jsx(ge,{fontWeight:"semiBold",textColor:"danger500",children:"D"});case"NEW":return u.jsx(ge,{fontWeight:"semiBold",textColor:"success500",children:"N"})}},pj=({status:i})=>{switch(i){case"CHANGED":return u.jsx(Ha,{fontWeight:"bold",textColor:"alternative600",backgroundColor:"alternative100",borderColor:"alternative200",children:"Modified"});case"REMOVED":return u.jsx(Ha,{fontWeight:"bold",textColor:"danger600",backgroundColor:"danger100",borderColor:"danger200",children:"Deleted"});case"NEW":return u.jsx(Ha,{fontWeight:"bold",textColor:"success600",backgroundColor:"success100",borderColor:"success200",children:"New"});case"UNCHANGED":default:return u.jsx(Ha,{style:{visibility:"hidden"},fontWeight:"bold",textColor:"warning600",backgroundColor:"warning100",borderColor:"warning200",children:"Unchanged"})}},$c=G.createContext(),Cr=()=>G.useContext($c),N0=()=>{const{componentsGroupedByCategory:i,isInDevelopmentMode:r,sortedContentTypesList:s}=nn(),{trackUsage:d}=ei(),[c,h]=G.useState(""),{onOpenModalCreateSchema:p}=Cr(),{locale:m}=be(),{startsWith:g}=hy(m,{sensitivity:"base"}),v=gy(m,{sensitivity:"base"}),_=()=>{d("willCreateContentType"),p({modalType:"contentType",kind:"collectionType",actionType:"create",forTarget:"contentType"})},M=()=>{d("willCreateSingleType"),p({modalType:"contentType",kind:"singleType",actionType:"create",forTarget:"contentType"})},E=()=>{d("willCreateComponent"),p({modalType:"component",kind:null,actionType:"create",forTarget:"component"})},P=Object.entries(i).map(([$,R])=>({name:$,title:Qn($),links:R.map(O=>({name:O.uid,to:`/plugins/${kn}/component-categories/${$}/${O.uid}`,title:O.info.displayName,status:O.status})).sort((O,N)=>v.compare(O.title,N.title))})).sort(($,R)=>v.compare($.title,R.title)),T=s.filter($=>$.visible).map($=>({kind:$.kind,name:$.name,to:$.to,title:$.title,status:$.status}));return{menu:[{name:"models",title:{id:`${j("menu.section.models.name")}`,defaultMessage:"Collection Types"},customLink:r?{id:`${j("button.model.create")}`,defaultMessage:"Create new collection type",onClick:_}:void 0,links:T.filter($=>$.kind==="collectionType")},{name:"singleTypes",title:{id:`${j("menu.section.single-types.name")}`,defaultMessage:"Single Types"},customLink:r?{id:`${j("button.single-types.create")}`,defaultMessage:"Create new single type",onClick:M}:void 0,links:T.filter($=>$.kind==="singleType")},{name:"components",title:{id:`${j("menu.section.components.name")}`,defaultMessage:"Components"},customLink:r?{id:`${j("button.component.create")}`,defaultMessage:"Create a new component",onClick:E}:void 0,links:P}].map($=>{if($.links.some(N=>"links"in N&&Array.isArray(N.links))){let N=0;return{...$,links:$.links.reduce((Y,I)=>{const te="links"in I?I.links.filter(le=>g(le.title,c)):[];return te.length===0||(N+=te.length,Y.push({...I,links:te.sort((le,Ce)=>v.compare(le.title,Ce.title))})),Y},[]),linksCount:N}}const O=$.links.filter(N=>g(N.title,c)).sort((N,Y)=>v.compare(N.title,Y.title));return{...$,links:O,linksCount:O.length}}),search:{value:c,onChange:h,clear:()=>h("")}}},$0=Tt(Yo)`
  transform: scaleX(-1);
`,O0=Tt(Bt.Item)`
  color: ${({theme:i})=>i.colors.danger600};

  &:hover {
    background: ${({theme:i,disabled:r})=>!r&&i.colors.danger100};
  }
`,E0=()=>{const{menu:i,search:r}=N0(),{saveSchema:s,isModified:d,history:c,isInDevelopmentMode:h}=nn(),{formatMessage:p}=be(),[m,g]=G.useState(!1),[v,_]=G.useState(!1);G.useEffect(()=>{if(!h)return;const $=R=>{(R.ctrlKey||R.metaKey)&&(R.key==="Enter"?d&&(R.preventDefault(),s()):R.key==="z"&&!R.shiftKey?(R.preventDefault(),c.undo()):(R.key==="y"||R.shiftKey&&R.key==="z"||R.key==="Z")&&(R.preventDefault(),c.redo()))};return document.addEventListener("keydown",$),()=>{document.removeEventListener("keydown",$)}});const M=()=>{_(!0)},E=()=>{g(!1),_(!1),c.discardAllChanges()},P=()=>{c.undo()},T=()=>{c.redo()},D=p({id:j("plugin.name"),defaultMessage:"Content-Type Builder"});return u.jsxs(Hn.Main,{"aria-label":D,children:[u.jsx(Hn.Header,{label:D}),u.jsx(ti,{background:"neutral150"}),u.jsxs(ae,{padding:5,gap:3,direction:"column",alignItems:"stretch",children:[u.jsx(nc.contentTypeBuilder.Save,{children:u.jsxs(ae,{gap:2,children:[u.jsx(Ue,{flex:1,onClick:$=>{$.preventDefault(),s()},type:"submit",disabled:!d||!h,fullWidth:!0,size:"S",children:p({id:"global.save",defaultMessage:"Save"})}),u.jsxs(Bt.Root,{open:m,onOpenChange:g,children:[u.jsxs(Bt.Trigger,{size:"S",endIcon:null,paddingTop:"4px",paddingLeft:"7px",paddingRight:"7px",variant:"tertiary",children:[u.jsx(by,{fill:"neutral500","aria-hidden":!0,focusable:!1}),u.jsx(rc,{tag:"span",children:p({id:"global.more.actions",defaultMessage:"More actions"})})]}),u.jsxs(Bt.Content,{zIndex:1,children:[u.jsx(Bt.Item,{disabled:!c.canUndo||!h,onSelect:P,startIcon:u.jsx($0,{}),children:p({id:"global.last-change.undo",defaultMessage:"Undo last change"})}),u.jsx(Bt.Item,{disabled:!c.canRedo||!h,onSelect:T,startIcon:u.jsx(Yo,{}),children:p({id:"global.last-change.redo",defaultMessage:"Redo last change"})}),u.jsx(Bt.Separator,{}),u.jsx(O0,{disabled:!c.canDiscardAll||!h,onSelect:M,children:u.jsxs(ae,{gap:2,children:[u.jsx(yy,{}),u.jsx(ge,{children:p({id:"global.last-changes.discard",defaultMessage:"Discard last changes"})})]})})]})]})]})}),u.jsx(ac,{value:r.value,onChange:$=>r.onChange($.target.value),onClear:()=>r.onChange(""),placeholder:p({id:j("search.placeholder"),defaultMessage:"Search"}),size:"S",children:void 0,name:"search_contentType",clearLabel:p({id:"clearLabel",defaultMessage:"Clear"}),"aria-label":p({id:j("search.placeholder"),defaultMessage:"Search"})})]}),u.jsx(Hn.Sections,{children:i.map($=>u.jsx(G.Fragment,{children:u.jsx(Hn.Section,{label:p({id:$.title.id,defaultMessage:$.title.defaultMessage}),link:$.customLink&&{label:p({id:$.customLink?.id,defaultMessage:$.customLink?.defaultMessage}),onClik:$.customLink?.onClick},sectionId:$.name,children:$.links.map(R=>{const O=p({id:R.name,defaultMessage:R.title});return"links"in R?u.jsx(Hn.SubSection,{label:R.title,children:R.links.map(N=>{const Y=p({id:N.name,defaultMessage:N.title});return u.jsx(Hn.Link,{to:N.to,label:Y,endAction:u.jsx(ce,{tag:"span",textAlign:"center",width:"24px",children:u.jsx(Nl,{status:N.status})})},N.name)})},R.name):u.jsx(Hn.Link,{to:R.to,label:O,endAction:u.jsx(ce,{tag:"span",textAlign:"center",width:"24px",children:u.jsx(Nl,{status:R.status})})},R.name)})})},$.name))}),u.jsx(Jn.Root,{open:v,onOpenChange:_,children:u.jsx(ea,{onConfirm:E,children:p({id:j("popUpWarning.discardAll.message"),defaultMessage:"Are you sure you want to discard all changes?"})})})]})},I0="timeout",L0=30*1e3,D0=()=>{const{get:i}=ic(),r=async s=>{const d=s??Date.now();if(Date.now()-d>L0)throw new Error(I0);try{if((await i("/content-type-builder/update-schema-status"))?.data?.data?.isUpdating===!0)return new Promise(h=>{setTimeout(()=>r(d).then(h),200)})}catch{return new Promise(h=>{setTimeout(()=>r(d).then(h),200)})}};return r},P0=i=>R0(Object.keys(i).map(r=>({visible:i[r].visible,name:r,title:i[r].info.displayName,plugin:i[r].plugin,uid:r,to:`/plugins/${kn}/content-types/${r}`,kind:i[r].kind,restrictRelationsTo:i[r].restrictRelationsTo,status:i[r].status})).filter(r=>r!==null),r=>vy(r.title)),q0=({components:i,contentTypes:r})=>{const s={newContentTypes:0,editedContentTypes:0,deletedContentTypes:0,newComponents:0,editedComponents:0,deletedComponents:0,newFields:0,editedFields:0,deletedFields:0},d=Object.values(i).filter(h=>["NEW","CHANGED","REMOVED"].includes(h.status)).map(h=>{const p=$l(h),m=p.action;return Ol({...h,action:m},s,"component"),p}),c=Object.values(r).filter(h=>["NEW","CHANGED","REMOVED"].includes(h.status)).map(h=>{const p=$l(h),m=p.action;return Ol({...h,action:m},s,"contentType"),p});return{requestData:{components:d,contentTypes:c},trackingEventProperties:s}},U0=i=>Object.fromEntries(Object.entries(i).filter(([r,s])=>Array.isArray(s)?s.length>0:typeof s=="object"&&s!==null?Object.keys(s).length>0:s!=null)),z0=i=>"customField"in i?{...i,type:"customField"}:"targetAttribute"in i?{...i,targetAttribute:i.targetAttribute==="-"?null:i.targetAttribute,...i.conditions&&{conditions:i.conditions}}:i,$l=i=>{let r;switch(i.status){case"NEW":r="create";break;case"CHANGED":r="update";break;case"REMOVED":return{action:"delete",uid:i.uid};default:throw new Error("Invalid status")}return{action:r,uid:i.uid,category:"category"in i?i.category:void 0,...wl(i,["info","options","visible","uid","restrictRelationsTo"]),...i.options,...i.info,attributes:i.attributes.map(s=>{let d;switch(s.status){case"NEW":d="create";break;case"REMOVED":return{action:"delete",name:s.name};case"UNCHANGED":case"CHANGED":default:d="update"}return{action:d,name:s.name,properties:U0(wl(z0(s),["status","name"]))}})}},Ol=(i,r,s)=>{if(!i||typeof i.action!="string")return;const d=s==="contentType";switch(i.action){case"create":d?r.newContentTypes++:r.newComponents++;break;case"update":d?r.editedContentTypes++:r.editedComponents++;break;case"delete":d?r.deletedContentTypes++:r.deletedComponents++;break}Array.isArray(i.attributes)&&(i.action==="delete"?r.deletedFields+=i.attributes.length:i.attributes.forEach(c=>{if(!(!c||typeof c.status!="string"))switch(c.status){case"NEW":r.newFields++;break;case"CHANGED":r.editedFields++;break;case"REMOVED":r.deletedFields++;break}}))},W0=i=>Object.keys(i).reduce((s,d)=>{const c=Ie(i,[d]),h=B0(c);return h.childComponents.length>0&&s.push(h),s},[]),B0=i=>({component:i.uid,childComponents:i.attributes.filter(r=>{const{type:s}=r;return s==="component"}).map(r=>({component:r.component}))}),V0=i=>{const r=Object.keys(i).reduce((s,d)=>{const c=i?.[d]?.attributes??[],h=H0(c,d);return[...s,...h]},[]);return G0(r)},H0=(i,r)=>i.reduce((s,d)=>{const{type:c}=d;return c==="component"&&s.push({component:d.component,parentCompoUid:r}),s},[]),G0=i=>{const r=new Map;return i.forEach(({component:d,parentCompoUid:c})=>{r.has(d)||r.set(d,new Set),r.get(d).add(c)}),Array.from(r.entries()).map(([d,c])=>({component:d,uidsOfAllParents:Array.from(c)}))},Z0=(i,r)=>{const s=Object.keys(i).map(d=>Ie(i,[d,...r],""));return xy(s)},K0=i=>i["content-type-builder_dataManagerProvider"]||Cy,Y0=({children:i})=>{const r=ni(),s=oc(K0),d=sc("DataManagerProvider",z=>z.dispatch),{components:c,contentTypes:h,reservedNames:p,initialComponents:m,initialContentTypes:g,isLoading:v}=s.current,{toggleNotification:_}=Qo(),{lockAppWithAutoreload:M,unlockAppWithAutoreload:E}=_y(),P=D0(),D=Qr("DataManagerProvider",z=>z.getPlugin)("content-type-builder"),$=uc("DataManagerProvider",z=>z.autoReload),{formatMessage:R}=be(),{trackUsage:O}=ei(),N=jy("DataManagerProvider",z=>z.refetchPermissions),{onCloseModal:Y}=Cr(),[I,te]=G.useState(!1),le=G.useMemo(()=>!(Qa(c,m)&&Qa(h,g)),[c,h,m,g]),Ce=ic(),Fe=$,we=G.useRef();we.current=async()=>{try{const[z,ze]=await Promise.all([Ce.get("/content-type-builder/schema"),Ce.get("/content-type-builder/reserved-names")]),{components:He,contentTypes:Ht}=z.data.data;r(Ee.init({components:Tl(He,rn=>({...rn,status:"UNCHANGED"})),contentTypes:Tl(Ht,rn=>({...rn,status:"UNCHANGED"})),reservedNames:ze.data})),r(Ee.clearHistory())}catch(z){console.error({err:z}),_({type:"danger",message:R({id:"notification.error",defaultMessage:"An error occurred"})})}},G.useEffect(()=>(we.current(),()=>{r(Ee.reloadPlugin())}),[]),G.useEffect(()=>{$||_({type:"info",message:R({id:j("notification.info.autoreaload-disable")})})},[$,_,R]);const Ye=z=>W0(z),re=z=>V0(z),B=async()=>{await N()},Vt=async()=>{te(!0);const z=D?.apis?.forms,ze=Object.entries(s.current.contentTypes).reduce((Gt,[Sn,Mt])=>(Gt[Sn]=z.mutateContentTypeSchema(Mt,g[Sn]),Gt),{}),{requestData:He,trackingEventProperties:Ht}=q0({components:s.current.components,contentTypes:ze}),rn=Object.keys(s.current.contentTypes).length>0;M();try{await Ce.post("/content-type-builder/update-schema",{data:He}),rn&&O("didCreateGuidedTourCollectionType"),await P(),await we.current(),await B()}catch(Gt){console.error({err:Gt}),_({type:"danger",message:R({id:"notification.error",defaultMessage:"An error occurred"})}),O("didUpdateCTBSchema",{...Ht,success:!1})}finally{te(!1),E(),r(wy.util.invalidateTags(["GuidedTourMeta","HomepageKeyStatistics"])),d({type:"set_completed_actions",payload:[lc.contentTypeBuilder.createSchema]}),O("didUpdateCTBSchema",{...Ht,success:!0})}},Te=G.useMemo(()=>Ye(c),[c]),rt=G.useMemo(()=>re(c),[c]),Qe=G.useMemo(()=>Z0(c,["category"]),[c]),yn=G.useMemo(()=>A0(c,"category"),[c]),Q=G.useMemo(()=>P0(h),[h]),he={componentsThatHaveOtherComponentInTheirAttributes:Te,nestedComponents:rt,saveSchema:Vt,reservedNames:p,components:c,contentTypes:h,initialComponents:m,initialContentTypes:g,isSaving:I,isModified:le,isInDevelopmentMode:Fe,allComponentsCategories:Qe,componentsGroupedByCategory:yn,sortedContentTypesList:Q,isLoading:v,addAttribute(z){r(Ee.addAttribute(z))},editAttribute(z){r(Ee.editAttribute(z))},addCustomFieldAttribute(z){r(Ee.addCustomFieldAttribute(z))},editCustomFieldAttribute(z){r(Ee.editCustomFieldAttribute(z))},addCreatedComponentToDynamicZone(z){r(Ee.addCreatedComponentToDynamicZone(z))},createSchema(z){r(Ee.createSchema(z))},createComponentSchema({data:z,uid:ze,componentCategory:He}){r(Ee.createComponentSchema({data:z,uid:ze,componentCategory:He}))},changeDynamicZoneComponents({forTarget:z,targetUid:ze,dynamicZoneTarget:He,newComponents:Ht}){r(Ee.changeDynamicZoneComponents({forTarget:z,targetUid:ze,dynamicZoneTarget:He,newComponents:Ht}))},removeAttribute(z){z.forTarget==="contentType"&&O("willDeleteFieldOfContentType"),r(Ee.removeField(z))},removeComponentFromDynamicZone(z){r(Ee.removeComponentFromDynamicZone(z))},deleteComponent(z){window.confirm(R({id:j("popUpWarning.bodyMessage.component.delete")}))&&(Y(),r(Ee.deleteComponent(z)))},deleteContentType(z){window.confirm(R({id:j("popUpWarning.bodyMessage.contentType.delete")}))&&(Y(),r(Ee.deleteContentType(z)))},updateComponentSchema({data:z,componentUID:ze}){r(Ee.updateComponentSchema({data:z,uid:ze}))},updateComponentUid({componentUID:z,newComponentUID:ze}){r(Ee.updateComponentUid({uid:z,newComponentUID:ze}))},updateSchema(z){r(Ee.updateSchema(z))},moveAttribute(z){r(Ee.moveAttribute(z))},applyChange(z){r(Ee.applyChange(z))},history:{undo(){r(Ee.undo())},redo(){r(Ee.redo())},discardAllChanges(){r(Ee.discardAll())},canUndo:s.past.length>0,canRedo:s.future.length>0,canDiscardAll:le}};return u.jsx(Nc.Provider,{value:he,children:i})},Q0=()=>{const{formatMessage:i}=be(),{isModified:r,isSaving:s}=nn(),d=i({id:j("prompt.unsaved"),defaultMessage:"Are you sure you want to leave? All your modifications will be lost."}),c=Ty(h=>h.currentLocation.pathname.startsWith("/plugins/content-type-builder/")&&!h.nextLocation.pathname.startsWith("/plugins/content-type-builder/")&&r);return G.useEffect(()=>{const h=p=>{r&&!s&&(p.preventDefault(),p.returnValue="")};return window.addEventListener("beforeunload",h),()=>window.removeEventListener("beforeunload",h)},[d,r,s]),c.state==="blocked"?u.jsx(Jn.Root,{open:!0,onOpenChange:()=>c.reset(),children:u.jsx(ea,{onConfirm:()=>c.proceed(),children:d})}):null},Oc=i=>i.kind==="collectionType"&&(i.restrictRelationsTo===null||Array.isArray(i.restrictRelationsTo)&&i.restrictRelationsTo.length>0),zo=(i,r)=>i.find(({name:s})=>s===r),J0=(i,r)=>!i||!r?{}:{[i]:r[i]},X0=i=>(i?.inner||[]).reduce((r,s)=>(s.path&&(r[s.path.split("[").join(".").split("]").join("")]={id:s.message,defaultMessage:s.message,values:J0(s?.type,s?.params)}),r),{}),e1=[{label:"All",children:[{label:"images (JPEG, PNG, GIF, SVG, TIFF, ICO, DVU)",value:"images"},{label:"videos (MPEG, MP4, Quicktime, WMV, AVI, FLV)",value:"videos"},{label:"audios (MP3, WAV, OGG)",value:"audios"},{label:"files (CSV, ZIP, PDF, Excel, JSON, ...)",value:"files"}]}],t1=({intlLabel:i,name:r,onChange:s,value:d=null})=>{const{formatMessage:c}=be(),h=d===null||d?.length===0?c({id:"global.none",defaultMessage:"None"}):[...d].sort().map(m=>Qn(m)).join(", "),p=i.id?c({id:i.id,defaultMessage:i.defaultMessage}):r;return u.jsxs(ie.Root,{name:r,children:[u.jsx(ie.Label,{children:p}),u.jsx(cc,{customizeContent:()=>h,onChange:m=>{m.length>0?s({target:{name:r,value:m,type:"allowed-types-select"}}):s({target:{name:r,value:null,type:"allowed-types-select"}})},options:e1,value:d||[]})]})},El={biginteger:Gr,blocks:Ey,boolean:Oy,collectionType:Al,component:$y,contentType:Al,date:Ga,datetime:Ga,decimal:Gr,dynamiczone:Ny,email:Sy,enum:kl,enumeration:kl,file:Fo,files:Fo,float:Gr,integer:Gr,json:Fl,JSON:Fl,media:Fo,number:Gr,password:Ry,relation:Ay,richtext:ky,singleType:Fy,string:Ml,text:Ml,time:Ga,timestamp:Ga,uid:My},n1=Tt(ce)`
  svg {
    height: 100%;
    width: 100%;
  }
`,Xr=({type:i,customField:r=null,...s})=>{const d=Qr("AttributeIcon",h=>h.customFields.get);let c=El[i];if(r){const p=d(r)?.icon;p&&(c=p)}return El[i]?u.jsx(n1,{width:"3.2rem",height:"3.2rem",shrink:0,...s,"aria-hidden":!0,children:u.jsx(ce,{tag:c})}):null},Ec=Tt(ce)`
  width: 100%;
  height: 100%;
  border: 1px solid ${({theme:i})=>i.colors.neutral200};
  text-align: left;
  &:hover {
    cursor: pointer;
    background: ${({theme:i})=>i.colors.primary100};
    border: 1px solid ${({theme:i})=>i.colors.primary200};
  }
`,r1=[],a1=()=>u.jsx(ae,{grow:1,justifyContent:"flex-end",children:u.jsxs(ae,{gap:1,hasRadius:!0,background:"alternative100",padding:"0.2rem 0.4rem",children:[u.jsx(Iy,{width:"1rem",height:"1rem",fill:"alternative600"}),u.jsx(ge,{textColor:"alternative600",variant:"sigma",children:"New"})]})}),i1=({type:i="text"})=>{const{formatMessage:r}=be(),{onClickSelectField:s}=Cr(),d=()=>{s({attributeType:i,step:i==="component"?"1":null})};return u.jsx(Ec,{padding:4,tag:"button",hasRadius:!0,type:"button",onClick:d,children:u.jsxs(ae,{children:[u.jsx(Xr,{type:i}),u.jsxs(ce,{paddingLeft:4,width:"100%",children:[u.jsxs(ae,{justifyContent:"space-between",children:[u.jsx(ge,{fontWeight:"bold",textColor:"neutral800",children:r({id:j(`attribute.${i}`),defaultMessage:i})}),r1.includes(i)&&u.jsx(a1,{})]}),u.jsx(ae,{children:u.jsx(ge,{variant:"pi",textColor:"neutral600",children:r({id:j(`attribute.${i}.description`),defaultMessage:"A type for modeling data"})})})]})]})})},o1=({attributes:i})=>u.jsx(Jo,{tagName:"button",children:u.jsx(ae,{direction:"column",alignItems:"stretch",gap:8,children:i.map((r,s)=>u.jsx(An.Root,{gap:3,children:r.map(d=>u.jsx(An.Item,{col:6,direction:"column",alignItems:"stretch",children:u.jsx(i1,{type:d})},d))},s))})}),s1=({customFieldUid:i,customField:r})=>{const{type:s,intlLabel:d,intlDescription:c}=r,{formatMessage:h}=be(),{onClickSelectCustomField:p}=Cr(),m=()=>{p({attributeType:s,customFieldUid:i})};return u.jsx(Ec,{padding:4,tag:"button",hasRadius:!0,type:"button",onClick:m,children:u.jsxs(ae,{children:[u.jsx(Xr,{type:s,customField:i}),u.jsxs(ce,{paddingLeft:4,children:[u.jsx(ae,{children:u.jsx(ge,{fontWeight:"bold",textColor:"neutral800",children:h(d)})}),u.jsx(ae,{children:u.jsx(ge,{variant:"pi",textColor:"neutral600",children:h(c)})})]})]})})};var u1=String.prototype.replace,l1=/%20/g,So={RFC1738:"RFC1738",RFC3986:"RFC3986"},ts={default:So.RFC3986,formatters:{RFC1738:function(i){return u1.call(i,l1,"+")},RFC3986:function(i){return String(i)}},RFC1738:So.RFC1738,RFC3986:So.RFC3986},c1=ts,No=Object.prototype.hasOwnProperty,Kn=Array.isArray,en=function(){for(var i=[],r=0;r<256;++r)i.push("%"+((r<16?"0":"")+r.toString(16)).toUpperCase());return i}(),d1=function(r){for(;r.length>1;){var s=r.pop(),d=s.obj[s.prop];if(Kn(d)){for(var c=[],h=0;h<d.length;++h)typeof d[h]<"u"&&c.push(d[h]);s.obj[s.prop]=c}}},Ic=function(r,s){for(var d=s&&s.plainObjects?Object.create(null):{},c=0;c<r.length;++c)typeof r[c]<"u"&&(d[c]=r[c]);return d},f1=function i(r,s,d){if(!s)return r;if(typeof s!="object"){if(Kn(r))r.push(s);else if(r&&typeof r=="object")(d&&(d.plainObjects||d.allowPrototypes)||!No.call(Object.prototype,s))&&(r[s]=!0);else return[r,s];return r}if(!r||typeof r!="object")return[r].concat(s);var c=r;return Kn(r)&&!Kn(s)&&(c=Ic(r,d)),Kn(r)&&Kn(s)?(s.forEach(function(h,p){if(No.call(r,p)){var m=r[p];m&&typeof m=="object"&&h&&typeof h=="object"?r[p]=i(m,h,d):r.push(h)}else r[p]=h}),r):Object.keys(s).reduce(function(h,p){var m=s[p];return No.call(h,p)?h[p]=i(h[p],m,d):h[p]=m,h},c)},p1=function(r,s){return Object.keys(s).reduce(function(d,c){return d[c]=s[c],d},r)},m1=function(i,r,s){var d=i.replace(/\+/g," ");if(s==="iso-8859-1")return d.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(d)}catch{return d}},h1=function(r,s,d,c,h){if(r.length===0)return r;var p=r;if(typeof r=="symbol"?p=Symbol.prototype.toString.call(r):typeof r!="string"&&(p=String(r)),d==="iso-8859-1")return escape(p).replace(/%u[0-9a-f]{4}/gi,function(_){return"%26%23"+parseInt(_.slice(2),16)+"%3B"});for(var m="",g=0;g<p.length;++g){var v=p.charCodeAt(g);if(v===45||v===46||v===95||v===126||v>=48&&v<=57||v>=65&&v<=90||v>=97&&v<=122||h===c1.RFC1738&&(v===40||v===41)){m+=p.charAt(g);continue}if(v<128){m=m+en[v];continue}if(v<2048){m=m+(en[192|v>>6]+en[128|v&63]);continue}if(v<55296||v>=57344){m=m+(en[224|v>>12]+en[128|v>>6&63]+en[128|v&63]);continue}g+=1,v=65536+((v&1023)<<10|p.charCodeAt(g)&1023),m+=en[240|v>>18]+en[128|v>>12&63]+en[128|v>>6&63]+en[128|v&63]}return m},g1=function(r){for(var s=[{obj:{o:r},prop:"o"}],d=[],c=0;c<s.length;++c)for(var h=s[c],p=h.obj[h.prop],m=Object.keys(p),g=0;g<m.length;++g){var v=m[g],_=p[v];typeof _=="object"&&_!==null&&d.indexOf(_)===-1&&(s.push({obj:p,prop:v}),d.push(_))}return d1(s),r},b1=function(r){return Object.prototype.toString.call(r)==="[object RegExp]"},y1=function(r){return!r||typeof r!="object"?!1:!!(r.constructor&&r.constructor.isBuffer&&r.constructor.isBuffer(r))},v1=function(r,s){return[].concat(r,s)},x1=function(r,s){if(Kn(r)){for(var d=[],c=0;c<r.length;c+=1)d.push(s(r[c]));return d}return s(r)},Lc={arrayToObject:Ic,assign:p1,combine:v1,compact:g1,decode:m1,encode:h1,isBuffer:y1,isRegExp:b1,maybeMap:x1,merge:f1},Dc=Ly,Ya=Lc,Yr=ts,C1=Object.prototype.hasOwnProperty,Il={brackets:function(r){return r+"[]"},comma:"comma",indices:function(r,s){return r+"["+s+"]"},repeat:function(r){return r}},gn=Array.isArray,_1=Array.prototype.push,Pc=function(i,r){_1.apply(i,gn(r)?r:[r])},j1=Date.prototype.toISOString,Ll=Yr.default,ut={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Ya.encode,encodeValuesOnly:!1,format:Ll,formatter:Yr.formatters[Ll],indices:!1,serializeDate:function(r){return j1.call(r)},skipNulls:!1,strictNullHandling:!1},w1=function(r){return typeof r=="string"||typeof r=="number"||typeof r=="boolean"||typeof r=="symbol"||typeof r=="bigint"},$o={},T1=function i(r,s,d,c,h,p,m,g,v,_,M,E,P,T,D,$){for(var R=r,O=$,N=0,Y=!1;(O=O.get($o))!==void 0&&!Y;){var I=O.get(r);if(N+=1,typeof I<"u"){if(I===N)throw new RangeError("Cyclic object value");Y=!0}typeof O.get($o)>"u"&&(N=0)}if(typeof g=="function"?R=g(s,R):R instanceof Date?R=M(R):d==="comma"&&gn(R)&&(R=Ya.maybeMap(R,function(rt){return rt instanceof Date?M(rt):rt})),R===null){if(h)return m&&!T?m(s,ut.encoder,D,"key",E):s;R=""}if(w1(R)||Ya.isBuffer(R)){if(m){var te=T?s:m(s,ut.encoder,D,"key",E);return[P(te)+"="+P(m(R,ut.encoder,D,"value",E))]}return[P(s)+"="+P(String(R))]}var le=[];if(typeof R>"u")return le;var Ce;if(d==="comma"&&gn(R))T&&m&&(R=Ya.maybeMap(R,m)),Ce=[{value:R.length>0?R.join(",")||null:void 0}];else if(gn(g))Ce=g;else{var Fe=Object.keys(R);Ce=v?Fe.sort(v):Fe}for(var we=c&&gn(R)&&R.length===1?s+"[]":s,Ye=0;Ye<Ce.length;++Ye){var re=Ce[Ye],B=typeof re=="object"&&typeof re.value<"u"?re.value:R[re];if(!(p&&B===null)){var Vt=gn(R)?typeof d=="function"?d(we,re):we:we+(_?"."+re:"["+re+"]");$.set(r,N);var Te=Dc();Te.set($o,$),Pc(le,i(B,Vt,d,c,h,p,d==="comma"&&T&&gn(R)?null:m,g,v,_,M,E,P,T,D,Te))}}return le},M1=function(r){if(!r)return ut;if(r.encoder!==null&&typeof r.encoder<"u"&&typeof r.encoder!="function")throw new TypeError("Encoder has to be a function.");var s=r.charset||ut.charset;if(typeof r.charset<"u"&&r.charset!=="utf-8"&&r.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var d=Yr.default;if(typeof r.format<"u"){if(!C1.call(Yr.formatters,r.format))throw new TypeError("Unknown format option provided.");d=r.format}var c=Yr.formatters[d],h=ut.filter;return(typeof r.filter=="function"||gn(r.filter))&&(h=r.filter),{addQueryPrefix:typeof r.addQueryPrefix=="boolean"?r.addQueryPrefix:ut.addQueryPrefix,allowDots:typeof r.allowDots>"u"?ut.allowDots:!!r.allowDots,charset:s,charsetSentinel:typeof r.charsetSentinel=="boolean"?r.charsetSentinel:ut.charsetSentinel,delimiter:typeof r.delimiter>"u"?ut.delimiter:r.delimiter,encode:typeof r.encode=="boolean"?r.encode:ut.encode,encoder:typeof r.encoder=="function"?r.encoder:ut.encoder,encodeValuesOnly:typeof r.encodeValuesOnly=="boolean"?r.encodeValuesOnly:ut.encodeValuesOnly,filter:h,format:d,formatter:c,serializeDate:typeof r.serializeDate=="function"?r.serializeDate:ut.serializeDate,skipNulls:typeof r.skipNulls=="boolean"?r.skipNulls:ut.skipNulls,sort:typeof r.sort=="function"?r.sort:null,strictNullHandling:typeof r.strictNullHandling=="boolean"?r.strictNullHandling:ut.strictNullHandling}},F1=function(i,r){var s=i,d=M1(r),c,h;typeof d.filter=="function"?(h=d.filter,s=h("",s)):gn(d.filter)&&(h=d.filter,c=h);var p=[];if(typeof s!="object"||s===null)return"";var m;r&&r.arrayFormat in Il?m=r.arrayFormat:r&&"indices"in r?m=r.indices?"indices":"repeat":m="indices";var g=Il[m];if(r&&"commaRoundTrip"in r&&typeof r.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var v=g==="comma"&&r&&r.commaRoundTrip;c||(c=Object.keys(s)),d.sort&&c.sort(d.sort);for(var _=Dc(),M=0;M<c.length;++M){var E=c[M];d.skipNulls&&s[E]===null||Pc(p,T1(s[E],E,g,v,d.strictNullHandling,d.skipNulls,d.encode?d.encoder:null,d.filter,d.sort,d.allowDots,d.serializeDate,d.format,d.formatter,d.encodeValuesOnly,d.charset,_))}var P=p.join(d.delimiter),T=d.addQueryPrefix===!0?"?":"";return d.charsetSentinel&&(d.charset==="iso-8859-1"?T+="utf8=%26%2310003%3B&":T+="utf8=%E2%9C%93&"),P.length>0?T+P:""},vr=Lc,Wo=Object.prototype.hasOwnProperty,k1=Array.isArray,Xe={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:vr.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},A1=function(i){return i.replace(/&#(\d+);/g,function(r,s){return String.fromCharCode(parseInt(s,10))})},qc=function(i,r){return i&&typeof i=="string"&&r.comma&&i.indexOf(",")>-1?i.split(","):i},R1="utf8=%26%2310003%3B",S1="utf8=%E2%9C%93",N1=function(r,s){var d={},c=s.ignoreQueryPrefix?r.replace(/^\?/,""):r,h=s.parameterLimit===1/0?void 0:s.parameterLimit,p=c.split(s.delimiter,h),m=-1,g,v=s.charset;if(s.charsetSentinel)for(g=0;g<p.length;++g)p[g].indexOf("utf8=")===0&&(p[g]===S1?v="utf-8":p[g]===R1&&(v="iso-8859-1"),m=g,g=p.length);for(g=0;g<p.length;++g)if(g!==m){var _=p[g],M=_.indexOf("]="),E=M===-1?_.indexOf("="):M+1,P,T;E===-1?(P=s.decoder(_,Xe.decoder,v,"key"),T=s.strictNullHandling?null:""):(P=s.decoder(_.slice(0,E),Xe.decoder,v,"key"),T=vr.maybeMap(qc(_.slice(E+1),s),function(D){return s.decoder(D,Xe.decoder,v,"value")})),T&&s.interpretNumericEntities&&v==="iso-8859-1"&&(T=A1(T)),_.indexOf("[]=")>-1&&(T=k1(T)?[T]:T),Wo.call(d,P)?d[P]=vr.combine(d[P],T):d[P]=T}return d},$1=function(i,r,s,d){for(var c=d?r:qc(r,s),h=i.length-1;h>=0;--h){var p,m=i[h];if(m==="[]"&&s.parseArrays)p=[].concat(c);else{p=s.plainObjects?Object.create(null):{};var g=m.charAt(0)==="["&&m.charAt(m.length-1)==="]"?m.slice(1,-1):m,v=parseInt(g,10);!s.parseArrays&&g===""?p={0:c}:!isNaN(v)&&m!==g&&String(v)===g&&v>=0&&s.parseArrays&&v<=s.arrayLimit?(p=[],p[v]=c):g!=="__proto__"&&(p[g]=c)}c=p}return c},O1=function(r,s,d,c){if(r){var h=d.allowDots?r.replace(/\.([^.[]+)/g,"[$1]"):r,p=/(\[[^[\]]*])/,m=/(\[[^[\]]*])/g,g=d.depth>0&&p.exec(h),v=g?h.slice(0,g.index):h,_=[];if(v){if(!d.plainObjects&&Wo.call(Object.prototype,v)&&!d.allowPrototypes)return;_.push(v)}for(var M=0;d.depth>0&&(g=m.exec(h))!==null&&M<d.depth;){if(M+=1,!d.plainObjects&&Wo.call(Object.prototype,g[1].slice(1,-1))&&!d.allowPrototypes)return;_.push(g[1])}return g&&_.push("["+h.slice(g.index)+"]"),$1(_,s,d,c)}},E1=function(r){if(!r)return Xe;if(r.decoder!==null&&r.decoder!==void 0&&typeof r.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof r.charset<"u"&&r.charset!=="utf-8"&&r.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var s=typeof r.charset>"u"?Xe.charset:r.charset;return{allowDots:typeof r.allowDots>"u"?Xe.allowDots:!!r.allowDots,allowPrototypes:typeof r.allowPrototypes=="boolean"?r.allowPrototypes:Xe.allowPrototypes,allowSparse:typeof r.allowSparse=="boolean"?r.allowSparse:Xe.allowSparse,arrayLimit:typeof r.arrayLimit=="number"?r.arrayLimit:Xe.arrayLimit,charset:s,charsetSentinel:typeof r.charsetSentinel=="boolean"?r.charsetSentinel:Xe.charsetSentinel,comma:typeof r.comma=="boolean"?r.comma:Xe.comma,decoder:typeof r.decoder=="function"?r.decoder:Xe.decoder,delimiter:typeof r.delimiter=="string"||vr.isRegExp(r.delimiter)?r.delimiter:Xe.delimiter,depth:typeof r.depth=="number"||r.depth===!1?+r.depth:Xe.depth,ignoreQueryPrefix:r.ignoreQueryPrefix===!0,interpretNumericEntities:typeof r.interpretNumericEntities=="boolean"?r.interpretNumericEntities:Xe.interpretNumericEntities,parameterLimit:typeof r.parameterLimit=="number"?r.parameterLimit:Xe.parameterLimit,parseArrays:r.parseArrays!==!1,plainObjects:typeof r.plainObjects=="boolean"?r.plainObjects:Xe.plainObjects,strictNullHandling:typeof r.strictNullHandling=="boolean"?r.strictNullHandling:Xe.strictNullHandling}},I1=function(i,r){var s=E1(r);if(i===""||i===null||typeof i>"u")return s.plainObjects?Object.create(null):{};for(var d=typeof i=="string"?N1(i,s):i,c=s.plainObjects?Object.create(null):{},h=Object.keys(d),p=0;p<h.length;++p){var m=h[p],g=O1(m,d[m],s,typeof i=="string");c=vr.merge(c,g,s)}return s.allowSparse===!0?c:vr.compact(c)},L1=F1,D1=I1,P1=ts,q1={formats:P1,parse:D1,stringify:L1};const U1=Tt(ce)`
  background: ${({theme:i})=>`linear-gradient(180deg, rgba(234, 234, 239, 0) 0%, ${i.colors.neutral150} 100%)`};
  opacity: 0.33;
`,z1=()=>u.jsx(ae,{wrap:"wrap",gap:4,children:[...Array(4)].map((i,r)=>u.jsx(U1,{height:"138px",width:"375px",hasRadius:!0},`empty-card-${r}`))}),W1=()=>{const{formatMessage:i}=be();return u.jsxs(ce,{position:"relative",children:[u.jsx(z1,{}),u.jsx(ce,{position:"absolute",top:6,width:"100%",children:u.jsxs(ae,{alignItems:"center",justifyContent:"center",direction:"column",children:[u.jsx(Dy,{width:"160px",height:"88px"}),u.jsx(ce,{paddingTop:6,paddingBottom:4,children:u.jsxs(ce,{textAlign:"center",children:[u.jsx(ge,{variant:"delta",tag:"p",textColor:"neutral600",children:i({id:j("modalForm.empty.heading"),defaultMessage:"Nothing in here yet."})}),u.jsx(ce,{paddingTop:4,children:u.jsx(ge,{variant:"delta",tag:"p",textColor:"neutral600",children:i({id:j("modalForm.empty.sub-heading"),defaultMessage:"Find what you are looking for through a wide range of extensions."})})})]})}),u.jsx(Py,{tag:qy,to:`/marketplace?${q1.stringify({categories:["Custom fields"]})}`,variant:"secondary",startIcon:u.jsx(Zn,{}),children:i({id:j("modalForm.empty.button"),defaultMessage:"Add custom fields"})})]})})]})},B1=()=>{const{formatMessage:i}=be(),r=Qr("CustomFieldsList",c=>c.customFields.getAll),s=Object.entries(r());if(!s.length)return u.jsx(W1,{});const d=s.sort((c,h)=>c[1].name>h[1].name?1:-1);return u.jsx(Jo,{tagName:"button",children:u.jsxs(ae,{direction:"column",alignItems:"stretch",gap:3,children:[u.jsx(An.Root,{gap:3,children:d.map(([c,h])=>u.jsx(An.Item,{col:6,direction:"column",alignItems:"stretch",children:u.jsx(s1,{customFieldUid:c,customField:h},c)},c))}),u.jsx(dc,{href:"https://docs.strapi.io/developer-docs/latest/development/custom-fields.html",isExternal:!0,children:i({id:j("modalForm.tabs.custom.howToLink"),defaultMessage:"How to add custom fields"})})]})})},V1=({attributes:i,forTarget:r,kind:s})=>{const{formatMessage:d}=be(),c=j("modalForm.tabs.default"),h=j("modalForm.tabs.custom"),p=r.includes("component")?"component":s,m=j(`modalForm.sub-header.chooseAttribute.${p}`);return u.jsx(Rn.Body,{children:u.jsxs(Dt.Root,{variant:"simple",defaultValue:"default",children:[u.jsxs(ae,{justifyContent:"space-between",children:[u.jsx(ge,{variant:"beta",tag:"h2",children:d({id:m,defaultMessage:"Select a field"})}),u.jsxs(Dt.List,{children:[u.jsx(Dt.Trigger,{value:"default",children:d({id:c,defaultMessage:"Default"})}),u.jsx(Dt.Trigger,{value:"custom",children:d({id:h,defaultMessage:"Custom"})})]})]}),u.jsx(ti,{marginBottom:6}),u.jsx(Dt.Content,{value:"default",children:u.jsx(o1,{attributes:i})}),u.jsx(Dt.Content,{value:"custom",children:u.jsx(B1,{})})]})})},H1=({intlLabel:i,name:r,options:s,onChange:d,value:c=null})=>{const{formatMessage:h}=be(),p=i.id?h({id:i.id,defaultMessage:i.defaultMessage},{...i.values}):r,m=g=>{let v="";g==="true"&&(v=!0),g==="false"&&(v=!1),d({target:{name:r,value:v,type:"select-default-boolean"}})};return u.jsxs(ie.Root,{name:r,children:[u.jsx(ie.Label,{children:p}),u.jsx(bn,{onChange:m,value:(c===null?"":c).toString(),children:s.map(({metadatas:{intlLabel:g,disabled:v,hidden:_},key:M,value:E})=>u.jsx(wt,{value:E,disabled:v,hidden:_,children:g.defaultMessage},M))})]})},G1=Tt(ae)`
  position: relative;
  align-items: stretch;

  label {
    max-width: 50%;
    cursor: pointer;
    user-select: none;
    flex: 1;

    ${fc()}
  }

  input {
    position: absolute;
    opacity: 0;
  }

  .option {
    height: 100%;
    will-change: transform, opacity;
    background: ${({theme:i})=>i.colors.neutral0};
    border: 1px solid ${({theme:i})=>i.colors.neutral200};
    border-radius: ${({theme:i})=>i.borderRadius};

    .checkmark {
      position: relative;
      display: block;
      will-change: transform;
      background: ${({theme:i})=>i.colors.neutral0};
      width: ${({theme:i})=>i.spaces[5]};
      height: ${({theme:i})=>i.spaces[5]};
      border: solid 1px ${({theme:i})=>i.colors.neutral300};
      border-radius: 50%;

      &:before,
      &:after {
        content: '';
        display: block;
        border-radius: 50%;
        width: ${({theme:i})=>i.spaces[3]};
        height: ${({theme:i})=>i.spaces[3]};
        position: absolute;
        top: 3px;
        left: 3px;
      }

      &:after {
        transform: scale(0);
        transition: inherit;
        will-change: transform;
      }
    }
  }

  .container input:checked ~ div {
    background: ${({theme:i})=>i.colors.primary100};
    color: ${({theme:i})=>i.colors.primary600};
    .checkmark {
      border: solid 1px ${({theme:i})=>i.colors.primary600};
      &::after {
        background: ${({theme:i})=>i.colors.primary600};
        transform: scale(1);
      }
    }
  }
`,ns=({intlLabel:i,name:r,onChange:s,radios:d=[],value:c})=>{const{formatMessage:h}=be();return u.jsxs(ae,{direction:"column",alignItems:"stretch",gap:2,children:[u.jsx(ge,{variant:"pi",fontWeight:"bold",textColor:"neutral800",htmlFor:r,tag:"label",children:h(i)}),u.jsx(G1,{gap:4,alignItems:"stretch",children:d.map(p=>u.jsxs("label",{htmlFor:p.value.toString(),className:"container",children:[u.jsx("input",{id:p.value.toString(),name:r,className:"option-input",checked:p.value===c,value:p.value,onChange:s,type:"radio"},p.value),u.jsx(ce,{className:"option",padding:4,children:u.jsxs(ae,{children:[u.jsx(ce,{paddingRight:4,children:u.jsx("span",{className:"checkmark"})}),u.jsxs(ae,{direction:"column",alignItems:"stretch",gap:2,children:[u.jsx(ge,{fontWeight:"bold",children:h(p.title)}),u.jsx(ge,{variant:"pi",textColor:"neutral600",children:h(p.description)})]})]})})]},p.value))})]})},Z1=({onChange:i,name:r,intlLabel:s,...d})=>{const c=h=>{const p=h.target.value!=="false";i({target:{name:r,value:p,type:"boolean-radio-group"}})};return u.jsx(ns,{...d,name:r,onChange:c,intlLabel:s})},K1=({error:i,intlLabel:r,modifiedData:s,name:d,onChange:c,value:h=null})=>{const{formatMessage:p}=be(),m=r.id?p({id:r.id,defaultMessage:r.defaultMessage},{...r.values}):d,g=s.type==="biginteger"?"text":"number",v=!s.type,_=i?p({id:i,defaultMessage:i}):"";return u.jsxs(ae,{direction:"column",alignItems:"stretch",gap:2,children:[u.jsx(Xo,{id:d,name:d,onCheckedChange:M=>{c({target:{name:d,value:M?g==="text"?"0":0:null}})},checked:h!==null,children:m}),h!==null&&u.jsx(ce,{paddingLeft:6,style:{maxWidth:"200px"},children:g==="text"?u.jsxs(ie.Root,{error:_,name:d,children:[u.jsx(Yn,{"aria-label":m,disabled:v,onChange:c,value:h===null?"":h}),u.jsx(ie.Error,{})]}):u.jsxs(ie.Root,{error:_,name:d,children:[u.jsx(pc,{"aria-label":m,disabled:v,onValueChange:M=>{c({target:{name:d,value:M??0,type:g}})},value:h||0}),u.jsx(ie.Error,{})]})})]})},Y1=({onChange:i,...r})=>{const{formatMessage:s}=be(),{toggleNotification:d}=Qo(),c=h=>{d({type:"info",message:s({id:j("contentType.kind.change.warning"),defaultMessage:"You just changed the kind of a content type: API will be reset (routes, controllers, and services will be overwritten)."})}),i(h)};return u.jsx(ns,{...r,onChange:c})},Q1=({description:i,disabled:r=!1,intlLabel:s,isCreating:d,name:c,onChange:h,value:p=!1})=>{const{formatMessage:m}=be(),[g,v]=G.useState(!1),_=s.id?m({id:s.id,defaultMessage:s.defaultMessage},{...s.values}):c,M=i?m({id:i.id,defaultMessage:i.defaultMessage},{...i.values}):"",E=()=>{h({target:{name:c,value:!1}}),v(!1)},P=T=>{if(!T&&!d){v(!0);return}h({target:{name:c,value:!!T}})};return u.jsxs(u.Fragment,{children:[u.jsxs(ie.Root,{hint:M,name:c,children:[u.jsx(Xo,{checked:p,disabled:r,onCheckedChange:P,children:_}),u.jsx(ie.Hint,{})]}),u.jsx(Jn.Root,{open:g,onOpenChange:T=>v(T),children:u.jsx(ea,{endAction:u.jsx(Ue,{onClick:E,variant:"danger",width:"100%",justifyContent:"center",children:m({id:j("popUpWarning.draft-publish.button.confirm"),defaultMessage:"Yes, disable"})}),children:m({id:j("popUpWarning.draft-publish.message"),defaultMessage:"If you disable the draft & publish, your drafts will be deleted."})})})]})},J1=({deleteComponent:i,deleteContentType:r,isAttributeModal:s,isCustomFieldModal:d,isComponentAttribute:c,isComponentToDzModal:h,isContentTypeModal:p,isCreatingComponent:m,isCreatingComponentAttribute:g,isCreatingComponentInDz:v,isCreatingComponentWhileAddingAField:_,isCreatingContentType:M,isCreatingDz:E,isComponentModal:P,isDzAttribute:T,isEditingAttribute:D,isInFirstComponentStep:$,onSubmitAddComponentAttribute:R,onSubmitAddComponentToDz:O,onSubmitCreateContentType:N,onSubmitCreateComponent:Y,onSubmitCreateDz:I,onSubmitEditAttribute:te,onSubmitEditComponent:le,onSubmitEditContentType:Ce,onSubmitEditCustomFieldAttribute:Fe,onSubmitEditDz:we,onClickFinish:Ye})=>{const{formatMessage:re}=be();return h?v?u.jsx(Ue,{variant:"secondary",type:"submit",onClick:B=>{B.preventDefault(),O(B,!0)},startIcon:u.jsx(Zn,{}),children:re({id:j("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"})}):u.jsx(Ue,{variant:"default",type:"submit",onClick:B=>{B.preventDefault(),O(B,!1)},children:re({id:"global.finish",defaultMessage:"Finish"})}):s&&T&&!E?u.jsx(Ue,{variant:"default",type:"submit",onClick:B=>{B.preventDefault(),Ye(),we(B,!1)},children:re({id:"global.finish",defaultMessage:"Finish"})}):s&&T&&E?u.jsx(u.Fragment,{children:u.jsx(Ue,{variant:"secondary",type:"submit",onClick:B=>{B.preventDefault(),I(B,!0)},startIcon:u.jsx(Zn,{}),children:re({id:j("form.button.add-components-to-dynamiczone"),defaultMessage:"Add components to the zone"})})}):s&&c?$?u.jsx(Ue,{variant:"secondary",type:"submit",onClick:B=>{B.preventDefault(),R(B,!0)},children:re(g?{id:j("form.button.configure-component"),defaultMessage:"Configure the component"}:{id:j("form.button.select-component"),defaultMessage:"Configure the component"})}):u.jsxs(ae,{gap:2,children:[u.jsx(Ue,{variant:"secondary",type:"submit",onClick:B=>{B.preventDefault(),R(B,!0)},startIcon:u.jsx(Zn,{}),children:re(_?{id:j("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"}:{id:j("form.button.add-field"),defaultMessage:"Add another field"})}),u.jsx(Ue,{variant:"default",type:"button",onClick:B=>{B.preventDefault(),Ye(),R(B,!1)},children:re({id:"global.finish",defaultMessage:"Finish"})})]}):s&&!c&&!T?u.jsxs(ae,{gap:2,children:[u.jsx(Ue,{type:D?"button":"submit",variant:"secondary",onClick:B=>{B.preventDefault(),te(B,!0)},startIcon:u.jsx(Zn,{}),children:re({id:j("form.button.add-field"),defaultMessage:"Add another field"})}),u.jsx(Ue,{type:D?"submit":"button",variant:"default",onClick:B=>{B.preventDefault(),Ye(),te(B,!1)},children:re({id:"global.finish",defaultMessage:"Finish"})})]}):p?u.jsxs(ae,{gap:2,children:[!M&&u.jsxs(u.Fragment,{children:[u.jsx(Ue,{type:"button",variant:"danger",onClick:B=>{B.preventDefault(),r()},children:re({id:"global.delete",defaultMessage:"Delete"})}),u.jsx(Ue,{type:"submit",variant:"default",onClick:B=>{B.preventDefault(),Ce(B,!1)},children:re({id:"global.finish",defaultMessage:"Finish"})})]}),M&&u.jsx(Ue,{type:"submit",variant:"secondary",onClick:B=>{B.preventDefault(),N(B,!0)},children:re({id:"global.continue",defaultMessage:"Continue"})})]}):P?u.jsxs(ae,{gap:2,children:[!m&&u.jsxs(u.Fragment,{children:[u.jsx(Ue,{type:"button",variant:"danger",onClick:B=>{B.preventDefault(),i()},children:re({id:"global.delete",defaultMessage:"Delete"})}),u.jsx(Ue,{type:"submit",variant:"default",onClick:B=>{B.preventDefault(),le(B,!1)},children:re({id:"global.finish",defaultMessage:"Finish"})})]}),m&&u.jsx(Ue,{type:"submit",variant:"secondary",onClick:B=>{B.preventDefault(),Y(B,!0)},children:re({id:"global.continue",defaultMessage:"Continue"})})]}):d?u.jsxs(ae,{gap:2,children:[u.jsx(Ue,{type:D?"button":"submit",variant:"secondary",onClick:B=>{B.preventDefault(),Fe(B,!0)},startIcon:u.jsx(Zn,{}),children:re({id:j("form.button.add-field"),defaultMessage:"Add another field"})}),u.jsx(Ue,{type:D?"submit":"button",variant:"default",onClick:B=>{B.preventDefault(),Ye(),Fe(B,!1)},children:re({id:"global.finish",defaultMessage:"Finish"})})]}):null},X1=({actionType:i=null,attributeName:r,attributeType:s,contentTypeKind:d,dynamicZoneTarget:c,forTarget:h,modalType:p=null,targetUid:m,customFieldUid:g=null,showBackLink:v=!1})=>{const{formatMessage:_}=be(),{components:M,contentTypes:E}=nn(),{onOpenModalAddField:P}=Cr();let T="component",D=[];const $=h==="component"?M[m]:E[m],R=$?.info.displayName;if(p==="contentType"&&(T=d),["component"].includes(p||"")&&(T="component"),["component","contentType"].includes(p||"")){let N=j(`modalForm.component.header-${i}`);return p==="contentType"&&(N=j(`modalForm.${d}.header-create`)),i==="edit"&&(N=j("modalForm.header-edit")),u.jsx(Rn.Header,{children:u.jsxs(ae,{children:[u.jsx(ce,{children:u.jsx(Xr,{type:T})}),u.jsx(ce,{paddingLeft:3,children:u.jsx(Rn.Title,{children:_({id:N},{name:R})})})]})})}return D=[{label:R,info:{category:"category"in $&&$?.category||"",name:$?.info?.displayName}}],p==="chooseAttribute"&&(T=h==="component"?"component":"kind"in $?$.kind:""),p==="addComponentToDynamicZone"&&(T="dynamiczone",D.push({label:c})),(p==="attribute"||p==="customField")&&(T=s,D.push({label:r})),u.jsx(Rn.Header,{children:u.jsxs(ae,{gap:3,children:[v&&u.jsx(dc,{"aria-label":_({id:j("modalForm.header.back"),defaultMessage:"Back"}),startIcon:u.jsx(mc,{}),onClick:()=>P({forTarget:h,targetUid:m}),href:"#back",isExternal:!1}),u.jsx(Xr,{type:T,customField:g}),u.jsx(Uy,{label:D.map(({label:N})=>N).join(","),children:D.map(({label:N,info:Y},I,te)=>{if(N=Qn(N),!N)return null;const le=`${N}.${I}`;return Y?.category&&(N=`${N} (${Qn(Y.category)} - ${Qn(Y.name)})`),u.jsx(zy,{isCurrent:I===te.length-1,children:N},le)})})]})})},eC=({modalType:i,forTarget:r,kind:s,actionType:d,step:c})=>{switch(i){case"chooseAttribute":return j(`modalForm.sub-header.chooseAttribute.${r?.includes("component")?"component":s||"collectionType"}`);case"attribute":return j(`modalForm.sub-header.attribute.${d}${c!=="null"&&c!==null&&d!=="edit"?".step":""}`);case"customField":return j(`modalForm.sub-header.attribute.${d}`);case"addComponentToDynamicZone":return j("modalForm.sub-header.addComponentToDynamicZone");default:return j("configurations")}},tC=({actionType:i,modalType:r,forTarget:s,kind:d,step:c,attributeType:h,attributeName:p,customField:m})=>{const{formatMessage:g}=be(),v=r==="customField"?m?.intlLabel:{id:j(`attribute.${h}`)};return u.jsxs(ae,{direction:"column",alignItems:"flex-start",paddingBottom:1,gap:1,children:[u.jsx(ge,{tag:"h2",variant:"beta",children:g({id:eC({actionType:i,forTarget:s,kind:d,step:c,modalType:r}),defaultMessage:"Add new field"},{type:v?Qn(g(v)):"",name:Qn(p),step:c})}),u.jsx(ge,{variant:"pi",textColor:"neutral600",children:g({id:j(`attribute.${h}.description`),defaultMessage:"A type for modeling data"})})]})},Uc={alien:Wx,apps:zx,archive:Ux,arrowDown:qx,arrowLeft:mc,arrowRight:Px,arrowUp:Dx,attachment:Lx,bell:Ix,bold:Ex,book:Ox,briefcase:$x,brush:ko,bulletList:Nx,calendar:Sx,car:Rx,cast:Ax,chartBubble:kx,chartCircle:Fx,chartPie:Mx,check:Tx,clock:wx,cloud:jx,code:_x,cog:Cx,collapse:xx,command:vx,connector:yx,crop:bx,crown:gx,cup:hx,cursor:mx,dashboard:px,database:fx,discuss:dx,doctor:cx,earth:lx,emotionHappy:ux,emotionUnhappy:sx,envelop:ox,exit:ix,expand:ax,eye:_c,feather:Rl,file:rx,fileError:nx,filePdf:tx,filter:ex,folder:Xv,gate:Jv,gift:Qv,globe:Yv,grid:Kv,handHeart:Zv,hashtag:Gv,headphone:Hv,heart:Vv,house:Bv,information:Wv,italic:zv,key:Uv,landscape:qv,layer:Pv,layout:Dv,lightbulb:Lv,link:Iv,lock:Ev,magic:Ov,manyToMany:Cc,manyToOne:xc,manyWays:vc,medium:$v,message:Nv,microphone:Sv,monitor:Rv,moon:Av,music:kv,oneToMany:yc,oneToOne:bc,oneWay:gc,paint:ko,paintBrush:ko,paperPlane:Fv,pencil:Mv,phone:Tv,picture:wv,pin:jv,pinMap:_v,plane:Cv,play:xv,plus:Zn,priceTag:vv,puzzle:yv,question:bv,quote:gv,refresh:Yo,restaurant:hv,rocket:mv,rotate:pv,scissors:fv,search:hc,seed:dv,server:cv,shield:lv,shirt:uv,shoppingCart:sv,slideshow:ov,stack:iv,star:av,store:rv,strikeThrough:nv,sun:tv,television:ev,thumbDown:Xy,thumbUp:Jy,train:Qy,twitter:Yy,typhoon:Ky,underline:Zy,user:Gy,volumeMute:Hy,volumeUp:Vy,walk:By,wheelchair:Wy,write:Rl},nC=Tt(ae)`
  label {
    ${fc()}
    border-radius: ${({theme:i})=>i.borderRadius};
    border: 1px solid ${({theme:i})=>i.colors.neutral100};
  }
`,rC=({iconKey:i,name:r,onChange:s,isSelected:d,ariaLabel:c})=>{const h=Uc[i];return u.jsx(ie.Root,{name:r,required:!1,children:u.jsxs(ie.Label,{children:[u.jsxs(rc,{children:[c,u.jsx(ie.Input,{type:"radio",checked:d,onChange:s,value:i,"aria-checked":d})]}),u.jsx(ri,{label:i,children:u.jsx(ae,{padding:2,cursor:"pointer",hasRadius:!0,background:d?"primary200":void 0,children:u.jsx(h,{width:"2rem",height:"2rem",fill:d?"primary600":"neutral300"})})})]})})},aC=({intlLabel:i,name:r,onChange:s,value:d=""})=>{const{formatMessage:c}=be(),[h,p]=G.useState(!1),[m,g]=G.useState(""),v=Object.keys(Uc),[_,M]=G.useState(v),E=G.useRef(null),P=G.useRef(null),T=()=>{p(!h)},D=({target:{value:O}})=>{g(O),M(()=>v.filter(N=>N.toLowerCase().includes(O.toLowerCase())))},$=()=>{T(),g(""),M(v)},R=()=>{s({target:{name:r,value:""}})};return G.useEffect(()=>{h&&P.current?.focus()},[h]),u.jsxs(u.Fragment,{children:[u.jsxs(ae,{justifyContent:"space-between",paddingBottom:2,children:[u.jsx(ge,{variant:"pi",fontWeight:"bold",textColor:"neutral800",tag:"label",children:c(i)}),u.jsxs(ae,{gap:1,children:[h?u.jsx(ac,{ref:P,name:"searchbar",placeholder:c({id:j("ComponentIconPicker.search.placeholder"),defaultMessage:"Search for an icon"}),onBlur:()=>{m||T()},onChange:D,value:m,onClear:$,clearLabel:c({id:j("IconPicker.search.clear.label"),defaultMessage:"Clear the icon search"}),children:c({id:j("IconPicker.search.placeholder.label"),defaultMessage:"Search for an icon"})}):u.jsx(Uo,{ref:E,onClick:T,withTooltip:!1,label:c({id:j("IconPicker.search.button.label"),defaultMessage:"Search icon button"}),variant:"ghost",children:u.jsx(hc,{})}),d&&u.jsx(ri,{label:c({id:j("IconPicker.remove.tooltip"),defaultMessage:"Remove the selected icon"}),children:u.jsx(Uo,{onClick:R,withTooltip:!1,label:c({id:j("IconPicker.remove.button"),defaultMessage:"Remove the selected icon"}),variant:"ghost",children:u.jsx(jc,{})})})]})]}),u.jsx(nC,{position:"relative",padding:1,background:"neutral100",hasRadius:!0,wrap:"wrap",gap:2,maxHeight:"126px",overflow:"auto",textAlign:"center",children:_.length>0?_.map(O=>u.jsx(rC,{iconKey:O,name:r,onChange:s,isSelected:O===d,ariaLabel:c({id:j("IconPicker.icon.label"),defaultMessage:"Select {icon} icon"},{icon:O})},O)):u.jsx(ce,{padding:4,grow:2,children:u.jsx(ge,{variant:"delta",textColor:"neutral600",textAlign:"center",children:c({id:j("IconPicker.emptyState.label"),defaultMessage:"No icon found"})})})})]})},iC=({description:i,error:r,intlLabel:s,modifiedData:d,name:c,onChange:h,value:p})=>{const{formatMessage:m}=be(),g=G.useRef(h),v=d?.displayName||"",_=G.useRef(v),M=G.useRef(p);G.useEffect(()=>{if(v&&v!==_.current){const D=wc(v);let $=D;try{$=Ja(D,2)}catch{}g.current({target:{name:c,value:$}}),M.current=$,_.current=v}else v||(g.current({target:{name:c,value:""}}),M.current="",_.current="")},[v,c,p]);const E=r?m({id:r,defaultMessage:r}):"",P=i?m({id:i.id,defaultMessage:i.defaultMessage},{...i.values}):"",T=m(s);return u.jsxs(ie.Root,{error:E,hint:P,name:c,children:[u.jsx(ie.Label,{children:T}),u.jsx(Yn,{onChange:h,value:p||""}),u.jsx(ie.Error,{})]})},Dl=i=>{if(i instanceof Date&&Pl(i))return i;if(typeof i=="string"||typeof i=="number"){const r=new Date(i);if(Pl(r))return r}},Pl=i=>!isNaN(i.getTime()),oC=i=>{const[r,s]=i.split(":");return`${r}:${s}`},sC=i=>i.split(":").length===2?`${i}:00.000`:i,uC=i=>{if(i)return i.split(":").length>2?oC(i):i},lC=i=>{if(i)return sC(i)},cC=({value:i})=>uC(i),ql=(i,r,s,d)=>{const c=lC(d);i({target:{name:r,value:c,type:s}})},dC=({autoComplete:i,customInputs:r,description:s,disabled:d,intlLabel:c,labelAction:h,error:p,name:m,onChange:g,onDelete:v,options:_=[],placeholder:M,required:E,step:P,type:T,value:D,isNullable:$,autoFocus:R,attribute:O,attributeName:N,conditionFields:Y,...I})=>{const{formatMessage:te}=be(),le=(Q,he)=>{if(Q&&(he==="minLength"&&he in Q||he==="maxLength"&&he in Q||he==="max"&&he in Q||he==="min"&&he in Q))return Q[he]},{hint:Ce}=fC({description:s,fieldSchema:{minLength:le(O,"minLength"),maxLength:le(O,"maxLength"),max:le(O,"max"),min:le(O,"min")},type:O?.type||T}),[Fe,we]=G.useState(!1),Ye=r?r[T]:null,re=D??void 0,B=re??"";function Vt(Q){if(!Q)return null;if(typeof Q=="string")return te({id:Q,defaultMessage:Q});const he={...Q.values};return te({id:Q.id,defaultMessage:Q?.defaultMessage??Q.id},he)}const Te=Vt(p)??void 0;if(Ye)return u.jsx(Ye,{...I,attribute:O,description:s,hint:Ce,disabled:d,intlLabel:c,labelAction:h,error:Te||"",name:m,onChange:g,onDelete:v,options:_,required:E,placeholder:M,type:T,value:re,autoFocus:R,attributeName:N,conditionFields:Y});const rt=c.id?te({id:c.id,defaultMessage:c.defaultMessage},{...c.values}):m,Qe=M?te({id:M.id,defaultMessage:M.defaultMessage},{...M.values}):"",yn=()=>{switch(T){case"json":return u.jsx(Kx,{value:re,disabled:d,onChange:Q=>{const he=O&&"required"in O&&!O?.required&&!Q.length?null:Q;g({target:{name:m,value:he}},!1)},minHeight:"25.2rem",maxHeight:"50.4rem"});case"bool":return u.jsx(Zx,{checked:D===null?null:D||!1,disabled:d,offLabel:te({id:"app.components.ToggleCheckbox.off-label",defaultMessage:"False"}),onLabel:te({id:"app.components.ToggleCheckbox.on-label",defaultMessage:"True"}),onChange:Q=>{g({target:{name:m,value:Q.target.checked}})}});case"checkbox":return u.jsx(Xo,{disabled:d,onCheckedChange:Q=>{g({target:{name:m,value:Q}})},checked:!!re,children:rt});case"datetime":{const Q=Dl(re);return u.jsx(Gx,{clearLabel:te({id:"clearLabel",defaultMessage:"Clear"}),disabled:d,onChange:he=>{const z=he?he.toISOString():null;g({target:{name:m,value:z,type:T}})},onClear:()=>g({target:{name:m,value:null,type:T}}),placeholder:Qe,value:Q})}case"date":{const Q=Dl(re);return u.jsx(Hx,{clearLabel:te({id:"clearLabel",defaultMessage:"Clear"}),disabled:d,onChange:he=>{g({target:{name:m,value:he?S0(he,{representation:"date"}):null,type:T}})},onClear:()=>g({target:{name:m,value:null,type:T}}),placeholder:Qe,value:Q})}case"number":return u.jsx(pc,{disabled:d,onValueChange:Q=>{g({target:{name:m,value:Q,type:T}})},placeholder:Qe,step:P,value:re,autoFocus:R});case"email":return u.jsx(Yn,{autoComplete:i,disabled:d,onChange:Q=>{g({target:{name:m,value:Q.target.value,type:T}})},placeholder:Qe,type:"email",value:B,autoFocus:R});case"timestamp":case"text":case"string":return u.jsx(Yn,{autoComplete:i,disabled:d,onChange:Q=>{g({target:{name:m,value:Q.target.value,type:T}})},placeholder:Qe,type:"text",value:B,autoFocus:R});case"password":return u.jsx(Yn,{autoComplete:i,disabled:d,endAction:u.jsx("button",{"aria-label":te({id:"Auth.form.password.show-password",defaultMessage:"Show password"}),onClick:()=>{we(Q=>!Q)},style:{border:"none",padding:0,background:"transparent"},type:"button",children:Fe?u.jsx(_c,{fill:"neutral500"}):u.jsx(Vx,{fill:"neutral500"})}),onChange:Q=>{g({target:{name:m,value:Q.target.value,type:T}})},placeholder:Qe,type:Fe?"text":"password",value:B});case"select":return u.jsx(bn,{disabled:d,onChange:Q=>{g({target:{name:m,value:Q,type:"select"}})},placeholder:Qe,value:re,children:_.map(({metadatas:{intlLabel:Q,disabled:he,hidden:z},key:ze,value:He})=>u.jsx(wt,{value:He,disabled:he,hidden:z,children:te(Q)},ze))});case"textarea":return u.jsx(Tc,{disabled:d,onChange:Q=>g({target:{name:m,value:Q.target.value,type:T}}),placeholder:Qe,value:B});case"time":{const Q=cC({value:re});return u.jsx(Bx,{clearLabel:te({id:"clearLabel",defaultMessage:"Clear"}),disabled:d,onChange:he=>ql(g,m,T,he),onClear:()=>ql(g,m,T,void 0),value:Q})}default:return u.jsx(Yn,{disabled:!0,placeholder:"Not supported",type:"text",value:""})}};return u.jsxs(ie.Root,{error:Te,name:m,hint:Ce,required:E,children:[T!=="checkbox"?u.jsx(ie.Label,{action:h,children:rt}):null,yn(),u.jsx(ie.Error,{}),u.jsx(ie.Hint,{})]})},fC=({description:i,fieldSchema:r,type:s})=>{const{formatMessage:d}=be(),c=()=>i?.id?d({id:i.id,defaultMessage:i.defaultMessage},{...i.values}):"";return{hint:(()=>{const{maximum:p,minimum:m}=mC(r),g=pC({type:s,minimum:m,maximum:p}),v=typeof m=="number",_=typeof p=="number",M=_&&v,E=_||v;return!i?.id&&!E?"":d({id:"content-manager.form.Input.hint.text",defaultMessage:"{min, select, undefined {} other {min. {min}}}{divider}{max, select, undefined {} other {max. {max}}}{unit}{br}{description}"},{min:m,max:p,description:c(),unit:g?.message&&E?d(g.message,g.values):null,divider:M?d({id:"content-manager.form.Input.hint.minMaxDivider",defaultMessage:" / "}):null,br:E?u.jsx("br",{}):null})})()}},pC=({type:i,minimum:r,maximum:s})=>{if(i&&["biginteger","integer","number"].includes(i))return{};const d=Math.max(r||0,s||0);return{message:{id:"content-manager.form.Input.hint.character.unit",defaultMessage:"{maxValue, plural, one { character} other { characters}}"},values:{maxValue:d}}},mC=i=>{if(!i)return{maximum:void 0,minimum:void 0};const{minLength:r,maxLength:s,max:d,min:c}=i;let h,p;const m=Number(c),g=Number(r);Number.isNaN(m)?Number.isNaN(g)||(h=g):h=m;const v=Number(d),_=Number(s);return Number.isNaN(v)?Number.isNaN(_)||(p=_):p=v,{maximum:p,minimum:h}},Bo=G.memo(dC,Qa),hC=({oneThatIsCreatingARelationWithAnother:i,target:r})=>{const{contentTypes:s,sortedContentTypesList:d}=nn(),c=ni(),h=d.filter(Oc),p=s[r];if(!p)return null;const m=({uid:g,plugin:v,title:_,restrictRelationsTo:M})=>()=>{const E=v?`${v}_${_}`:_;c(Ve.onChangeRelationTarget({target:{value:g,oneThatIsCreatingARelationWithAnother:i,selectedContentTypeFriendlyName:E,targetContentTypeAllowedRelations:M}}))};return u.jsxs(Bt.Root,{children:[u.jsx(gC,{children:`${p.info.displayName} ${p.plugin?`(from: ${p.plugin})`:""}`}),u.jsx(Bt.Content,{zIndex:"popover",children:h.map(({uid:g,title:v,restrictRelationsTo:_,plugin:M})=>u.jsxs(Bt.Item,{onSelect:m({uid:g,plugin:M,title:v,restrictRelationsTo:_}),children:[v," ",M&&u.jsxs(u.Fragment,{children:["(from: ",M,")"]})]},g))})]})},gC=Tt(Bt.Trigger)`
  max-width: 16.8rem;
  span {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
`,Ul=({disabled:i=!1,error:r,header:s,isMain:d=!1,name:c,onChange:h,oneThatIsCreatingARelationWithAnother:p="",target:m,value:g=""})=>u.jsxs(ce,{background:"neutral100",hasRadius:!0,borderColor:"neutral200",children:[u.jsx(ae,{paddingTop:d?4:1,paddingBottom:d?3:1,justifyContent:"center",children:d?u.jsx(ge,{variant:"pi",fontWeight:"bold",textColor:"neutral800",children:s}):u.jsx(hC,{target:m,oneThatIsCreatingARelationWithAnother:p})}),u.jsx(ti,{background:"neutral200"}),u.jsx(ce,{padding:4,children:u.jsx(Bo,{disabled:i,error:r?.id||null,intlLabel:{id:j("form.attribute.item.defineRelation.fieldName"),defaultMessage:"Field name"},name:c,onChange:h,type:"text",value:g})})]});var bC=Qx,yC=Yx,vC="[object RegExp]";function xC(i){return yC(i)&&bC(i)==vC}var CC=xC,_C=CC,jC=Jx,zl=Xx,Wl=zl&&zl.isRegExp,wC=Wl?jC(Wl):_C,TC=wC,MC=e0,FC=MC("length"),kC=FC,zc="\\ud800-\\udfff",AC="\\u0300-\\u036f",RC="\\ufe20-\\ufe2f",SC="\\u20d0-\\u20ff",NC=AC+RC+SC,$C="\\ufe0e\\ufe0f",OC="["+zc+"]",Vo="["+NC+"]",Ho="\\ud83c[\\udffb-\\udfff]",EC="(?:"+Vo+"|"+Ho+")",Wc="[^"+zc+"]",Bc="(?:\\ud83c[\\udde6-\\uddff]){2}",Vc="[\\ud800-\\udbff][\\udc00-\\udfff]",IC="\\u200d",Hc=EC+"?",Gc="["+$C+"]?",LC="(?:"+IC+"(?:"+[Wc,Bc,Vc].join("|")+")"+Gc+Hc+")*",DC=Gc+Hc+LC,PC="(?:"+[Wc+Vo+"?",Vo,Bc,Vc,OC].join("|")+")",Bl=RegExp(Ho+"(?="+Ho+")|"+PC+DC,"g");function qC(i){for(var r=Bl.lastIndex=0;Bl.test(i);)++r;return r}var UC=qC,zC=kC,WC=Mc,BC=UC;function VC(i){return WC(i)?BC(i):zC(i)}var HC=VC,Vl=r0,GC=o0,ZC=Mc,KC=t0,YC=TC,QC=HC,JC=i0,XC=n0,Hl=a0,e_=30,t_="...",n_=/\w*$/;function r_(i,r){var s=e_,d=t_;if(KC(r)){var c="separator"in r?r.separator:c;s="length"in r?XC(r.length):s,d="omission"in r?Vl(r.omission):d}i=Hl(i);var h=i.length;if(ZC(i)){var p=JC(i);h=p.length}if(s>=h)return i;var m=s-QC(d);if(m<1)return d;var g=p?GC(p,0,m).join(""):i.slice(0,m);if(c===void 0)return g+d;if(p&&(m+=g.length-m),YC(c)){if(i.slice(m).search(c)){var v,_=g;for(c.global||(c=RegExp(c.source,Hl(n_.exec(c))+"g")),c.lastIndex=0;v=c.exec(_);)var M=v.index;g=g.slice(0,M===void 0?m:M)}}else if(i.indexOf(Vl(c),m)!=m){var E=g.lastIndexOf(c);E>-1&&(g=g.slice(0,E))}return g+d}var a_=r_;const Gl=Fc(a_),i_=Tt(ce)`
  position: relative;
  width: 100%;
  &::before {
    content: '';
    position: absolute;
    top: calc(50% - 0px);
    height: 2px;
    width: 100%;
    background-color: ${({theme:i})=>i.colors.primary600};
    z-index: 0;
  }
`,o_=Tt(ce)`
  background: ${({theme:i,$isSelected:r})=>i.colors[r?"primary100":"neutral0"]};
  border: 1px solid
    ${({theme:i,$isSelected:r})=>i.colors[r?"primary700":"neutral200"]};
  border-radius: ${({theme:i})=>i.borderRadius};
  z-index: 1;
  flex: 0 0 2.4rem;
  svg {
    width: 2.4rem;
    height: 2.4rem;
    max-width: unset;
    path {
      fill: ${({theme:i,$isSelected:r})=>i.colors[r?"primary700":"neutral500"]};
    }
  }
  cursor: pointer;
  &:disabled {
    cursor: not-allowed;
    background: ${({theme:i})=>i.colors.neutral150};

    svg {
      path {
        fill: ${({theme:i})=>i.colors.neutral300};
      }
    }
  }
  display: flex;
  justify-content: center;
  align-items: center;
`,s_=Tt(ae)`
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
`,u_={oneWay:gc,oneToOne:bc,oneToMany:yc,manyToOne:xc,manyToMany:Cc,manyWay:vc},l_=["oneWay","oneToOne","oneToMany","manyToOne","manyToMany","manyWay"],c_=["oneWay","manyWay"],d_=({naturePickerType:i,oneThatIsCreatingARelationWithAnother:r,relationType:s,target:d,targetUid:c})=>{const h=ni(),{formatMessage:p}=be(),{contentTypes:m}=nn(),v=(i==="component"?"component":Ie(m,[c,"kind"],""))==="collectionType"?l_:c_,_=s==="manyToOne",M=Ie(m,[d,"info","displayName"],"unknown"),E=_?M:r,P=_?r:M,T=Ja(E,s==="manyToMany"?2:1),D=Ie(m,[d,"restrictRelationsTo"],null),$=Ja(P,["manyToMany","oneToMany","manyToOne","manyWay"].includes(s)?2:1);return s?u.jsxs(ae,{style:{flex:1},children:[u.jsx(i_,{children:u.jsx(ae,{paddingLeft:9,paddingRight:9,paddingTop:1,justifyContent:"center",children:u.jsx(Jo,{tagName:"button",children:u.jsx(ae,{gap:3,children:v.map(R=>{const O=u_[R],N=D===null||D.includes(R);return u.jsx(o_,{tag:"button",$isSelected:s===R,disabled:!N,onClick:()=>{N&&h(Ve.onChangeRelationType({target:{oneThatIsCreatingARelationWithAnother:r,value:R}}))},padding:2,type:"button","aria-label":p({id:j(`relation.${R}`)}),"aria-pressed":s===R,"data-relation-type":R,children:u.jsx(O,{"aria-hidden":"true"},R)},R)})})})})}),u.jsxs(s_,{justifyContent:"center",children:[u.jsxs(ge,{children:[Gl(T,{length:24})," "]}),u.jsxs(ge,{textColor:"primary600",children:[p({id:j(`relation.${s}`)})," "]}),u.jsx(ge,{children:Gl($,{length:24})})]})]}):null},f_=({formErrors:i,mainBoxHeader:r,modifiedData:s,naturePickerType:d,onChange:c,targetUid:h})=>{const p=es(s.relation,s.targetAttribute);return u.jsxs(ae,{style:{position:"relative"},children:[u.jsx(Ul,{isMain:!0,header:r,error:i?.name||null,name:"name",onChange:c,value:s?.name||""}),u.jsx(d_,{naturePickerType:d,oneThatIsCreatingARelationWithAnother:r,relationType:p,target:s.target,targetUid:h}),u.jsx(Ul,{disabled:["oneWay","manyWay"].includes(p),error:i?.targetAttribute||null,name:"targetAttribute",onChange:c,oneThatIsCreatingARelationWithAnother:r,target:s.target,value:s?.targetAttribute||""})]})},p_=({error:i=null,intlLabel:r,name:s,onChange:d,value:c=void 0,isCreating:h,dynamicZoneTarget:p})=>{const{formatMessage:m}=be(),{allComponentsCategories:g}=nn(),[v,_]=G.useState(g),M=i?m({id:i,defaultMessage:i}):"",E=m(r),P=D=>{d({target:{name:s,value:D,type:"select-category"}})},T=D=>{_($=>[...$,D]),P(D)};return u.jsxs(ie.Root,{error:M,name:s,children:[u.jsx(ie.Label,{children:E}),u.jsx(s0,{disabled:!h&&!p,onChange:P,onCreateOption:T,value:c,creatable:!0,children:v.map(D=>u.jsx(u0,{value:D,children:D},D))}),u.jsx(ie.Error,{})]})},Go=(i,r)=>r.find(s=>s.component===i),Zc=(i,r,s=0)=>{const d=Go(i,r);if(!d||!d.childComponents||d.childComponents.length===0)return s;let c=s;return d.childComponents.forEach(h=>{const p=Zc(h.component,r,s+1);p>c&&(c=p)}),c},Kc=(i,r)=>{const s=(h,p)=>{const m=[];if(m.push(p),!h.uidsOfAllParents)return m;for(const g of h.uidsOfAllParents){const v=Go(g,r);v&&m.push(...s(v,p+1))}return m},d=Go(i,r);return d?Math.max(...s(d,1)):0},m_=({error:i=null,intlLabel:r,isAddingAComponentToAnotherComponent:s,isCreating:d,isCreatingComponentWhileAddingAField:c,componentToCreate:h,name:p,onChange:m,targetUid:g,forTarget:v,value:_})=>{const{formatMessage:M}=be(),E=i?M({id:i,defaultMessage:i}):"",P=M(r),{componentsGroupedByCategory:T,componentsThatHaveOtherComponentInTheirAttributes:D,nestedComponents:$}=nn(),R=v==="component";let O=Object.entries(T).reduce((N,Y)=>{const[I,te]=Y,le=te.map(Ce=>({uid:Ce.uid,label:Ce.info.displayName,categoryName:I}));return[...N,...le]},[]);return s&&(O=O.filter(({uid:N})=>{const Y=Zc(N,D),I=Kc(g,$);return Y+I<=kc})),R&&(O=O.filter(N=>N.uid!==g)),c&&(O=[{uid:_,label:h?.displayName,categoryName:h?.category}]),u.jsxs(ie.Root,{error:E,name:p,children:[u.jsx(ie.Label,{children:P}),u.jsx(bn,{disabled:c||!d,onChange:N=>{m({target:{name:p,value:N,type:"select-category"}})},value:_||"",children:O.map(N=>u.jsx(wt,{value:N.uid,children:`${N.categoryName} - ${N.label}`},N.uid))}),u.jsx(ie.Error,{})]})},h_=({dynamicZoneTarget:i,intlLabel:r,name:s,onChange:d,value:c,targetUid:h})=>{const{formatMessage:p}=be(),{componentsGroupedByCategory:m,contentTypes:g}=nn(),v=zo(g[h].attributes,i);if(!v)return null;const _="components"in v?v?.components:[],M=Object.keys(m).reduce((T,D)=>{const $=m[D].filter(({uid:R})=>!_.includes(R));return $.length>0&&(T[D]=$),T},{}),E=Object.entries(M).reduce((T,D)=>{const[$,R]=D,O={label:$,children:R.map(({uid:N,info:{displayName:Y}})=>({label:Y,value:N}))};return T.push(O),T},[]),P=p({id:j("components.SelectComponents.displayed-value"),defaultMessage:"{number, plural, =0 {# components} one {# component} other {# components}} selected"},{number:c?.length??0});return u.jsxs(ie.Root,{name:s,children:[u.jsx(ie.Label,{children:p(r)}),u.jsx(cc,{id:"select1",customizeContent:()=>P,onChange:T=>{d({target:{name:s,value:T,type:"select-components"}})},options:E,value:c||[]})]})},g_=({intlLabel:i,error:r=void 0,modifiedData:s,name:d,onChange:c,options:h,value:p=""})=>{const{formatMessage:m}=be(),g=m(i),v=r?m({id:r,defaultMessage:r}):"",_=M=>{c({target:{name:d,value:M,type:"select"}}),p&&s.default!==void 0&&s.default!==null&&c({target:{name:"default",value:null}})};return u.jsxs(ie.Root,{error:v,name:d,children:[u.jsx(ie.Label,{children:g}),u.jsx(bn,{onChange:_,value:p||"",children:h.map(({metadatas:{intlLabel:M,disabled:E,hidden:P},key:T,value:D})=>u.jsx(wt,{value:D,disabled:E,hidden:P,children:m({id:M.id,defaultMessage:M.defaultMessage},M.values)},T))}),u.jsx(ie.Error,{})]})},b_=({intlLabel:i,error:r=void 0,modifiedData:s,name:d,onChange:c,options:h,value:p=""})=>{const{formatMessage:m}=be(),g=m(i),v=r?m({id:r,defaultMessage:r}):"",_=M=>{c({target:{name:d,value:M,type:"select"}}),p&&(M==="biginteger"&&p!=="biginteger"&&(s.default!==void 0&&s.default!==null&&c({target:{name:"default",value:null}}),s.max!==void 0&&s.max!==null&&c({target:{name:"max",value:null}}),s.min!==void 0&&s.min!==null&&c({target:{name:"min",value:null}})),typeof M=="string"&&["decimal","float","integer"].includes(M)&&p==="biginteger"&&(s.default!==void 0&&s.default!==null&&c({target:{name:"default",value:null}}),s.max!==void 0&&s.max!==null&&c({target:{name:"max",value:null}}),s.min!==void 0&&s.min!==null&&c({target:{name:"min",value:null}})))};return u.jsxs(ie.Root,{error:v,name:d,children:[u.jsx(ie.Label,{children:g}),u.jsx(bn,{onChange:_,value:p||"",children:h.map(({metadatas:{intlLabel:M,disabled:E,hidden:P},key:T,value:D})=>u.jsx(wt,{value:D,disabled:E,hidden:P,children:m(M)},T))}),u.jsx(ie.Error,{})]})},y_=({description:i=null,error:r=null,intlLabel:s,modifiedData:d,name:c,onChange:h,value:p=null})=>{const{formatMessage:m}=be(),g=G.useRef(h),v=G.useRef(p),_=G.useRef(d?.displayName||""),M=d?.displayName||"";G.useEffect(()=>{if(M&&M!==_.current){const D=wc(M);g.current({target:{name:c,value:D}}),v.current=D,_.current=M}else M||(g.current({target:{name:c,value:""}}),v.current="",_.current="")},[M,c,p]);const E=r?m({id:r,defaultMessage:r}):"",P=i?m({id:i.id,defaultMessage:i.defaultMessage},{...i.values}):"",T=m(s);return u.jsxs(ie.Root,{error:E,hint:P,name:c,children:[u.jsx(ie.Label,{children:T}),u.jsx(Yn,{onChange:h,value:p||""}),u.jsx(ie.Error,{}),u.jsx(ie.Hint,{})]})},mj=(i,r)=>{const s=[];return Object.entries(i).forEach(([d,c])=>{if(c.attributes){const h=Array.isArray(c.attributes)?c.attributes.reduce((p,m,g)=>(p[g.toString()]=m,p),{}):c.attributes;Object.entries(h).forEach(([p,m])=>{m.conditions?.visible&&Object.entries(m.conditions.visible).forEach(([,g])=>{const[v]=g;v&&v.var===r&&s.push({contentTypeUid:d,contentType:c.info.displayName,attribute:m.name||p})})})}}),s},v_=(i,r,s)=>{if(!i?.visible)return"";const[[d,c]]=Object.entries(i.visible),[h,p]=c,m=r.find(E=>E.name===h.var),g=m?m.name:h.var,v=d==="=="?"is":"is not",_=String(p);return`If ${g} ${v} ${_}, then ${d==="=="?"Show":"Hide"} ${s}`},x_=(i,r)=>i.filter(s=>{const d=s.type==="boolean"||s.type==="enumeration",c=s.name!==r;return d&&c}).map(s=>({name:s.name,type:s.type,enum:s.type==="enumeration"?s.enum:void 0})),Zl=({form:i,formErrors:r,genericInputProps:s,modifiedData:d,onChange:c})=>{const{formatMessage:h}=be();return u.jsx(u.Fragment,{children:i.map((p,m)=>p.items.length===0?null:u.jsxs(ce,{children:[p.sectionTitle&&u.jsx(ce,{paddingBottom:4,children:u.jsx(ge,{variant:"delta",tag:"h3",children:h(p.sectionTitle)})}),p.intlLabel&&u.jsx(ge,{variant:"pi",textColor:"neutral600",children:h(p.intlLabel)}),u.jsx(An.Root,{gap:4,children:p.items.map((g,v)=>{const _=`${m}.${v}`,M=Ie(d,g.name,void 0),E=Object.keys(r).find(T=>T===g.name),P=E?r[E].id:Ie(r,[...g.name.split(".").filter(T=>T!=="componentToCreate"),"id"],null);if(g.type==="pushRight")return u.jsx(An.Item,{col:g.size||6,direction:"column",alignItems:"stretch",children:u.jsx("div",{})},g.name||_);if(g.type==="condition-form"){const T=Ie(d,g.name),D=s.contentTypeSchema?.attributes||[];if(!s.contentTypeSchema)return console.warn("contentTypeSchema is undefined, skipping condition form"),null;const $=x_(D,d.name),R=h({id:"form.attribute.condition.no-fields",defaultMessage:"No boolean or enumeration fields available to set conditions on."});return u.jsx(An.Item,{col:g.size||12,direction:"column",alignItems:"stretch",children:!T||Object.keys(T).length===0?u.jsxs(ce,{children:[T&&Object.keys(T).length>0&&u.jsx(ge,{variant:"sigma",textColor:"neutral800",marginBottom:2,children:v_(T,$,s.attributeName||d.name)}),u.jsx(ri,{label:R,children:u.jsx(Ue,{marginTop:T&&Object.keys(T).length>0?0:4,fullWidth:!0,variant:"secondary",onClick:()=>{c({target:{name:g.name,value:{visible:{"==":[{var:""},""]}}}})},startIcon:u.jsx("span",{"aria-hidden":!0,children:"＋"}),disabled:$.length===0,children:h({id:"form.attribute.condition.apply",defaultMessage:"Apply condition"})})})]}):u.jsx(Bo,{...g,...s,error:P,onChange:c,value:M,autoFocus:v===0,attributeName:d.name,conditionFields:$,onDelete:()=>{c({target:{name:g.name}})}})},g.name||_)}return u.jsx(An.Item,{col:g.size||6,direction:"column",alignItems:"stretch",children:u.jsx(Bo,{...g,...s,error:P,onChange:c,value:M,autoFocus:v===0})},g.name||_)})})]},m))})},C_=({description:i=null,disabled:r=!1,error:s="",intlLabel:d,labelAction:c,name:h,onChange:p,placeholder:m=null,value:g=""})=>{const{formatMessage:v}=be(),_=s?v({id:s,defaultMessage:s}):"",M=i?v({id:i.id,defaultMessage:i.defaultMessage},{...i.values}):"",E=v(d),P=m?v({id:m.id,defaultMessage:m.defaultMessage},{...m.values}):"",T=Array.isArray(g)?g.join(`
`):"",D=$=>{const R=$.target.value.split(`
`);p({target:{name:h,value:R}})};return u.jsxs(ie.Root,{error:_,hint:M,name:h,children:[u.jsx(ie.Label,{action:c,children:E}),u.jsx(Tc,{disabled:r,onChange:D,placeholder:P,value:T}),u.jsx(ie.Error,{}),u.jsx(ie.Hint,{})]})},__=({disabled:i,tooltipMessage:r,onClick:s,marginTop:d=4})=>{const{formatMessage:c}=be(),h=u.jsx(Ue,{marginTop:d,fullWidth:!0,variant:"secondary",disabled:i,onClick:s,startIcon:u.jsx("span",{"aria-hidden":!0,children:"＋"}),children:c({id:"form.attribute.condition.apply",defaultMessage:"Apply condition"})});return r?u.jsx(ri,{description:r,children:h}):h},j_=Tt(Xr)`
  width: 16px !important;
  height: 16px !important;
  svg {
    width: 16px !important;
    height: 16px !important;
  }
`,w_=i=>{if(!i?.visible)return{dependsOn:"",operator:"is",value:"",action:"show"};const[[r,s]]=Object.entries(i.visible),[d,c]=s;return{dependsOn:d.var,operator:r==="=="?"is":"isNot",value:c,action:"show"}},T_=i=>{if(!i.dependsOn)return null;const r=Ac(),s={dependsOn:i.dependsOn,operator:i.operator,value:i.value};try{return r.validate(s),{visible:{[i.operator==="is"&&i.action==="show"||i.operator==="isNot"&&i.action==="hide"?"==":"!="]:[{var:i.dependsOn},i.value]}}}catch{return null}},M_=({name:i,value:r,onChange:s,onDelete:d,attributeName:c,conditionFields:h=[]})=>{const{formatMessage:p}=be(),[m,g]=G.useState(w_(r)),[v,_]=G.useState(!1),M=!!r?.visible;Array.isArray(h)||(h=[]);const E=h.find(I=>I.name===m.dependsOn),P=E?.type==="enumeration",T=I=>{g(I);const te=Ac(),le={dependsOn:I.dependsOn,operator:I.operator,value:I.value};try{te.validate(le);const Ce=I.operator==="is"&&I.action==="show"||I.operator==="isNot"&&I.action==="hide"?"==":"!=",Fe=I.dependsOn?{visible:{[Ce]:[{var:I.dependsOn},I.value]}}:null;Fe&&s({target:{name:i,value:Fe}})}catch{}},D=()=>{const I={dependsOn:"",operator:"is",value:"",action:"show"};g(I),s({target:{name:i,value:T_(I)}})},$=()=>{g({dependsOn:"",operator:"is",value:"",action:"show"}),s({target:{name:i,value:null}}),d(),_(!1)},R=I=>{const te=I?.toString()||"",Ce=h.find(we=>we.name===te)?.type==="enumeration",Fe={...m,dependsOn:te,value:te?Ce?"":!1:m.value};T(Fe)},O=I=>{const te=I?.toString()||"is",le={...m,operator:te};T(le)},N=I=>{const te=P?I?.toString():I?.toString()==="true",le={...m,value:te};T(le)},Y=I=>{const te=I?.toString()||"show",le={...m,action:te};T(le)};return M?u.jsx(ce,{marginTop:2,children:u.jsxs(ce,{background:"neutral0",hasRadius:!0,borderColor:"neutral200",borderWidth:.5,borderStyle:"solid",children:[u.jsxs(ae,{justifyContent:"space-between",alignItems:"center",padding:4,children:[u.jsx(ge,{variant:"sigma",textColor:"neutral800",children:p({id:j("form.attribute.condition.title"),defaultMessage:"Condition for {name}"},{name:u.jsx("strong",{children:c})})}),u.jsxs(Jn.Root,{open:v,onOpenChange:_,children:[u.jsx(Jn.Trigger,{children:u.jsx(Uo,{label:"Delete",children:u.jsx(jc,{})})}),u.jsx(ea,{onConfirm:$,children:p({id:j("popUpWarning.bodyMessage.delete-condition"),defaultMessage:"Are you sure you want to delete this condition?"})})]})]}),u.jsxs(ce,{background:"neutral100",padding:4,children:[u.jsx(ce,{paddingBottom:2,children:u.jsx(ge,{variant:"sigma",textColor:"neutral600",style:{textTransform:"uppercase",letterSpacing:1},children:p({id:j("form.attribute.condition.if"),defaultMessage:"IF"})})}),u.jsxs(ae,{gap:4,children:[u.jsx(ce,{minWidth:0,flex:1,children:u.jsx(ie.Root,{name:`${i}.field`,children:u.jsx(bn,{value:m.dependsOn,onChange:R,placeholder:p({id:j("form.attribute.condition.field"),defaultMessage:"field"}),children:h.map(I=>u.jsx(wt,{value:I.name,children:u.jsxs(ae,{gap:2,alignItems:"center",children:[u.jsx(j_,{type:I.type}),u.jsx("span",{children:I.name})]})},I.name))})})}),u.jsx(ce,{minWidth:0,flex:1,children:u.jsx(ie.Root,{name:`${i}.operator`,children:u.jsxs(bn,{value:m.operator,onChange:O,disabled:!m.dependsOn,placeholder:p({id:j("form.attribute.condition.operator"),defaultMessage:"condition"}),children:[u.jsx(wt,{value:"is",children:p({id:j("form.attribute.condition.operator.is"),defaultMessage:"is"})}),u.jsx(wt,{value:"isNot",children:p({id:j("form.attribute.condition.operator.isNot"),defaultMessage:"is not"})})]})})}),u.jsx(ce,{minWidth:0,flex:1,children:u.jsx(ie.Root,{name:`${i}.value`,children:u.jsx(bn,{value:m.value?.toString()||"",onChange:N,disabled:!m.dependsOn,placeholder:p({id:j("form.attribute.condition.value"),defaultMessage:"value"}),children:P&&E?.enum?E.enum.map(I=>u.jsx(wt,{value:I,children:I},I)):u.jsxs(u.Fragment,{children:[u.jsx(wt,{value:"true",children:p({id:j("form.attribute.condition.value.true"),defaultMessage:"true"})}),u.jsx(wt,{value:"false",children:p({id:j("form.attribute.condition.value.false"),defaultMessage:"false"})})]})})})})]})]}),u.jsxs(ce,{background:"neutral100",padding:4,children:[u.jsx(ce,{paddingBottom:4,children:u.jsx(ge,{variant:"sigma",textColor:"neutral600",style:{textTransform:"uppercase",letterSpacing:1},children:p({id:j("form.attribute.condition.then"),defaultMessage:"THEN"})})}),u.jsx(ce,{paddingBottom:4,children:u.jsx(ie.Root,{name:`${i}.action`,children:u.jsxs(bn,{value:m.action,onChange:Y,placeholder:p({id:j("form.attribute.condition.action"),defaultMessage:"action"}),children:[u.jsxs(wt,{value:"show",children:["Show ",u.jsx("span",{style:{fontWeight:"bold"},children:c||i})]}),u.jsxs(wt,{value:"hide",children:["Hide ",u.jsx("span",{style:{fontWeight:"bold"},children:c||i})]})]})})})]})]})}):u.jsx(ce,{padding:4,margin:4,hasRadius:!0,background:"neutral0",borderColor:"neutral200",children:u.jsx(__,{onClick:D})})},tn={name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:j("modalForm.attribute.form.base.name.description"),defaultMessage:"No space is allowed for the name of the attribute"}},F_={sections:[{sectionTitle:null,items:[tn]}]},xr={base(i=""){return[{sectionTitle:null,items:[{name:`${i}displayName`,type:"text",intlLabel:{id:j("contentType.displayName.label"),defaultMessage:"Display Name"}},{name:`${i}category`,type:"select-category",intlLabel:{id:j("modalForm.components.create-component.category.label"),defaultMessage:"Select a category or enter a name to create a new one"}}]},{sectionTitle:null,items:[{name:`${i}icon`,type:"icon-picker",size:12,intlLabel:{id:j("modalForm.components.icon.label"),defaultMessage:"Icon"}}]}]},advanced(){return[]}},Z={default:{name:"default",type:"text",intlLabel:{id:j("form.attribute.settings.default"),defaultMessage:"Default value"}},max:{name:"max",type:"checkbox-with-number-field",intlLabel:{id:j("form.attribute.item.maximum"),defaultMessage:"Maximum value"}},maxLength:{name:"maxLength",type:"checkbox-with-number-field",intlLabel:{id:j("form.attribute.item.maximumLength"),defaultMessage:"Maximum length"}},min:{name:"min",type:"checkbox-with-number-field",intlLabel:{id:j("form.attribute.item.minimum"),defaultMessage:"Minimum value"}},minLength:{name:"minLength",type:"checkbox-with-number-field",intlLabel:{id:j("form.attribute.item.minimumLength"),defaultMessage:"Minimum length"}},private:{name:"private",type:"checkbox",intlLabel:{id:j("form.attribute.item.privateField"),defaultMessage:"Private field"},description:{id:j("form.attribute.item.privateField.description"),defaultMessage:"This field will not show up in the API response"}},regex:{intlLabel:{id:j("form.attribute.item.text.regex"),defaultMessage:"RegExp pattern"},name:"regex",type:"text",description:{id:j("form.attribute.item.text.regex.description"),defaultMessage:"The text of the regular expression"}},required:{name:"required",type:"checkbox",intlLabel:{id:j("form.attribute.item.requiredField"),defaultMessage:"Required field"},description:{id:j("form.attribute.item.requiredField.description"),defaultMessage:"You won't be able to create an entry if this field is empty"}},unique:{name:"unique",type:"checkbox",intlLabel:{id:j("form.attribute.item.uniqueField"),defaultMessage:"Unique field"},description:{id:j("form.attribute.item.uniqueField.description"),defaultMessage:"You won't be able to create an entry if there is an existing entry with identical content"}}},st={sectionTitle:{id:j("form.attribute.condition.title"),defaultMessage:"Condition"},intlLabel:{id:j("form.attribute.condition.description"),defaultMessage:"Toggle field settings depending on the value of another boolean or enumeration field."},items:[{name:"conditions",type:"condition-form",intlLabel:{id:j("form.attribute.condition.label"),defaultMessage:"Conditions"},validations:{required:!0}}]},k_={blocks(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Z.required,Z.private]},st]}},boolean(){return{sections:[{sectionTitle:null,items:[{autoFocus:!0,type:"select-default-boolean",intlLabel:{id:j("form.attribute.settings.default"),defaultMessage:"Default value"},name:"default",options:[{value:"true",key:"true",metadatas:{intlLabel:{id:"true",defaultMessage:"true"}}},{value:"",key:"null",metadatas:{intlLabel:{id:"null",defaultMessage:"null"}}},{value:"false",key:"false",metadatas:{intlLabel:{id:"false",defaultMessage:"false"}}}]}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Z.required,Z.private]},st]}},component({repeatable:i},r){if(r==="1")return{sections:xr.advanced()};if(i){const s={...Z.min,intlLabel:{id:j("form.attribute.item.minimumComponents"),defaultMessage:"Minimum components"}},d={...Z.max,intlLabel:{id:j("form.attribute.item.maximumComponents"),defaultMessage:"Maximum components"}};return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Z.required,Z.private,s,d]},st]}}return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Z.required,Z.private]},st]}},date({type:i}){return{sections:[{sectionTitle:null,items:[{...Z.default,type:i||"date",value:null,withDefaultValue:!1,disabled:!i,autoFocus:!1}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Z.required,Z.unique,Z.private]},st]}},dynamiczone(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Z.required,Z.max,Z.min]},st]}},email(){return{sections:[{sectionTitle:null,items:[{...Z.default,type:"email"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Z.required,Z.unique,Z.maxLength,Z.minLength,Z.private]},st]}},enumeration(i){return{sections:[{sectionTitle:null,items:[{name:"default",type:"select",intlLabel:{id:j("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{},options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"}}},...(i.enum||[]).filter((r,s)=>i.enum.indexOf(r)===s&&r).map(r=>({key:r,value:r,metadatas:{intlLabel:{id:`${r}.no-override`,defaultMessage:r}}}))]},{intlLabel:{id:j("form.attribute.item.enumeration.graphql"),defaultMessage:"Name override for GraphQL"},name:"enumName",type:"text",validations:{},description:{id:j("form.attribute.item.enumeration.graphql.description"),defaultMessage:"Allows you to override the default generated name for GraphQL"}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Z.required,Z.private]},st]}},json(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Z.required,Z.private]},st]}},media(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:j("form.attribute.media.allowed-types"),defaultMessage:"Select allowed types of media"},name:"allowedTypes",type:"allowed-types-select",size:7,value:"",validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Z.required,Z.private]},st]}},number(i){const r=i.type==="decimal"||i.type==="float"?"any":1;return{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"default",type:i.type==="biginteger"?"text":"number",step:r,intlLabel:{id:j("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Z.required,Z.unique,Z.max,Z.min,Z.private]},st]}},password(){return{sections:[{sectionTitle:null,items:[Z.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Z.required,Z.maxLength,Z.minLength,Z.private]},st]}},relation(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Z.private]},st]}},richtext(){return{sections:[{sectionTitle:null,items:[Z.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Z.required,Z.maxLength,Z.minLength,Z.private]},st]}},text(){return{sections:[{sectionTitle:null,items:[Z.default,Z.regex]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Z.required,Z.unique,Z.maxLength,Z.minLength,Z.private]},st]}},uid(i){return{sections:[{sectionTitle:null,items:[{...Z.default,disabled:!!i.targetField,type:"text"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Z.required,Z.maxLength,Z.minLength,Z.private,Z.regex]},st]}}},Zo={intlLabel:{id:"global.type",defaultMessage:"Type"},name:"createComponent",type:"boolean-radio-group",size:12,radios:[{title:{id:j("form.attribute.component.option.create"),defaultMessage:"Create a new component"},description:{id:j("form.attribute.component.option.create.description"),defaultMessage:"A component is shared across types and components, it will be available and accessible everywhere."},value:!0},{title:{id:j("form.attribute.component.option.reuse-existing"),defaultMessage:"Use an existing component"},description:{id:j("form.attribute.component.option.reuse-existing.description"),defaultMessage:"Reuse a component already created to keep your data consistent across content-types."},value:!1}]},A_={component(i,r){if(r==="1"){const s=i.createComponent===!0?xr.base("componentToCreate."):[];return{sections:[{sectionTitle:null,items:[Zo]},...s]}}return{sections:[{sectionTitle:null,items:[tn,{name:"component",type:"select-component",intlLabel:{id:j("modalForm.attributes.select-component"),defaultMessage:"Select a component"},isMultiple:!1}]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"repeatable",type:"boolean-radio-group",size:12,radios:[{title:{id:j("form.attribute.component.option.repeatable"),defaultMessage:"Repeatable component"},description:{id:j("form.attribute.component.option.repeatable.description"),defaultMessage:"Best for multiple instances (array) of ingredients, meta tags, etc.."},value:!0},{title:{id:j("form.attribute.component.option.single"),defaultMessage:"Single component"},description:{id:j("form.attribute.component.option.single.description"),defaultMessage:"Best for grouping fields like full address, main information, etc..."},value:!1}]}]}]}},date(){return{sections:[{sectionTitle:null,items:[tn,{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",type:"select-date",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"date",value:"date",metadatas:{intlLabel:{id:j("form.attribute.item.date.type.date"),defaultMessage:"date (ex: 01/01/{currentYear})",values:{currentYear:new Date().getFullYear()}}}},{key:"datetime",value:"datetime",metadatas:{intlLabel:{id:j("form.attribute.item.date.type.datetime"),defaultMessage:"datetime (ex: 01/01/{currentYear} 00:00 AM)",values:{currentYear:new Date().getFullYear()}}}},{key:"time",value:"time",metadatas:{intlLabel:{id:j("form.attribute.item.date.type.time"),defaultMessage:"time (ex: 00:00 AM)"}}}]}]}]}},enumeration(){return{sections:[{sectionTitle:null,items:[tn]},{sectionTitle:null,items:[{name:"enum",type:"textarea-enum",size:6,intlLabel:{id:j("form.attribute.item.enumeration.rules"),defaultMessage:"Values (one line per value)"},placeholder:{id:j("form.attribute.item.enumeration.placeholder"),defaultMessage:`Ex:
morning
noon
evening`},validations:{required:!0}}]}]}},media(){return{sections:[{sectionTitle:null,items:[tn]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"multiple",size:12,type:"boolean-radio-group",radios:[{title:{id:j("form.attribute.media.option.multiple"),defaultMessage:"Multiple media"},description:{id:j("form.attribute.media.option.multiple.description"),defaultMessage:"Best for sliders, carousels or multiple files download"},value:!0},{title:{id:j("form.attribute.media.option.single"),defaultMessage:"Single media"},description:{id:j("form.attribute.media.option.single.description"),defaultMessage:"Best for avatar, profile picture or cover"},value:!1}]}]}]}},number(){return{sections:[{sectionTitle:null,items:[tn,{intlLabel:{id:j("form.attribute.item.number.type"),defaultMessage:"Number format"},name:"type",type:"select-number",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"integer",value:"integer",metadatas:{intlLabel:{id:j("form.attribute.item.number.type.integer"),defaultMessage:"integer (ex: 10)"}}},{key:"biginteger",value:"biginteger",metadatas:{intlLabel:{id:j("form.attribute.item.number.type.biginteger"),defaultMessage:"biginteger (ex: 123456789)"}}},{key:"decimal",value:"decimal",metadatas:{intlLabel:{id:j("form.attribute.item.number.type.decimal"),defaultMessage:"decimal (ex: 2.22)"}}},{key:"float",value:"float",metadatas:{intlLabel:{id:j("form.attribute.item.number.type.float"),defaultMessage:"decimal (ex: 3.3333333)"}}}]}]}]}},relation(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:"FIXME",defaultMessage:"FIXME"},name:"relation",size:12,type:"relation"}]}]}},string(){return{sections:[{sectionTitle:null,items:[tn]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:j("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:j("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:j("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:j("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},text(){return{sections:[{sectionTitle:null,items:[tn]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:j("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:j("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:j("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:j("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},uid(i,r,s){const d=s.filter(({type:c})=>["string","text"].includes(c)).map(({name:c})=>({key:c,value:c,metadatas:{intlLabel:{id:`${c}.no-override`,defaultMessage:c}}}));return{sections:[{sectionTitle:null,items:[{...tn,placeholder:{id:j("modalForm.attribute.form.base.name.placeholder"),defaultMessage:"e.g. slug, seoUrl, canonicalUrl"}},{intlLabel:{id:j("modalForm.attribute.target-field"),defaultMessage:"Attached field"},name:"targetField",type:"select",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"global.none",defaultMessage:"None"}}},...d]}]}]}}},Kl={advanced:k_,base:A_};function R_(i,r,s){for(var d=-1,c=i==null?0:i.length;++d<c;)if(s(r,i[d]))return!0;return!1}var S_=R_,Oo=c0,N_=l0(),$_=Rc,O_=1/0,E_=Oo&&1/$_(new Oo([,-0]))[1]==O_?function(i){return new Oo(i)}:N_,I_=E_,L_=d0,D_=f0,P_=S_,q_=p0,U_=I_,z_=Rc,W_=200;function B_(i,r,s){var d=-1,c=D_,h=i.length,p=!0,m=[],g=m;if(s)p=!1,c=P_;else if(h>=W_){var v=r?null:U_(i);if(v)return z_(v);p=!1,c=q_,g=new L_}else g=r?[]:m;e:for(;++d<h;){var _=i[d],M=r?r(_):_;if(_=s||_!==0?_:0,p&&M===M){for(var E=g.length;E--;)if(g[E]===M)continue e;r&&g.push(M),m.push(_)}else c(g,M,s)||(g!==m&&g.push(M),m.push(_))}return m}var V_=B_,H_=V_;function G_(i){return i&&i.length?H_(i):[]}var Z_=G_;const K_=Fc(Z_),Eo=i=>i?m0(i,{decamelize:!1,lowercase:!1,separator:"_"}):"";var Xa={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Xa.exports;(function(i,r){(function(){function s(C,F,o){switch(o.length){case 0:return C.call(F);case 1:return C.call(F,o[0]);case 2:return C.call(F,o[0],o[1]);case 3:return C.call(F,o[0],o[1],o[2])}return C.apply(F,o)}function d(C,F,o,U){for(var ee=-1,W=C==null?0:C.length;++ee<W;){var mt=C[ee];F(U,mt,o(mt),C)}return U}function c(C,F){for(var o=-1,U=C==null?0:C.length;++o<U&&F(C[o],o,C)!==!1;);return C}function h(C,F){for(var o=C==null?0:C.length;o--&&F(C[o],o,C)!==!1;);return C}function p(C,F){for(var o=-1,U=C==null?0:C.length;++o<U;)if(!F(C[o],o,C))return!1;return!0}function m(C,F){for(var o=-1,U=C==null?0:C.length,ee=0,W=[];++o<U;){var mt=C[o];F(mt,o,C)&&(W[ee++]=mt)}return W}function g(C,F){return!!(C!=null&&C.length)&&N(C,F,0)>-1}function v(C,F,o){for(var U=-1,ee=C==null?0:C.length;++U<ee;)if(o(F,C[U]))return!0;return!1}function _(C,F){for(var o=-1,U=C==null?0:C.length,ee=Array(U);++o<U;)ee[o]=F(C[o],o,C);return ee}function M(C,F){for(var o=-1,U=F.length,ee=C.length;++o<U;)C[ee+o]=F[o];return C}function E(C,F,o,U){var ee=-1,W=C==null?0:C.length;for(U&&W&&(o=C[++ee]);++ee<W;)o=F(o,C[ee],ee,C);return o}function P(C,F,o,U){var ee=C==null?0:C.length;for(U&&ee&&(o=C[--ee]);ee--;)o=F(o,C[ee],ee,C);return o}function T(C,F){for(var o=-1,U=C==null?0:C.length;++o<U;)if(F(C[o],o,C))return!0;return!1}function D(C){return C.split("")}function $(C){return C.match(bd)||[]}function R(C,F,o){var U;return o(C,function(ee,W,mt){if(F(ee,W,mt))return U=W,!1}),U}function O(C,F,o,U){for(var ee=C.length,W=o+(U?1:-1);U?W--:++W<ee;)if(F(C[W],W,C))return W;return-1}function N(C,F,o){return F===F?ii(C,F,o):O(C,I,o)}function Y(C,F,o,U){for(var ee=o-1,W=C.length;++ee<W;)if(U(C[ee],F))return ee;return-1}function I(C){return C!==C}function te(C,F){var o=C==null?0:C.length;return o?Ye(C,F)/o:rr}function le(C){return function(F){return F==null?b:F[C]}}function Ce(C){return function(F){return C==null?b:C[F]}}function Fe(C,F,o,U,ee){return ee(C,function(W,mt,Ri){o=U?(U=!1,W):F(o,W,mt,Ri)}),o}function we(C,F){var o=C.length;for(C.sort(F);o--;)C[o]=C[o].value;return C}function Ye(C,F){for(var o,U=-1,ee=C.length;++U<ee;){var W=F(C[U]);W!==b&&(o=o===b?W:o+W)}return o}function re(C,F){for(var o=-1,U=Array(C);++o<C;)U[o]=F(o);return U}function B(C,F){return _(F,function(o){return[o,C[o]]})}function Vt(C){return C&&C.slice(0,lt(C)+1).replace(_i,"")}function Te(C){return function(F){return C(F)}}function rt(C,F){return _(F,function(o){return C[o]})}function Qe(C,F){return C.has(F)}function yn(C,F){for(var o=-1,U=C.length;++o<U&&N(F,C[o],0)>-1;);return o}function Q(C,F){for(var o=C.length;o--&&N(F,C[o],0)>-1;);return o}function he(C,F){for(var o=C.length,U=0;o--;)C[o]===F&&++U;return U}function z(C){return"\\"+ef[C]}function ze(C,F){return C==null?b:C[F]}function He(C){return Gd.test(C)}function Ht(C){return Zd.test(C)}function rn(C){for(var F,o=[];!(F=C.next()).done;)o.push(F.value);return o}function Gt(C){var F=-1,o=Array(C.size);return C.forEach(function(U,ee){o[++F]=[ee,U]}),o}function Sn(C,F){return function(o){return C(F(o))}}function Mt(C,F){for(var o=-1,U=C.length,ee=0,W=[];++o<U;){var mt=C[o];mt!==F&&mt!==Nn||(C[o]=Nn,W[ee++]=o)}return W}function Xn(C){var F=-1,o=Array(C.size);return C.forEach(function(U){o[++F]=U}),o}function ai(C){var F=-1,o=Array(C.size);return C.forEach(function(U){o[++F]=[U,U]}),o}function ii(C,F,o){for(var U=o-1,ee=C.length;++U<ee;)if(C[U]===F)return U;return-1}function vn(C,F,o){for(var U=o+1;U--;)if(C[U]===F)return U;return U}function Zt(C){return He(C)?_r(C):af(C)}function Ge(C){return He(C)?H(C):D(C)}function lt(C){for(var F=C.length;F--&&pd.test(C.charAt(F)););return F}function _r(C){for(var F=Fi.lastIndex=0;Fi.test(C);)++F;return F}function H(C){return C.match(Fi)||[]}function ye(C){return C.match(Hd)||[]}var b,er="4.17.21",tr=200,jr="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",ct="Expected a function",wr="Invalid `variable` option passed into `_.template`",Tr="__lodash_hash_undefined__",nr=500,Nn="__lodash_placeholder__",Pt=1,an=2,xt=4,Ct=1,$n=2,pt=1,Kt=2,ta=4,Ft=8,xn=16,We=32,On=64,kt=128,En=256,Mr=512,oi=30,si="...",na=800,ui=16,Fr=1,ra=2,aa=3,on=1/0,Yt=9007199254740991,li=17976931348623157e292,rr=NaN,At=4294967295,ci=At-1,di=At>>>1,X=[["ary",kt],["bind",pt],["bindKey",Kt],["curry",Ft],["curryRight",xn],["flip",Mr],["partial",We],["partialRight",On],["rearg",En]],xe="[object Arguments]",De="[object Array]",fe="[object AsyncFunction]",Se="[object Boolean]",Ne="[object Date]",et="[object DOMException]",ar="[object Error]",ir="[object Function]",ia="[object GeneratorFunction]",Rt="[object Map]",In="[object Number]",Jc="[object Null]",sn="[object Object]",rs="[object Promise]",Xc="[object Proxy]",kr="[object RegExp]",qt="[object Set]",Ar="[object String]",oa="[object Symbol]",ed="[object Undefined]",Rr="[object WeakMap]",td="[object WeakSet]",Sr="[object ArrayBuffer]",or="[object DataView]",fi="[object Float32Array]",pi="[object Float64Array]",mi="[object Int8Array]",hi="[object Int16Array]",gi="[object Int32Array]",bi="[object Uint8Array]",yi="[object Uint8ClampedArray]",vi="[object Uint16Array]",xi="[object Uint32Array]",nd=/\b__p \+= '';/g,rd=/\b(__p \+=) '' \+/g,ad=/(__e\(.*?\)|\b__t\)) \+\n'';/g,as=/&(?:amp|lt|gt|quot|#39);/g,is=/[&<>"']/g,id=RegExp(as.source),od=RegExp(is.source),sd=/<%-([\s\S]+?)%>/g,ud=/<%([\s\S]+?)%>/g,os=/<%=([\s\S]+?)%>/g,ld=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,cd=/^\w*$/,dd=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ci=/[\\^$.*+?()[\]{}|]/g,fd=RegExp(Ci.source),_i=/^\s+/,pd=/\s/,md=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,hd=/\{\n\/\* \[wrapped with (.+)\] \*/,gd=/,? & /,bd=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,yd=/[()=,{}\[\]\/\s]/,vd=/\\(\\)?/g,xd=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ss=/\w*$/,Cd=/^[-+]0x[0-9a-f]+$/i,_d=/^0b[01]+$/i,jd=/^\[object .+?Constructor\]$/,wd=/^0o[0-7]+$/i,Td=/^(?:0|[1-9]\d*)$/,Md=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,sa=/($^)/,Fd=/['\n\r\u2028\u2029\\]/g,ua="\\ud800-\\udfff",kd="\\u0300-\\u036f",Ad="\\ufe20-\\ufe2f",Rd="\\u20d0-\\u20ff",us=kd+Ad+Rd,ls="\\u2700-\\u27bf",cs="a-z\\xdf-\\xf6\\xf8-\\xff",Sd="\\xac\\xb1\\xd7\\xf7",Nd="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",$d="\\u2000-\\u206f",Od=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ds="A-Z\\xc0-\\xd6\\xd8-\\xde",fs="\\ufe0e\\ufe0f",ps=Sd+Nd+$d+Od,ji="['’]",Ed="["+ua+"]",ms="["+ps+"]",la="["+us+"]",hs="\\d+",Id="["+ls+"]",gs="["+cs+"]",bs="[^"+ua+ps+hs+ls+cs+ds+"]",wi="\\ud83c[\\udffb-\\udfff]",Ld="(?:"+la+"|"+wi+")",ys="[^"+ua+"]",Ti="(?:\\ud83c[\\udde6-\\uddff]){2}",Mi="[\\ud800-\\udbff][\\udc00-\\udfff]",sr="["+ds+"]",vs="\\u200d",xs="(?:"+gs+"|"+bs+")",Dd="(?:"+sr+"|"+bs+")",Cs="(?:"+ji+"(?:d|ll|m|re|s|t|ve))?",_s="(?:"+ji+"(?:D|LL|M|RE|S|T|VE))?",js=Ld+"?",ws="["+fs+"]?",Pd="(?:"+vs+"(?:"+[ys,Ti,Mi].join("|")+")"+ws+js+")*",qd="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ud="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ts=ws+js+Pd,zd="(?:"+[Id,Ti,Mi].join("|")+")"+Ts,Wd="(?:"+[ys+la+"?",la,Ti,Mi,Ed].join("|")+")",Bd=RegExp(ji,"g"),Vd=RegExp(la,"g"),Fi=RegExp(wi+"(?="+wi+")|"+Wd+Ts,"g"),Hd=RegExp([sr+"?"+gs+"+"+Cs+"(?="+[ms,sr,"$"].join("|")+")",Dd+"+"+_s+"(?="+[ms,sr+xs,"$"].join("|")+")",sr+"?"+xs+"+"+Cs,sr+"+"+_s,Ud,qd,hs,zd].join("|"),"g"),Gd=RegExp("["+vs+ua+us+fs+"]"),Zd=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Kd=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Yd=-1,ke={};ke[fi]=ke[pi]=ke[mi]=ke[hi]=ke[gi]=ke[bi]=ke[yi]=ke[vi]=ke[xi]=!0,ke[xe]=ke[De]=ke[Sr]=ke[Se]=ke[or]=ke[Ne]=ke[ar]=ke[ir]=ke[Rt]=ke[In]=ke[sn]=ke[kr]=ke[qt]=ke[Ar]=ke[Rr]=!1;var Me={};Me[xe]=Me[De]=Me[Sr]=Me[or]=Me[Se]=Me[Ne]=Me[fi]=Me[pi]=Me[mi]=Me[hi]=Me[gi]=Me[Rt]=Me[In]=Me[sn]=Me[kr]=Me[qt]=Me[Ar]=Me[oa]=Me[bi]=Me[yi]=Me[vi]=Me[xi]=!0,Me[ar]=Me[ir]=Me[Rr]=!1;var Qd={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Jd={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Xd={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ef={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},tf=parseFloat,nf=parseInt,Ms=typeof Zr=="object"&&Zr&&Zr.Object===Object&&Zr,rf=typeof self=="object"&&self&&self.Object===Object&&self,tt=Ms||rf||Function("return this")(),ki=r&&!r.nodeType&&r,Ln=ki&&!0&&i&&!i.nodeType&&i,Fs=Ln&&Ln.exports===ki,Ai=Fs&&Ms.process,St=function(){try{var C=Ln&&Ln.require&&Ln.require("util").types;return C||Ai&&Ai.binding&&Ai.binding("util")}catch{}}(),ks=St&&St.isArrayBuffer,As=St&&St.isDate,Rs=St&&St.isMap,Ss=St&&St.isRegExp,Ns=St&&St.isSet,$s=St&&St.isTypedArray,af=le("length"),of=Ce(Qd),sf=Ce(Jd),uf=Ce(Xd),lf=function C(F){function o(e){if(Pe(e)&&!oe(e)&&!(e instanceof W)){if(e instanceof ee)return e;if(je.call(e,"__wrapped__"))return Fu(e)}return new ee(e)}function U(){}function ee(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=b}function W(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=At,this.__views__=[]}function mt(){var e=new W(this.__wrapped__);return e.__actions__=ht(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=ht(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=ht(this.__views__),e}function Ri(){if(this.__filtered__){var e=new W(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function cf(){var e=this.__wrapped__.value(),t=this.__dir__,n=oe(e),a=t<0,l=n?e.length:0,f=vp(0,l,this.__views__),y=f.start,x=f.end,w=x-y,A=a?x:y-1,k=this.__iteratees__,S=k.length,q=0,V=at(w,this.__takeCount__);if(!n||!a&&l==w&&V==w)return eu(e,this.__actions__);var K=[];e:for(;w--&&q<V;){A+=t;for(var se=-1,J=e[A];++se<S;){var pe=k[se],me=pe.iteratee,ot=pe.type,vt=me(J);if(ot==ra)J=vt;else if(!vt){if(ot==Fr)continue e;break e}}K[q++]=J}return K}function Dn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}function df(){this.__data__=Wr?Wr(null):{},this.size=0}function ff(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function pf(e){var t=this.__data__;if(Wr){var n=t[e];return n===Tr?b:n}return je.call(t,e)?t[e]:b}function mf(e){var t=this.__data__;return Wr?t[e]!==b:je.call(t,e)}function hf(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Wr&&t===b?Tr:t,this}function un(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}function gf(){this.__data__=[],this.size=0}function bf(e){var t=this.__data__,n=ca(t,e);return!(n<0)&&(n==t.length-1?t.pop():Da.call(t,n,1),--this.size,!0)}function yf(e){var t=this.__data__,n=ca(t,e);return n<0?b:t[n][1]}function vf(e){return ca(this.__data__,e)>-1}function xf(e,t){var n=this.__data__,a=ca(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this}function ln(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}function Cf(){this.size=0,this.__data__={hash:new Dn,map:new(Ur||un),string:new Dn}}function _f(e){var t=_a(this,e).delete(e);return this.size-=t?1:0,t}function jf(e){return _a(this,e).get(e)}function wf(e){return _a(this,e).has(e)}function Tf(e,t){var n=_a(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this}function Pn(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new ln;++t<n;)this.add(e[t])}function Mf(e){return this.__data__.set(e,Tr),this}function Ff(e){return this.__data__.has(e)}function Ut(e){this.size=(this.__data__=new un(e)).size}function kf(){this.__data__=new un,this.size=0}function Af(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function Rf(e){return this.__data__.get(e)}function Sf(e){return this.__data__.has(e)}function Nf(e,t){var n=this.__data__;if(n instanceof un){var a=n.__data__;if(!Ur||a.length<tr-1)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new ln(a)}return n.set(e,t),this.size=n.size,this}function Os(e,t){var n=oe(e),a=!n&&Vn(e),l=!n&&!a&&Mn(e),f=!n&&!a&&!l&&yr(e),y=n||a||l||f,x=y?re(e.length,kg):[],w=x.length;for(var A in e)!t&&!je.call(e,A)||y&&(A=="length"||l&&(A=="offset"||A=="parent")||f&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||pn(A,w))||x.push(A);return x}function Es(e){var t=e.length;return t?e[qi(0,t-1)]:b}function $f(e,t){return ja(ht(e),qn(t,0,e.length))}function Of(e){return ja(ht(e))}function Si(e,t,n){(n===b||zt(e[t],n))&&(n!==b||t in e)||cn(e,t,n)}function Nr(e,t,n){var a=e[t];je.call(e,t)&&zt(a,n)&&(n!==b||t in e)||cn(e,t,n)}function ca(e,t){for(var n=e.length;n--;)if(zt(e[n][0],t))return n;return-1}function Ef(e,t,n,a){return Tn(e,function(l,f,y){t(a,l,n(l),y)}),a}function Is(e,t){return e&&Jt(t,Je(t),e)}function If(e,t){return e&&Jt(t,bt(t),e)}function cn(e,t,n){t=="__proto__"&&Pa?Pa(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Ni(e,t){for(var n=-1,a=t.length,l=Ze(a),f=e==null;++n<a;)l[n]=f?b:io(e,t[n]);return l}function qn(e,t,n){return e===e&&(n!==b&&(e=e<=n?e:n),t!==b&&(e=e>=t?e:t)),e}function Nt(e,t,n,a,l,f){var y,x=t&Pt,w=t&an,A=t&xt;if(n&&(y=l?n(e,a,l,f):n(e)),y!==b)return y;if(!Oe(e))return e;var k=oe(e);if(k){if(y=Cp(e),!x)return ht(e,y)}else{var S=it(e),q=S==ir||S==ia;if(Mn(e))return nu(e,x);if(S==sn||S==xe||q&&!l){if(y=w||q?{}:xu(e),!x)return w?dp(e,If(y,e)):cp(e,Is(y,e))}else{if(!Me[S])return l?e:{};y=_p(e,S,x)}}f||(f=new Ut);var V=f.get(e);if(V)return V;f.set(e,y),bl(e)?e.forEach(function(J){y.add(Nt(J,t,n,J,e,f))}):gl(e)&&e.forEach(function(J,pe){y.set(pe,Nt(J,t,n,pe,e,f))});var K=A?w?Qi:Yi:w?bt:Je,se=k?b:K(e);return c(se||e,function(J,pe){se&&(pe=J,J=e[pe]),Nr(y,pe,Nt(J,t,n,pe,e,f))}),y}function Lf(e){var t=Je(e);return function(n){return Ls(n,e,t)}}function Ls(e,t,n){var a=n.length;if(e==null)return!a;for(e=Ae(e);a--;){var l=n[a],f=t[l],y=e[l];if(y===b&&!(l in e)||!f(y))return!1}return!0}function Ds(e,t,n){if(typeof e!="function")throw new It(ct);return Vr(function(){e.apply(b,n)},t)}function $r(e,t,n,a){var l=-1,f=g,y=!0,x=e.length,w=[],A=t.length;if(!x)return w;n&&(t=_(t,Te(n))),a?(f=v,y=!1):t.length>=tr&&(f=Qe,y=!1,t=new Pn(t));e:for(;++l<x;){var k=e[l],S=n==null?k:n(k);if(k=a||k!==0?k:0,y&&S===S){for(var q=A;q--;)if(t[q]===S)continue e;w.push(k)}else f(t,S,a)||w.push(k)}return w}function Df(e,t){var n=!0;return Tn(e,function(a,l,f){return n=!!t(a,l,f)}),n}function da(e,t,n){for(var a=-1,l=e.length;++a<l;){var f=e[a],y=t(f);if(y!=null&&(x===b?y===y&&!jt(y):n(y,x)))var x=y,w=f}return w}function Pf(e,t,n,a){var l=e.length;for(n=ue(n),n<0&&(n=-n>l?0:l+n),a=a===b||a>l?l:ue(a),a<0&&(a+=l),a=n>a?0:Vu(a);n<a;)e[n++]=t;return e}function Ps(e,t){var n=[];return Tn(e,function(a,l,f){t(a,l,f)&&n.push(a)}),n}function nt(e,t,n,a,l){var f=-1,y=e.length;for(n||(n=wp),l||(l=[]);++f<y;){var x=e[f];t>0&&n(x)?t>1?nt(x,t-1,n,a,l):M(l,x):a||(l[l.length]=x)}return l}function Qt(e,t){return e&&vo(e,t,Je)}function $i(e,t){return e&&ul(e,t,Je)}function fa(e,t){return m(t,function(n){return mn(e[n])})}function Un(e,t){t=_n(t,e);for(var n=0,a=t.length;e!=null&&n<a;)e=e[Xt(t[n++])];return n&&n==a?e:b}function qs(e,t,n){var a=t(e);return oe(e)?a:M(a,n(e))}function dt(e){return e==null?e===b?ed:Jc:Bn&&Bn in Ae(e)?yp(e):Rp(e)}function Oi(e,t){return e>t}function qf(e,t){return e!=null&&je.call(e,t)}function Uf(e,t){return e!=null&&t in Ae(e)}function zf(e,t,n){return e>=at(t,n)&&e<Ke(t,n)}function Ei(e,t,n){for(var a=n?v:g,l=e[0].length,f=e.length,y=f,x=Ze(f),w=1/0,A=[];y--;){var k=e[y];y&&t&&(k=_(k,Te(t))),w=at(k.length,w),x[y]=!n&&(t||l>=120&&k.length>=120)?new Pn(y&&k):b}k=e[0];var S=-1,q=x[0];e:for(;++S<l&&A.length<w;){var V=k[S],K=t?t(V):V;if(V=n||V!==0?V:0,!(q?Qe(q,K):a(A,K,n))){for(y=f;--y;){var se=x[y];if(!(se?Qe(se,K):a(e[y],K,n)))continue e}q&&q.push(K),A.push(V)}}return A}function Wf(e,t,n,a){return Qt(e,function(l,f,y){t(a,n(l),f,y)}),a}function Or(e,t,n){t=_n(t,e),e=wu(e,t);var a=e==null?e:e[Xt(Ot(t))];return a==null?b:s(a,e,n)}function Us(e){return Pe(e)&&dt(e)==xe}function Bf(e){return Pe(e)&&dt(e)==Sr}function Vf(e){return Pe(e)&&dt(e)==Ne}function Er(e,t,n,a,l){return e===t||(e==null||t==null||!Pe(e)&&!Pe(t)?e!==e&&t!==t:Hf(e,t,n,a,Er,l))}function Hf(e,t,n,a,l,f){var y=oe(e),x=oe(t),w=y?De:it(e),A=x?De:it(t);w=w==xe?sn:w,A=A==xe?sn:A;var k=w==sn,S=A==sn,q=w==A;if(q&&Mn(e)){if(!Mn(t))return!1;y=!0,k=!1}if(q&&!k)return f||(f=new Ut),y||yr(e)?yu(e,t,n,a,l,f):gp(e,t,w,n,a,l,f);if(!(n&Ct)){var V=k&&je.call(e,"__wrapped__"),K=S&&je.call(t,"__wrapped__");if(V||K){var se=V?e.value():e,J=K?t.value():t;return f||(f=new Ut),l(se,J,n,a,f)}}return!!q&&(f||(f=new Ut),bp(e,t,n,a,l,f))}function Gf(e){return Pe(e)&&it(e)==Rt}function Ii(e,t,n,a){var l=n.length,f=l,y=!a;if(e==null)return!f;for(e=Ae(e);l--;){var x=n[l];if(y&&x[2]?x[1]!==e[x[0]]:!(x[0]in e))return!1}for(;++l<f;){x=n[l];var w=x[0],A=e[w],k=x[1];if(y&&x[2]){if(A===b&&!(w in e))return!1}else{var S=new Ut;if(a)var q=a(A,k,w,e,t,S);if(!(q===b?Er(k,A,Ct|$n,a,S):q))return!1}}return!0}function zs(e){return!(!Oe(e)||Mp(e))&&(mn(e)?$g:jd).test(Wn(e))}function Zf(e){return Pe(e)&&dt(e)==kr}function Kf(e){return Pe(e)&&it(e)==qt}function Yf(e){return Pe(e)&&ka(e.length)&&!!ke[dt(e)]}function Ws(e){return typeof e=="function"?e:e==null?yt:typeof e=="object"?oe(e)?Hs(e[0],e[1]):Vs(e):Qu(e)}function Li(e){if(!Dr(e))return Pg(e);var t=[];for(var n in Ae(e))je.call(e,n)&&n!="constructor"&&t.push(n);return t}function Qf(e){if(!Oe(e))return Ap(e);var t=Dr(e),n=[];for(var a in e)(a!="constructor"||!t&&je.call(e,a))&&n.push(a);return n}function Di(e,t){return e<t}function Bs(e,t){var n=-1,a=gt(e)?Ze(e.length):[];return Tn(e,function(l,f,y){a[++n]=t(l,f,y)}),a}function Vs(e){var t=Ji(e);return t.length==1&&t[0][2]?_u(t[0][0],t[0][1]):function(n){return n===e||Ii(n,e,t)}}function Hs(e,t){return Xi(e)&&Cu(t)?_u(Xt(e),t):function(n){var a=io(n,e);return a===b&&a===t?oo(n,e):Er(t,a,Ct|$n)}}function pa(e,t,n,a,l){e!==t&&vo(t,function(f,y){if(l||(l=new Ut),Oe(f))Jf(e,t,y,n,pa,a,l);else{var x=a?a(to(e,y),f,y+"",e,t,l):b;x===b&&(x=f),Si(e,y,x)}},bt)}function Jf(e,t,n,a,l,f,y){var x=to(e,n),w=to(t,n),A=y.get(w);if(A)return Si(e,n,A),b;var k=f?f(x,w,n+"",e,t,y):b,S=k===b;if(S){var q=oe(w),V=!q&&Mn(w),K=!q&&!V&&yr(w);k=w,q||V||K?oe(x)?k=x:Be(x)?k=ht(x):V?(S=!1,k=nu(w,!0)):K?(S=!1,k=ru(w,!0)):k=[]:Pr(w)||Vn(w)?(k=x,Vn(x)?k=Hu(x):Oe(x)&&!mn(x)||(k=xu(w))):S=!1}S&&(y.set(w,k),l(k,w,a,f,y),y.delete(w)),Si(e,n,k)}function Gs(e,t){var n=e.length;if(n)return t+=t<0?n:0,pn(t,n)?e[t]:b}function Zs(e,t,n){t=t.length?_(t,function(l){return oe(l)?function(f){return Un(f,l.length===1?l[0]:l)}:l}):[yt];var a=-1;return t=_(t,Te(ne())),we(Bs(e,function(l,f,y){return{criteria:_(t,function(x){return x(l)}),index:++a,value:l}}),function(l,f){return lp(l,f,n)})}function Xf(e,t){return Ks(e,t,function(n,a){return oo(e,a)})}function Ks(e,t,n){for(var a=-1,l=t.length,f={};++a<l;){var y=t[a],x=Un(e,y);n(x,y)&&Ir(f,_n(y,e),x)}return f}function ep(e){return function(t){return Un(t,e)}}function Pi(e,t,n,a){var l=a?Y:N,f=-1,y=t.length,x=e;for(e===t&&(t=ht(t)),n&&(x=_(e,Te(n)));++f<y;)for(var w=0,A=t[f],k=n?n(A):A;(w=l(x,k,w,a))>-1;)x!==e&&Da.call(x,w,1),Da.call(e,w,1);return e}function Ys(e,t){for(var n=e?t.length:0,a=n-1;n--;){var l=t[n];if(n==a||l!==f){var f=l;pn(l)?Da.call(e,l,1):Wi(e,l)}}return e}function qi(e,t){return e+Ua(il()*(t-e+1))}function tp(e,t,n,a){for(var l=-1,f=Ke(qa((t-e)/(n||1)),0),y=Ze(f);f--;)y[a?f:++l]=e,e+=n;return y}function Ui(e,t){var n="";if(!e||t<1||t>Yt)return n;do t%2&&(n+=e),t=Ua(t/2),t&&(e+=e);while(t);return n}function de(e,t){return _o(ju(e,t,yt),e+"")}function np(e){return Es(fr(e))}function rp(e,t){var n=fr(e);return ja(n,qn(t,0,n.length))}function Ir(e,t,n,a){if(!Oe(e))return e;t=_n(t,e);for(var l=-1,f=t.length,y=f-1,x=e;x!=null&&++l<f;){var w=Xt(t[l]),A=n;if(w==="__proto__"||w==="constructor"||w==="prototype")return e;if(l!=y){var k=x[w];A=a?a(k,w,x):b,A===b&&(A=Oe(k)?k:pn(t[l+1])?[]:{})}Nr(x,w,A),x=x[w]}return e}function ap(e){return ja(fr(e))}function $t(e,t,n){var a=-1,l=e.length;t<0&&(t=-t>l?0:l+t),n=n>l?l:n,n<0&&(n+=l),l=t>n?0:n-t>>>0,t>>>=0;for(var f=Ze(l);++a<l;)f[a]=e[a+t];return f}function ip(e,t){var n;return Tn(e,function(a,l,f){return n=t(a,l,f),!n}),!!n}function ma(e,t,n){var a=0,l=e==null?a:e.length;if(typeof t=="number"&&t===t&&l<=di){for(;a<l;){var f=a+l>>>1,y=e[f];y!==null&&!jt(y)&&(n?y<=t:y<t)?a=f+1:l=f}return l}return zi(e,t,yt,n)}function zi(e,t,n,a){var l=0,f=e==null?0:e.length;if(f===0)return 0;t=n(t);for(var y=t!==t,x=t===null,w=jt(t),A=t===b;l<f;){var k=Ua((l+f)/2),S=n(e[k]),q=S!==b,V=S===null,K=S===S,se=jt(S);if(y)var J=a||K;else J=A?K&&(a||q):x?K&&q&&(a||!V):w?K&&q&&!V&&(a||!se):!V&&!se&&(a?S<=t:S<t);J?l=k+1:f=k}return at(f,ci)}function Qs(e,t){for(var n=-1,a=e.length,l=0,f=[];++n<a;){var y=e[n],x=t?t(y):y;if(!n||!zt(x,w)){var w=x;f[l++]=y===0?0:y}}return f}function Js(e){return typeof e=="number"?e:jt(e)?rr:+e}function _t(e){if(typeof e=="string")return e;if(oe(e))return _(e,_t)+"";if(jt(e))return ol?ol.call(e):"";var t=e+"";return t=="0"&&1/e==-on?"-0":t}function Cn(e,t,n){var a=-1,l=g,f=e.length,y=!0,x=[],w=x;if(n)y=!1,l=v;else if(f>=tr){var A=t?null:Yg(e);if(A)return Xn(A);y=!1,l=Qe,w=new Pn}else w=t?[]:x;e:for(;++a<f;){var k=e[a],S=t?t(k):k;if(k=n||k!==0?k:0,y&&S===S){for(var q=w.length;q--;)if(w[q]===S)continue e;t&&w.push(S),x.push(k)}else l(w,S,n)||(w!==x&&w.push(S),x.push(k))}return x}function Wi(e,t){return t=_n(t,e),e=wu(e,t),e==null||delete e[Xt(Ot(t))]}function Xs(e,t,n,a){return Ir(e,t,n(Un(e,t)),a)}function ha(e,t,n,a){for(var l=e.length,f=a?l:-1;(a?f--:++f<l)&&t(e[f],f,e););return n?$t(e,a?0:f,a?f+1:l):$t(e,a?f+1:0,a?l:f)}function eu(e,t){var n=e;return n instanceof W&&(n=n.value()),E(t,function(a,l){return l.func.apply(l.thisArg,M([a],l.args))},n)}function Bi(e,t,n){var a=e.length;if(a<2)return a?Cn(e[0]):[];for(var l=-1,f=Ze(a);++l<a;)for(var y=e[l],x=-1;++x<a;)x!=l&&(f[l]=$r(f[l]||y,e[x],t,n));return Cn(nt(f,1),t,n)}function tu(e,t,n){for(var a=-1,l=e.length,f=t.length,y={};++a<l;)n(y,e[a],a<f?t[a]:b);return y}function Vi(e){return Be(e)?e:[]}function Hi(e){return typeof e=="function"?e:yt}function _n(e,t){return oe(e)?e:Xi(e,t)?[e]:pl(_e(e))}function jn(e,t,n){var a=e.length;return n=n===b?a:n,!t&&n>=a?e:$t(e,t,n)}function nu(e,t){if(t)return e.slice();var n=e.length,a=el?el(n):new e.constructor(n);return e.copy(a),a}function Gi(e){var t=new e.constructor(e.byteLength);return new Ia(t).set(new Ia(e)),t}function op(e,t){return new e.constructor(t?Gi(e.buffer):e.buffer,e.byteOffset,e.byteLength)}function sp(e){var t=new e.constructor(e.source,ss.exec(e));return t.lastIndex=e.lastIndex,t}function up(e){return Br?Ae(Br.call(e)):{}}function ru(e,t){return new e.constructor(t?Gi(e.buffer):e.buffer,e.byteOffset,e.length)}function au(e,t){if(e!==t){var n=e!==b,a=e===null,l=e===e,f=jt(e),y=t!==b,x=t===null,w=t===t,A=jt(t);if(!x&&!A&&!f&&e>t||f&&y&&w&&!x&&!A||a&&y&&w||!n&&w||!l)return 1;if(!a&&!f&&!A&&e<t||A&&n&&l&&!a&&!f||x&&n&&l||!y&&l||!w)return-1}return 0}function lp(e,t,n){for(var a=-1,l=e.criteria,f=t.criteria,y=l.length,x=n.length;++a<y;){var w=au(l[a],f[a]);if(w)return a>=x?w:w*(n[a]=="desc"?-1:1)}return e.index-t.index}function iu(e,t,n,a){for(var l=-1,f=e.length,y=n.length,x=-1,w=t.length,A=Ke(f-y,0),k=Ze(w+A),S=!a;++x<w;)k[x]=t[x];for(;++l<y;)(S||l<f)&&(k[n[l]]=e[l]);for(;A--;)k[x++]=e[l++];return k}function ou(e,t,n,a){for(var l=-1,f=e.length,y=-1,x=n.length,w=-1,A=t.length,k=Ke(f-x,0),S=Ze(k+A),q=!a;++l<k;)S[l]=e[l];for(var V=l;++w<A;)S[V+w]=t[w];for(;++y<x;)(q||l<f)&&(S[V+n[y]]=e[l++]);return S}function ht(e,t){var n=-1,a=e.length;for(t||(t=Ze(a));++n<a;)t[n]=e[n];return t}function Jt(e,t,n,a){var l=!n;n||(n={});for(var f=-1,y=t.length;++f<y;){var x=t[f],w=a?a(n[x],e[x],x,n,e):b;w===b&&(w=e[x]),l?cn(n,x,w):Nr(n,x,w)}return n}function cp(e,t){return Jt(e,Co(e),t)}function dp(e,t){return Jt(e,dl(e),t)}function ga(e,t){return function(n,a){var l=oe(n)?d:Ef,f=t?t():{};return l(n,e,ne(a,2),f)}}function lr(e){return de(function(t,n){var a=-1,l=n.length,f=l>1?n[l-1]:b,y=l>2?n[2]:b;for(f=e.length>3&&typeof f=="function"?(l--,f):b,y&&ft(n[0],n[1],y)&&(f=l<3?b:f,l=1),t=Ae(t);++a<l;){var x=n[a];x&&e(t,x,a,f)}return t})}function su(e,t){return function(n,a){if(n==null)return n;if(!gt(n))return e(n,a);for(var l=n.length,f=t?l:-1,y=Ae(n);(t?f--:++f<l)&&a(y[f],f,y)!==!1;);return n}}function uu(e){return function(t,n,a){for(var l=-1,f=Ae(t),y=a(t),x=y.length;x--;){var w=y[e?x:++l];if(n(f[w],w,f)===!1)break}return t}}function fp(e,t,n){function a(){return(this&&this!==tt&&this instanceof a?f:e).apply(l?n:this,arguments)}var l=t&pt,f=Lr(e);return a}function lu(e){return function(t){t=_e(t);var n=He(t)?Ge(t):b,a=n?n[0]:t.charAt(0),l=n?jn(n,1).join(""):t.slice(1);return a[e]()+l}}function cr(e){return function(t){return E(Yu(Ku(t).replace(Bd,"")),e,"")}}function Lr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=br(e.prototype),a=e.apply(n,t);return Oe(a)?a:n}}function pp(e,t,n){function a(){for(var f=arguments.length,y=Ze(f),x=f,w=dr(a);x--;)y[x]=arguments[x];var A=f<3&&y[0]!==w&&y[f-1]!==w?[]:Mt(y,w);return f-=A.length,f<n?mu(e,t,ba,a.placeholder,b,y,A,b,b,n-f):s(this&&this!==tt&&this instanceof a?l:e,this,y)}var l=Lr(e);return a}function cu(e){return function(t,n,a){var l=Ae(t);if(!gt(t)){var f=ne(n,3);t=Je(t),n=function(x){return f(l[x],x,l)}}var y=e(t,n,a);return y>-1?l[f?t[y]:y]:b}}function du(e){return fn(function(t){var n=t.length,a=n,l=ee.prototype.thru;for(e&&t.reverse();a--;){var f=t[a];if(typeof f!="function")throw new It(ct);if(l&&!y&&Ca(f)=="wrapper")var y=new ee([],!0)}for(a=y?a:n;++a<n;){f=t[a];var x=Ca(f),w=x=="wrapper"?xo(f):b;y=w&&eo(w[0])&&w[1]==(kt|Ft|We|En)&&!w[4].length&&w[9]==1?y[Ca(w[0])].apply(y,w[3]):f.length==1&&eo(f)?y[x]():y.thru(f)}return function(){var A=arguments,k=A[0];if(y&&A.length==1&&oe(k))return y.plant(k).value();for(var S=0,q=n?t[S].apply(this,A):k;++S<n;)q=t[S].call(this,q);return q}})}function ba(e,t,n,a,l,f,y,x,w,A){function k(){for(var pe=arguments.length,me=Ze(pe),ot=pe;ot--;)me[ot]=arguments[ot];if(K)var vt=dr(k),Fn=he(me,vt);if(a&&(me=iu(me,a,l,K)),f&&(me=ou(me,f,y,K)),pe-=Fn,K&&pe<A)return mu(e,t,ba,k.placeholder,n,me,Mt(me,vt),x,w,A-pe);var qe=q?n:this,Lt=V?qe[e]:e;return pe=me.length,x?me=Sp(me,x):se&&pe>1&&me.reverse(),S&&w<pe&&(me.length=w),this&&this!==tt&&this instanceof k&&(Lt=J||Lr(Lt)),Lt.apply(qe,me)}var S=t&kt,q=t&pt,V=t&Kt,K=t&(Ft|xn),se=t&Mr,J=V?b:Lr(e);return k}function fu(e,t){return function(n,a){return Wf(n,e,t(a),{})}}function ya(e,t){return function(n,a){var l;if(n===b&&a===b)return t;if(n!==b&&(l=n),a!==b){if(l===b)return a;typeof n=="string"||typeof a=="string"?(n=_t(n),a=_t(a)):(n=Js(n),a=Js(a)),l=e(n,a)}return l}}function Zi(e){return fn(function(t){return t=_(t,Te(ne())),de(function(n){var a=this;return e(t,function(l){return s(l,a,n)})})})}function va(e,t){t=t===b?" ":_t(t);var n=t.length;if(n<2)return n?Ui(t,e):t;var a=Ui(t,qa(e/Zt(t)));return He(t)?jn(Ge(a),0,e).join(""):a.slice(0,e)}function mp(e,t,n,a){function l(){for(var x=-1,w=arguments.length,A=-1,k=a.length,S=Ze(k+w),q=this&&this!==tt&&this instanceof l?y:e;++A<k;)S[A]=a[A];for(;w--;)S[A++]=arguments[++x];return s(q,f?n:this,S)}var f=t&pt,y=Lr(e);return l}function pu(e){return function(t,n,a){return a&&typeof a!="number"&&ft(t,n,a)&&(n=a=b),t=hn(t),n===b?(n=t,t=0):n=hn(n),a=a===b?t<n?1:-1:hn(a),tp(t,n,a,e)}}function xa(e){return function(t,n){return typeof t=="string"&&typeof n=="string"||(t=Et(t),n=Et(n)),e(t,n)}}function mu(e,t,n,a,l,f,y,x,w,A){var k=t&Ft,S=k?y:b,q=k?b:y,V=k?f:b,K=k?b:f;t|=k?We:On,t&=~(k?On:We),t&ta||(t&=-4);var se=[e,t,l,V,S,K,q,x,w,A],J=n.apply(b,se);return eo(e)&&fl(J,se),J.placeholder=a,Tu(J,e,t)}function Ki(e){var t=pr[e];return function(n,a){if(n=Et(n),a=a==null?0:at(ue(a),292),a&&al(n)){var l=(_e(n)+"e").split("e");return l=(_e(t(l[0]+"e"+(+l[1]+a)))+"e").split("e"),+(l[0]+"e"+(+l[1]-a))}return t(n)}}function hu(e){return function(t){var n=it(t);return n==Rt?Gt(t):n==qt?ai(t):B(t,e(t))}}function dn(e,t,n,a,l,f,y,x){var w=t&Kt;if(!w&&typeof e!="function")throw new It(ct);var A=a?a.length:0;if(A||(t&=-97,a=l=b),y=y===b?y:Ke(ue(y),0),x=x===b?x:ue(x),A-=l?l.length:0,t&On){var k=a,S=l;a=l=b}var q=w?b:xo(e),V=[e,t,n,a,l,k,S,f,y,x];if(q&&kp(V,q),e=V[0],t=V[1],n=V[2],a=V[3],l=V[4],x=V[9]=V[9]===b?w?0:e.length:Ke(V[9]-A,0),!x&&t&(Ft|xn)&&(t&=-25),t&&t!=pt)K=t==Ft||t==xn?pp(e,t,x):t!=We&&t!=(pt|We)||l.length?ba.apply(b,V):mp(e,t,n,a);else var K=fp(e,t,n);return Tu((q?ll:fl)(K,V),e,t)}function gu(e,t,n,a){return e===b||zt(e,mr[n])&&!je.call(a,n)?t:e}function bu(e,t,n,a,l,f){return Oe(e)&&Oe(t)&&(f.set(t,e),pa(e,t,b,bu,f),f.delete(t)),e}function hp(e){return Pr(e)?b:e}function yu(e,t,n,a,l,f){var y=n&Ct,x=e.length,w=t.length;if(x!=w&&!(y&&w>x))return!1;var A=f.get(e),k=f.get(t);if(A&&k)return A==t&&k==e;var S=-1,q=!0,V=n&$n?new Pn:b;for(f.set(e,t),f.set(t,e);++S<x;){var K=e[S],se=t[S];if(a)var J=y?a(se,K,S,t,e,f):a(K,se,S,e,t,f);if(J!==b){if(J)continue;q=!1;break}if(V){if(!T(t,function(pe,me){if(!Qe(V,me)&&(K===pe||l(K,pe,n,a,f)))return V.push(me)})){q=!1;break}}else if(K!==se&&!l(K,se,n,a,f)){q=!1;break}}return f.delete(e),f.delete(t),q}function gp(e,t,n,a,l,f,y){switch(n){case or:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Sr:return!(e.byteLength!=t.byteLength||!f(new Ia(e),new Ia(t)));case Se:case Ne:case In:return zt(+e,+t);case ar:return e.name==t.name&&e.message==t.message;case kr:case Ar:return e==t+"";case Rt:var x=Gt;case qt:var w=a&Ct;if(x||(x=Xn),e.size!=t.size&&!w)return!1;var A=y.get(e);if(A)return A==t;a|=$n,y.set(e,t);var k=yu(x(e),x(t),a,l,f,y);return y.delete(e),k;case oa:if(Br)return Br.call(e)==Br.call(t)}return!1}function bp(e,t,n,a,l,f){var y=n&Ct,x=Yi(e),w=x.length;if(w!=Yi(t).length&&!y)return!1;for(var A=w;A--;){var k=x[A];if(!(y?k in t:je.call(t,k)))return!1}var S=f.get(e),q=f.get(t);if(S&&q)return S==t&&q==e;var V=!0;f.set(e,t),f.set(t,e);for(var K=y;++A<w;){k=x[A];var se=e[k],J=t[k];if(a)var pe=y?a(J,se,k,t,e,f):a(se,J,k,e,t,f);if(!(pe===b?se===J||l(se,J,n,a,f):pe)){V=!1;break}K||(K=k=="constructor")}if(V&&!K){var me=e.constructor,ot=t.constructor;me!=ot&&"constructor"in e&&"constructor"in t&&!(typeof me=="function"&&me instanceof me&&typeof ot=="function"&&ot instanceof ot)&&(V=!1)}return f.delete(e),f.delete(t),V}function fn(e){return _o(ju(e,b,Ru),e+"")}function Yi(e){return qs(e,Je,Co)}function Qi(e){return qs(e,bt,dl)}function Ca(e){for(var t=e.name+"",n=gr[t],a=je.call(gr,t)?n.length:0;a--;){var l=n[a],f=l.func;if(f==null||f==e)return l.name}return t}function dr(e){return(je.call(o,"placeholder")?o:e).placeholder}function ne(){var e=o.iteratee||uo;return e=e===uo?Ws:e,arguments.length?e(arguments[0],arguments[1]):e}function _a(e,t){var n=e.__data__;return Tp(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Ji(e){for(var t=Je(e),n=t.length;n--;){var a=t[n],l=e[a];t[n]=[a,l,Cu(l)]}return t}function zn(e,t){var n=ze(e,t);return zs(n)?n:b}function yp(e){var t=je.call(e,Bn),n=e[Bn];try{e[Bn]=b;var a=!0}catch{}var l=Oa.call(e);return a&&(t?e[Bn]=n:delete e[Bn]),l}function vp(e,t,n){for(var a=-1,l=n.length;++a<l;){var f=n[a],y=f.size;switch(f.type){case"drop":e+=y;break;case"dropRight":t-=y;break;case"take":t=at(t,e+y);break;case"takeRight":e=Ke(e,t-y)}}return{start:e,end:t}}function xp(e){var t=e.match(hd);return t?t[1].split(gd):[]}function vu(e,t,n){t=_n(t,e);for(var a=-1,l=t.length,f=!1;++a<l;){var y=Xt(t[a]);if(!(f=e!=null&&n(e,y)))break;e=e[y]}return f||++a!=l?f:(l=e==null?0:e.length,!!l&&ka(l)&&pn(y,l)&&(oe(e)||Vn(e)))}function Cp(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&je.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function xu(e){return typeof e.constructor!="function"||Dr(e)?{}:br(La(e))}function _p(e,t,n){var a=e.constructor;switch(t){case Sr:return Gi(e);case Se:case Ne:return new a(+e);case or:return op(e,n);case fi:case pi:case mi:case hi:case gi:case bi:case yi:case vi:case xi:return ru(e,n);case Rt:return new a;case In:case Ar:return new a(e);case kr:return sp(e);case qt:return new a;case oa:return up(e)}}function jp(e,t){var n=t.length;if(!n)return e;var a=n-1;return t[a]=(n>1?"& ":"")+t[a],t=t.join(n>2?", ":" "),e.replace(md,`{
/* [wrapped with `+t+`] */
`)}function wp(e){return oe(e)||Vn(e)||!!(rl&&e&&e[rl])}function pn(e,t){var n=typeof e;return t=t??Yt,!!t&&(n=="number"||n!="symbol"&&Td.test(e))&&e>-1&&e%1==0&&e<t}function ft(e,t,n){if(!Oe(n))return!1;var a=typeof t;return!!(a=="number"?gt(n)&&pn(t,n.length):a=="string"&&t in n)&&zt(n[t],e)}function Xi(e,t){if(oe(e))return!1;var n=typeof e;return!(n!="number"&&n!="symbol"&&n!="boolean"&&e!=null&&!jt(e))||cd.test(e)||!ld.test(e)||t!=null&&e in Ae(t)}function Tp(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function eo(e){var t=Ca(e),n=o[t];if(typeof n!="function"||!(t in W.prototype))return!1;if(e===n)return!0;var a=xo(n);return!!a&&e===a[0]}function Mp(e){return!!Xu&&Xu in e}function Dr(e){var t=e&&e.constructor;return e===(typeof t=="function"&&t.prototype||mr)}function Cu(e){return e===e&&!Oe(e)}function _u(e,t){return function(n){return n!=null&&n[e]===t&&(t!==b||e in Ae(n))}}function Fp(e){var t=Ma(e,function(a){return n.size===nr&&n.clear(),a}),n=t.cache;return t}function kp(e,t){var n=e[1],a=t[1],l=n|a,f=l<(pt|Kt|kt),y=a==kt&&n==Ft||a==kt&&n==En&&e[7].length<=t[8]||a==(kt|En)&&t[7].length<=t[8]&&n==Ft;if(!f&&!y)return e;a&pt&&(e[2]=t[2],l|=n&pt?0:ta);var x=t[3];if(x){var w=e[3];e[3]=w?iu(w,x,t[4]):x,e[4]=w?Mt(e[3],Nn):t[4]}return x=t[5],x&&(w=e[5],e[5]=w?ou(w,x,t[6]):x,e[6]=w?Mt(e[5],Nn):t[6]),x=t[7],x&&(e[7]=x),a&kt&&(e[8]=e[8]==null?t[8]:at(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=l,e}function Ap(e){var t=[];if(e!=null)for(var n in Ae(e))t.push(n);return t}function Rp(e){return Oa.call(e)}function ju(e,t,n){return t=Ke(t===b?e.length-1:t,0),function(){for(var a=arguments,l=-1,f=Ke(a.length-t,0),y=Ze(f);++l<f;)y[l]=a[t+l];l=-1;for(var x=Ze(t+1);++l<t;)x[l]=a[l];return x[t]=n(y),s(e,this,x)}}function wu(e,t){return t.length<2?e:Un(e,$t(t,0,-1))}function Sp(e,t){for(var n=e.length,a=at(t.length,n),l=ht(e);a--;){var f=t[a];e[a]=pn(f,n)?l[f]:b}return e}function to(e,t){if((t!=="constructor"||typeof e[t]!="function")&&t!="__proto__")return e[t]}function Tu(e,t,n){var a=t+"";return _o(e,jp(a,Np(xp(a),n)))}function Mu(e){var t=0,n=0;return function(){var a=qg(),l=ui-(a-n);if(n=a,l>0){if(++t>=na)return arguments[0]}else t=0;return e.apply(b,arguments)}}function ja(e,t){var n=-1,a=e.length,l=a-1;for(t=t===b?a:t;++n<t;){var f=qi(n,l),y=e[f];e[f]=e[n],e[n]=y}return e.length=t,e}function Xt(e){if(typeof e=="string"||jt(e))return e;var t=e+"";return t=="0"&&1/e==-on?"-0":t}function Wn(e){if(e!=null){try{return $a.call(e)}catch{}try{return e+""}catch{}}return""}function Np(e,t){return c(X,function(n){var a="_."+n[0];t&n[1]&&!g(e,a)&&e.push(a)}),e.sort()}function Fu(e){if(e instanceof W)return e.clone();var t=new ee(e.__wrapped__,e.__chain__);return t.__actions__=ht(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function $p(e,t,n){t=(n?ft(e,t,n):t===b)?1:Ke(ue(t),0);var a=e==null?0:e.length;if(!a||t<1)return[];for(var l=0,f=0,y=Ze(qa(a/t));l<a;)y[f++]=$t(e,l,l+=t);return y}function Op(e){for(var t=-1,n=e==null?0:e.length,a=0,l=[];++t<n;){var f=e[t];f&&(l[a++]=f)}return l}function Ep(){var e=arguments.length;if(!e)return[];for(var t=Ze(e-1),n=arguments[0],a=e;a--;)t[a-1]=arguments[a];return M(oe(n)?ht(n):[n],nt(t,1))}function Ip(e,t,n){var a=e==null?0:e.length;return a?(t=n||t===b?1:ue(t),$t(e,t<0?0:t,a)):[]}function Lp(e,t,n){var a=e==null?0:e.length;return a?(t=n||t===b?1:ue(t),t=a-t,$t(e,0,t<0?0:t)):[]}function Dp(e,t){return e&&e.length?ha(e,ne(t,3),!0,!0):[]}function Pp(e,t){return e&&e.length?ha(e,ne(t,3),!0):[]}function qp(e,t,n,a){var l=e==null?0:e.length;return l?(n&&typeof n!="number"&&ft(e,t,n)&&(n=0,a=l),Pf(e,t,n,a)):[]}function ku(e,t,n){var a=e==null?0:e.length;if(!a)return-1;var l=n==null?0:ue(n);return l<0&&(l=Ke(a+l,0)),O(e,ne(t,3),l)}function Au(e,t,n){var a=e==null?0:e.length;if(!a)return-1;var l=a-1;return n!==b&&(l=ue(n),l=n<0?Ke(a+l,0):at(l,a-1)),O(e,ne(t,3),l,!0)}function Ru(e){return e!=null&&e.length?nt(e,1):[]}function Up(e){return e!=null&&e.length?nt(e,on):[]}function zp(e,t){return e!=null&&e.length?(t=t===b?1:ue(t),nt(e,t)):[]}function Wp(e){for(var t=-1,n=e==null?0:e.length,a={};++t<n;){var l=e[t];a[l[0]]=l[1]}return a}function Su(e){return e&&e.length?e[0]:b}function Bp(e,t,n){var a=e==null?0:e.length;if(!a)return-1;var l=n==null?0:ue(n);return l<0&&(l=Ke(a+l,0)),N(e,t,l)}function Vp(e){return e!=null&&e.length?$t(e,0,-1):[]}function Hp(e,t){return e==null?"":Dg.call(e,t)}function Ot(e){var t=e==null?0:e.length;return t?e[t-1]:b}function Gp(e,t,n){var a=e==null?0:e.length;if(!a)return-1;var l=a;return n!==b&&(l=ue(n),l=l<0?Ke(a+l,0):at(l,a-1)),t===t?vn(e,t,l):O(e,I,l,!0)}function Zp(e,t){return e&&e.length?Gs(e,ue(t)):b}function Nu(e,t){return e&&e.length&&t&&t.length?Pi(e,t):e}function Kp(e,t,n){return e&&e.length&&t&&t.length?Pi(e,t,ne(n,2)):e}function Yp(e,t,n){return e&&e.length&&t&&t.length?Pi(e,t,b,n):e}function Qp(e,t){var n=[];if(!e||!e.length)return n;var a=-1,l=[],f=e.length;for(t=ne(t,3);++a<f;){var y=e[a];t(y,a,e)&&(n.push(y),l.push(a))}return Ys(e,l),n}function no(e){return e==null?e:zg.call(e)}function Jp(e,t,n){var a=e==null?0:e.length;return a?(n&&typeof n!="number"&&ft(e,t,n)?(t=0,n=a):(t=t==null?0:ue(t),n=n===b?a:ue(n)),$t(e,t,n)):[]}function Xp(e,t){return ma(e,t)}function em(e,t,n){return zi(e,t,ne(n,2))}function tm(e,t){var n=e==null?0:e.length;if(n){var a=ma(e,t);if(a<n&&zt(e[a],t))return a}return-1}function nm(e,t){return ma(e,t,!0)}function rm(e,t,n){return zi(e,t,ne(n,2),!0)}function am(e,t){if(e!=null&&e.length){var n=ma(e,t,!0)-1;if(zt(e[n],t))return n}return-1}function im(e){return e&&e.length?Qs(e):[]}function om(e,t){return e&&e.length?Qs(e,ne(t,2)):[]}function sm(e){var t=e==null?0:e.length;return t?$t(e,1,t):[]}function um(e,t,n){return e&&e.length?(t=n||t===b?1:ue(t),$t(e,0,t<0?0:t)):[]}function lm(e,t,n){var a=e==null?0:e.length;return a?(t=n||t===b?1:ue(t),t=a-t,$t(e,t<0?0:t,a)):[]}function cm(e,t){return e&&e.length?ha(e,ne(t,3),!1,!0):[]}function dm(e,t){return e&&e.length?ha(e,ne(t,3)):[]}function fm(e){return e&&e.length?Cn(e):[]}function pm(e,t){return e&&e.length?Cn(e,ne(t,2)):[]}function mm(e,t){return t=typeof t=="function"?t:b,e&&e.length?Cn(e,b,t):[]}function ro(e){if(!e||!e.length)return[];var t=0;return e=m(e,function(n){if(Be(n))return t=Ke(n.length,t),!0}),re(t,function(n){return _(e,le(n))})}function $u(e,t){if(!e||!e.length)return[];var n=ro(e);return t==null?n:_(n,function(a){return s(t,b,a)})}function hm(e,t){return tu(e||[],t||[],Nr)}function gm(e,t){return tu(e||[],t||[],Ir)}function Ou(e){var t=o(e);return t.__chain__=!0,t}function bm(e,t){return t(e),e}function wa(e,t){return t(e)}function ym(){return Ou(this)}function vm(){return new ee(this.value(),this.__chain__)}function xm(){this.__values__===b&&(this.__values__=Bu(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?b:this.__values__[this.__index__++]}}function Cm(){return this}function _m(e){for(var t,n=this;n instanceof U;){var a=Fu(n);a.__index__=0,a.__values__=b,t?l.__wrapped__=a:t=a;var l=a;n=n.__wrapped__}return l.__wrapped__=e,t}function jm(){var e=this.__wrapped__;if(e instanceof W){var t=e;return this.__actions__.length&&(t=new W(this)),t=t.reverse(),t.__actions__.push({func:wa,args:[no],thisArg:b}),new ee(t,this.__chain__)}return this.thru(no)}function wm(){return eu(this.__wrapped__,this.__actions__)}function Tm(e,t,n){var a=oe(e)?p:Df;return n&&ft(e,t,n)&&(t=b),a(e,ne(t,3))}function Mm(e,t){return(oe(e)?m:Ps)(e,ne(t,3))}function Fm(e,t){return nt(Ta(e,t),1)}function km(e,t){return nt(Ta(e,t),on)}function Am(e,t,n){return n=n===b?1:ue(n),nt(Ta(e,t),n)}function Eu(e,t){return(oe(e)?c:Tn)(e,ne(t,3))}function Iu(e,t){return(oe(e)?h:sl)(e,ne(t,3))}function Rm(e,t,n,a){e=gt(e)?e:fr(e),n=n&&!a?ue(n):0;var l=e.length;return n<0&&(n=Ke(l+n,0)),Aa(e)?n<=l&&e.indexOf(t,n)>-1:!!l&&N(e,t,n)>-1}function Ta(e,t){return(oe(e)?_:Bs)(e,ne(t,3))}function Sm(e,t,n,a){return e==null?[]:(oe(t)||(t=t==null?[]:[t]),n=a?b:n,oe(n)||(n=n==null?[]:[n]),Zs(e,t,n))}function Nm(e,t,n){var a=oe(e)?E:Fe,l=arguments.length<3;return a(e,ne(t,4),n,l,Tn)}function $m(e,t,n){var a=oe(e)?P:Fe,l=arguments.length<3;return a(e,ne(t,4),n,l,sl)}function Om(e,t){return(oe(e)?m:Ps)(e,Fa(ne(t,3)))}function Em(e){return(oe(e)?Es:np)(e)}function Im(e,t,n){return t=(n?ft(e,t,n):t===b)?1:ue(t),(oe(e)?$f:rp)(e,t)}function Lm(e){return(oe(e)?Of:ap)(e)}function Dm(e){if(e==null)return 0;if(gt(e))return Aa(e)?Zt(e):e.length;var t=it(e);return t==Rt||t==qt?e.size:Li(e).length}function Pm(e,t,n){var a=oe(e)?T:ip;return n&&ft(e,t,n)&&(t=b),a(e,ne(t,3))}function qm(e,t){if(typeof t!="function")throw new It(ct);return e=ue(e),function(){if(--e<1)return t.apply(this,arguments)}}function Lu(e,t,n){return t=n?b:t,t=e&&t==null?e.length:t,dn(e,kt,b,b,b,b,t)}function Du(e,t){var n;if(typeof t!="function")throw new It(ct);return e=ue(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=b),n}}function Pu(e,t,n){t=n?b:t;var a=dn(e,Ft,b,b,b,b,b,t);return a.placeholder=Pu.placeholder,a}function qu(e,t,n){t=n?b:t;var a=dn(e,xn,b,b,b,b,b,t);return a.placeholder=qu.placeholder,a}function Uu(e,t,n){function a(qe){var Lt=q,Hr=V;return q=V=b,me=qe,se=e.apply(Hr,Lt)}function l(qe){return me=qe,J=Vr(x,t),ot?a(qe):se}function f(qe){var Lt=qe-pe,Hr=qe-me,jl=t-Lt;return vt?at(jl,K-Hr):jl}function y(qe){var Lt=qe-pe,Hr=qe-me;return pe===b||Lt>=t||Lt<0||vt&&Hr>=K}function x(){var qe=Ba();return y(qe)?w(qe):(J=Vr(x,f(qe)),b)}function w(qe){return J=b,Fn&&q?a(qe):(q=V=b,se)}function A(){J!==b&&cl(J),me=0,q=pe=V=J=b}function k(){return J===b?se:w(Ba())}function S(){var qe=Ba(),Lt=y(qe);if(q=arguments,V=this,pe=qe,Lt){if(J===b)return l(pe);if(vt)return cl(J),J=Vr(x,t),a(pe)}return J===b&&(J=Vr(x,t)),se}var q,V,K,se,J,pe,me=0,ot=!1,vt=!1,Fn=!0;if(typeof e!="function")throw new It(ct);return t=Et(t)||0,Oe(n)&&(ot=!!n.leading,vt="maxWait"in n,K=vt?Ke(Et(n.maxWait)||0,t):K,Fn="trailing"in n?!!n.trailing:Fn),S.cancel=A,S.flush=k,S}function Um(e){return dn(e,Mr)}function Ma(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new It(ct);var n=function(){var a=arguments,l=t?t.apply(this,a):a[0],f=n.cache;if(f.has(l))return f.get(l);var y=e.apply(this,a);return n.cache=f.set(l,y)||f,y};return n.cache=new(Ma.Cache||ln),n}function Fa(e){if(typeof e!="function")throw new It(ct);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function zm(e){return Du(2,e)}function Wm(e,t){if(typeof e!="function")throw new It(ct);return t=t===b?t:ue(t),de(e,t)}function Bm(e,t){if(typeof e!="function")throw new It(ct);return t=t==null?0:Ke(ue(t),0),de(function(n){var a=n[t],l=jn(n,0,t);return a&&M(l,a),s(e,this,l)})}function Vm(e,t,n){var a=!0,l=!0;if(typeof e!="function")throw new It(ct);return Oe(n)&&(a="leading"in n?!!n.leading:a,l="trailing"in n?!!n.trailing:l),Uu(e,t,{leading:a,maxWait:t,trailing:l})}function Hm(e){return Lu(e,1)}function Gm(e,t){return wo(Hi(t),e)}function Zm(){if(!arguments.length)return[];var e=arguments[0];return oe(e)?e:[e]}function Km(e){return Nt(e,xt)}function Ym(e,t){return t=typeof t=="function"?t:b,Nt(e,xt,t)}function Qm(e){return Nt(e,Pt|xt)}function Jm(e,t){return t=typeof t=="function"?t:b,Nt(e,Pt|xt,t)}function Xm(e,t){return t==null||Ls(e,t,Je(t))}function zt(e,t){return e===t||e!==e&&t!==t}function gt(e){return e!=null&&ka(e.length)&&!mn(e)}function Be(e){return Pe(e)&&gt(e)}function eh(e){return e===!0||e===!1||Pe(e)&&dt(e)==Se}function th(e){return Pe(e)&&e.nodeType===1&&!Pr(e)}function nh(e){if(e==null)return!0;if(gt(e)&&(oe(e)||typeof e=="string"||typeof e.splice=="function"||Mn(e)||yr(e)||Vn(e)))return!e.length;var t=it(e);if(t==Rt||t==qt)return!e.size;if(Dr(e))return!Li(e).length;for(var n in e)if(je.call(e,n))return!1;return!0}function rh(e,t){return Er(e,t)}function ah(e,t,n){n=typeof n=="function"?n:b;var a=n?n(e,t):b;return a===b?Er(e,t,b,n):!!a}function ao(e){if(!Pe(e))return!1;var t=dt(e);return t==ar||t==et||typeof e.message=="string"&&typeof e.name=="string"&&!Pr(e)}function ih(e){return typeof e=="number"&&al(e)}function mn(e){if(!Oe(e))return!1;var t=dt(e);return t==ir||t==ia||t==fe||t==Xc}function zu(e){return typeof e=="number"&&e==ue(e)}function ka(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Yt}function Oe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function Pe(e){return e!=null&&typeof e=="object"}function oh(e,t){return e===t||Ii(e,t,Ji(t))}function sh(e,t,n){return n=typeof n=="function"?n:b,Ii(e,t,Ji(t),n)}function uh(e){return Wu(e)&&e!=+e}function lh(e){if(Qg(e))throw new mo(jr);return zs(e)}function ch(e){return e===null}function dh(e){return e==null}function Wu(e){return typeof e=="number"||Pe(e)&&dt(e)==In}function Pr(e){if(!Pe(e)||dt(e)!=sn)return!1;var t=La(e);if(t===null)return!0;var n=je.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&$a.call(n)==Sg}function fh(e){return zu(e)&&e>=-Yt&&e<=Yt}function Aa(e){return typeof e=="string"||!oe(e)&&Pe(e)&&dt(e)==Ar}function jt(e){return typeof e=="symbol"||Pe(e)&&dt(e)==oa}function ph(e){return e===b}function mh(e){return Pe(e)&&it(e)==Rr}function hh(e){return Pe(e)&&dt(e)==td}function Bu(e){if(!e)return[];if(gt(e))return Aa(e)?Ge(e):ht(e);if(qr&&e[qr])return rn(e[qr]());var t=it(e);return(t==Rt?Gt:t==qt?Xn:fr)(e)}function hn(e){return e?(e=Et(e),e===on||e===-on?(e<0?-1:1)*li:e===e?e:0):e===0?e:0}function ue(e){var t=hn(e),n=t%1;return t===t?n?t-n:t:0}function Vu(e){return e?qn(ue(e),0,At):0}function Et(e){if(typeof e=="number")return e;if(jt(e))return rr;if(Oe(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Oe(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Vt(e);var n=_d.test(e);return n||wd.test(e)?nf(e.slice(2),n?2:8):Cd.test(e)?rr:+e}function Hu(e){return Jt(e,bt(e))}function gh(e){return e?qn(ue(e),-Yt,Yt):e===0?e:0}function _e(e){return e==null?"":_t(e)}function bh(e,t){var n=br(e);return t==null?n:Is(n,t)}function yh(e,t){return R(e,ne(t,3),Qt)}function vh(e,t){return R(e,ne(t,3),$i)}function xh(e,t){return e==null?e:vo(e,ne(t,3),bt)}function Ch(e,t){return e==null?e:ul(e,ne(t,3),bt)}function _h(e,t){return e&&Qt(e,ne(t,3))}function jh(e,t){return e&&$i(e,ne(t,3))}function wh(e){return e==null?[]:fa(e,Je(e))}function Th(e){return e==null?[]:fa(e,bt(e))}function io(e,t,n){var a=e==null?b:Un(e,t);return a===b?n:a}function Mh(e,t){return e!=null&&vu(e,t,qf)}function oo(e,t){return e!=null&&vu(e,t,Uf)}function Je(e){return gt(e)?Os(e):Li(e)}function bt(e){return gt(e)?Os(e,!0):Qf(e)}function Fh(e,t){var n={};return t=ne(t,3),Qt(e,function(a,l,f){cn(n,t(a,l,f),a)}),n}function kh(e,t){var n={};return t=ne(t,3),Qt(e,function(a,l,f){cn(n,l,t(a,l,f))}),n}function Ah(e,t){return Gu(e,Fa(ne(t)))}function Gu(e,t){if(e==null)return{};var n=_(Qi(e),function(a){return[a]});return t=ne(t),Ks(e,n,function(a,l){return t(a,l[0])})}function Rh(e,t,n){t=_n(t,e);var a=-1,l=t.length;for(l||(l=1,e=b);++a<l;){var f=e==null?b:e[Xt(t[a])];f===b&&(a=l,f=n),e=mn(f)?f.call(e):f}return e}function Sh(e,t,n){return e==null?e:Ir(e,t,n)}function Nh(e,t,n,a){return a=typeof a=="function"?a:b,e==null?e:Ir(e,t,n,a)}function $h(e,t,n){var a=oe(e),l=a||Mn(e)||yr(e);if(t=ne(t,4),n==null){var f=e&&e.constructor;n=l?a?new f:[]:Oe(e)&&mn(f)?br(La(e)):{}}return(l?c:Qt)(e,function(y,x,w){return t(n,y,x,w)}),n}function Oh(e,t){return e==null||Wi(e,t)}function Eh(e,t,n){return e==null?e:Xs(e,t,Hi(n))}function Ih(e,t,n,a){return a=typeof a=="function"?a:b,e==null?e:Xs(e,t,Hi(n),a)}function fr(e){return e==null?[]:rt(e,Je(e))}function Lh(e){return e==null?[]:rt(e,bt(e))}function Dh(e,t,n){return n===b&&(n=t,t=b),n!==b&&(n=Et(n),n=n===n?n:0),t!==b&&(t=Et(t),t=t===t?t:0),qn(Et(e),t,n)}function Ph(e,t,n){return t=hn(t),n===b?(n=t,t=0):n=hn(n),e=Et(e),zf(e,t,n)}function qh(e,t,n){if(n&&typeof n!="boolean"&&ft(e,t,n)&&(t=n=b),n===b&&(typeof t=="boolean"?(n=t,t=b):typeof e=="boolean"&&(n=e,e=b)),e===b&&t===b?(e=0,t=1):(e=hn(e),t===b?(t=e,e=0):t=hn(t)),e>t){var a=e;e=t,t=a}if(n||e%1||t%1){var l=il();return at(e+l*(t-e+tf("1e-"+((l+"").length-1))),t)}return qi(e,t)}function Zu(e){return Mo(_e(e).toLowerCase())}function Ku(e){return e=_e(e),e&&e.replace(Md,of).replace(Vd,"")}function Uh(e,t,n){e=_e(e),t=_t(t);var a=e.length;n=n===b?a:qn(ue(n),0,a);var l=n;return n-=t.length,n>=0&&e.slice(n,l)==t}function zh(e){return e=_e(e),e&&od.test(e)?e.replace(is,sf):e}function Wh(e){return e=_e(e),e&&fd.test(e)?e.replace(Ci,"\\$&"):e}function Bh(e,t,n){e=_e(e),t=ue(t);var a=t?Zt(e):0;if(!t||a>=t)return e;var l=(t-a)/2;return va(Ua(l),n)+e+va(qa(l),n)}function Vh(e,t,n){e=_e(e),t=ue(t);var a=t?Zt(e):0;return t&&a<t?e+va(t-a,n):e}function Hh(e,t,n){e=_e(e),t=ue(t);var a=t?Zt(e):0;return t&&a<t?va(t-a,n)+e:e}function Gh(e,t,n){return n||t==null?t=0:t&&(t=+t),Ug(_e(e).replace(_i,""),t||0)}function Zh(e,t,n){return t=(n?ft(e,t,n):t===b)?1:ue(t),Ui(_e(e),t)}function Kh(){var e=arguments,t=_e(e[0]);return e.length<3?t:t.replace(e[1],e[2])}function Yh(e,t,n){return n&&typeof n!="number"&&ft(e,t,n)&&(t=n=b),(n=n===b?At:n>>>0)?(e=_e(e),e&&(typeof t=="string"||t!=null&&!To(t))&&(t=_t(t),!t&&He(e))?jn(Ge(e),0,n):e.split(t,n)):[]}function Qh(e,t,n){return e=_e(e),n=n==null?0:qn(ue(n),0,e.length),t=_t(t),e.slice(n,n+t.length)==t}function Jh(e,t,n){var a=o.templateSettings;n&&ft(e,t,n)&&(t=b),e=_e(e),t=Va({},t,a,gu);var l,f,y=Va({},t.imports,a.imports,gu),x=Je(y),w=rt(y,x),A=0,k=t.interpolate||sa,S="__p += '",q=ho((t.escape||sa).source+"|"+k.source+"|"+(k===os?xd:sa).source+"|"+(t.evaluate||sa).source+"|$","g"),V="//# sourceURL="+(je.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Yd+"]")+`
`;e.replace(q,function(J,pe,me,ot,vt,Fn){return me||(me=ot),S+=e.slice(A,Fn).replace(Fd,z),pe&&(l=!0,S+=`' +
__e(`+pe+`) +
'`),vt&&(f=!0,S+=`';
`+vt+`;
__p += '`),me&&(S+=`' +
((__t = (`+me+`)) == null ? '' : __t) +
'`),A=Fn+J.length,J}),S+=`';
`;var K=je.call(t,"variable")&&t.variable;if(K){if(yd.test(K))throw new mo(wr)}else S=`with (obj) {
`+S+`
}
`;S=(f?S.replace(nd,""):S).replace(rd,"$1").replace(ad,"$1;"),S="function("+(K||"obj")+`) {
`+(K?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(l?", __e = _.escape":"")+(f?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+S+`return __p
}`;var se=_l(function(){return Ju(x,V+"return "+S).apply(b,w)});if(se.source=S,ao(se))throw se;return se}function Xh(e){return _e(e).toLowerCase()}function eg(e){return _e(e).toUpperCase()}function tg(e,t,n){if(e=_e(e),e&&(n||t===b))return Vt(e);if(!e||!(t=_t(t)))return e;var a=Ge(e),l=Ge(t);return jn(a,yn(a,l),Q(a,l)+1).join("")}function ng(e,t,n){if(e=_e(e),e&&(n||t===b))return e.slice(0,lt(e)+1);if(!e||!(t=_t(t)))return e;var a=Ge(e);return jn(a,0,Q(a,Ge(t))+1).join("")}function rg(e,t,n){if(e=_e(e),e&&(n||t===b))return e.replace(_i,"");if(!e||!(t=_t(t)))return e;var a=Ge(e);return jn(a,yn(a,Ge(t))).join("")}function ag(e,t){var n=oi,a=si;if(Oe(t)){var l="separator"in t?t.separator:l;n="length"in t?ue(t.length):n,a="omission"in t?_t(t.omission):a}e=_e(e);var f=e.length;if(He(e)){var y=Ge(e);f=y.length}if(n>=f)return e;var x=n-Zt(a);if(x<1)return a;var w=y?jn(y,0,x).join(""):e.slice(0,x);if(l===b)return w+a;if(y&&(x+=w.length-x),To(l)){if(e.slice(x).search(l)){var A,k=w;for(l.global||(l=ho(l.source,_e(ss.exec(l))+"g")),l.lastIndex=0;A=l.exec(k);)var S=A.index;w=w.slice(0,S===b?x:S)}}else if(e.indexOf(_t(l),x)!=x){var q=w.lastIndexOf(l);q>-1&&(w=w.slice(0,q))}return w+a}function ig(e){return e=_e(e),e&&id.test(e)?e.replace(as,uf):e}function Yu(e,t,n){return e=_e(e),t=n?b:t,t===b?Ht(e)?ye(e):$(e):e.match(t)||[]}function og(e){var t=e==null?0:e.length,n=ne();return e=t?_(e,function(a){if(typeof a[1]!="function")throw new It(ct);return[n(a[0]),a[1]]}):[],de(function(a){for(var l=-1;++l<t;){var f=e[l];if(s(f[0],this,a))return s(f[1],this,a)}})}function sg(e){return Lf(Nt(e,Pt))}function so(e){return function(){return e}}function ug(e,t){return e==null||e!==e?t:e}function yt(e){return e}function uo(e){return Ws(typeof e=="function"?e:Nt(e,Pt))}function lg(e){return Vs(Nt(e,Pt))}function cg(e,t){return Hs(e,Nt(t,Pt))}function lo(e,t,n){var a=Je(t),l=fa(t,a);n!=null||Oe(t)&&(l.length||!a.length)||(n=t,t=e,e=this,l=fa(t,Je(t)));var f=!(Oe(n)&&"chain"in n&&!n.chain),y=mn(e);return c(l,function(x){var w=t[x];e[x]=w,y&&(e.prototype[x]=function(){var A=this.__chain__;if(f||A){var k=e(this.__wrapped__);return(k.__actions__=ht(this.__actions__)).push({func:w,args:arguments,thisArg:e}),k.__chain__=A,k}return w.apply(e,M([this.value()],arguments))})}),e}function dg(){return tt._===this&&(tt._=Ng),this}function co(){}function fg(e){return e=ue(e),de(function(t){return Gs(t,e)})}function Qu(e){return Xi(e)?le(Xt(e)):ep(e)}function pg(e){return function(t){return e==null?b:Un(e,t)}}function fo(){return[]}function po(){return!1}function mg(){return{}}function hg(){return""}function gg(){return!0}function bg(e,t){if(e=ue(e),e<1||e>Yt)return[];var n=At,a=at(e,At);t=ne(t),e-=At;for(var l=re(a,t);++n<e;)t(n);return l}function yg(e){return oe(e)?_(e,Xt):jt(e)?[e]:ht(pl(_e(e)))}function vg(e){var t=++Rg;return _e(e)+t}function xg(e){return e&&e.length?da(e,yt,Oi):b}function Cg(e,t){return e&&e.length?da(e,ne(t,2),Oi):b}function _g(e){return te(e,yt)}function jg(e,t){return te(e,ne(t,2))}function wg(e){return e&&e.length?da(e,yt,Di):b}function Tg(e,t){return e&&e.length?da(e,ne(t,2),Di):b}function Mg(e){return e&&e.length?Ye(e,yt):0}function Fg(e,t){return e&&e.length?Ye(e,ne(t,2)):0}F=F==null?tt:ur.defaults(tt.Object(),F,ur.pick(tt,Kd));var Ze=F.Array,Ra=F.Date,mo=F.Error,Ju=F.Function,pr=F.Math,Ae=F.Object,ho=F.RegExp,kg=F.String,It=F.TypeError,Sa=Ze.prototype,Ag=Ju.prototype,mr=Ae.prototype,Na=F["__core-js_shared__"],$a=Ag.toString,je=mr.hasOwnProperty,Rg=0,Xu=function(){var e=/[^.]+$/.exec(Na&&Na.keys&&Na.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Oa=mr.toString,Sg=$a.call(Ae),Ng=tt._,$g=ho("^"+$a.call(je).replace(Ci,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ea=Fs?F.Buffer:b,wn=F.Symbol,Ia=F.Uint8Array,el=Ea?Ea.allocUnsafe:b,La=Sn(Ae.getPrototypeOf,Ae),tl=Ae.create,nl=mr.propertyIsEnumerable,Da=Sa.splice,rl=wn?wn.isConcatSpreadable:b,qr=wn?wn.iterator:b,Bn=wn?wn.toStringTag:b,Pa=function(){try{var e=zn(Ae,"defineProperty");return e({},"",{}),e}catch{}}(),Og=F.clearTimeout!==tt.clearTimeout&&F.clearTimeout,Eg=Ra&&Ra.now!==tt.Date.now&&Ra.now,Ig=F.setTimeout!==tt.setTimeout&&F.setTimeout,qa=pr.ceil,Ua=pr.floor,go=Ae.getOwnPropertySymbols,Lg=Ea?Ea.isBuffer:b,al=F.isFinite,Dg=Sa.join,Pg=Sn(Ae.keys,Ae),Ke=pr.max,at=pr.min,qg=Ra.now,Ug=F.parseInt,il=pr.random,zg=Sa.reverse,bo=zn(F,"DataView"),Ur=zn(F,"Map"),yo=zn(F,"Promise"),hr=zn(F,"Set"),zr=zn(F,"WeakMap"),Wr=zn(Ae,"create"),za=zr&&new zr,gr={},Wg=Wn(bo),Bg=Wn(Ur),Vg=Wn(yo),Hg=Wn(hr),Gg=Wn(zr),Wa=wn?wn.prototype:b,Br=Wa?Wa.valueOf:b,ol=Wa?Wa.toString:b,br=function(){function e(){}return function(t){if(!Oe(t))return{};if(tl)return tl(t);e.prototype=t;var n=new e;return e.prototype=b,n}}();o.templateSettings={escape:sd,evaluate:ud,interpolate:os,variable:"",imports:{_:o}},o.prototype=U.prototype,o.prototype.constructor=o,ee.prototype=br(U.prototype),ee.prototype.constructor=ee,W.prototype=br(U.prototype),W.prototype.constructor=W,Dn.prototype.clear=df,Dn.prototype.delete=ff,Dn.prototype.get=pf,Dn.prototype.has=mf,Dn.prototype.set=hf,un.prototype.clear=gf,un.prototype.delete=bf,un.prototype.get=yf,un.prototype.has=vf,un.prototype.set=xf,ln.prototype.clear=Cf,ln.prototype.delete=_f,ln.prototype.get=jf,ln.prototype.has=wf,ln.prototype.set=Tf,Pn.prototype.add=Pn.prototype.push=Mf,Pn.prototype.has=Ff,Ut.prototype.clear=kf,Ut.prototype.delete=Af,Ut.prototype.get=Rf,Ut.prototype.has=Sf,Ut.prototype.set=Nf;var Tn=su(Qt),sl=su($i,!0),vo=uu(),ul=uu(!0),ll=za?function(e,t){return za.set(e,t),e}:yt,Zg=Pa?function(e,t){return Pa(e,"toString",{configurable:!0,enumerable:!1,value:so(t),writable:!0})}:yt,Kg=de,cl=Og||function(e){return tt.clearTimeout(e)},Yg=hr&&1/Xn(new hr([,-0]))[1]==on?function(e){return new hr(e)}:co,xo=za?function(e){return za.get(e)}:co,Co=go?function(e){return e==null?[]:(e=Ae(e),m(go(e),function(t){return nl.call(e,t)}))}:fo,dl=go?function(e){for(var t=[];e;)M(t,Co(e)),e=La(e);return t}:fo,it=dt;(bo&&it(new bo(new ArrayBuffer(1)))!=or||Ur&&it(new Ur)!=Rt||yo&&it(yo.resolve())!=rs||hr&&it(new hr)!=qt||zr&&it(new zr)!=Rr)&&(it=function(e){var t=dt(e),n=t==sn?e.constructor:b,a=n?Wn(n):"";if(a)switch(a){case Wg:return or;case Bg:return Rt;case Vg:return rs;case Hg:return qt;case Gg:return Rr}return t});var Qg=Na?mn:po,fl=Mu(ll),Vr=Ig||function(e,t){return tt.setTimeout(e,t)},_o=Mu(Zg),pl=Fp(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(dd,function(n,a,l,f){t.push(l?f.replace(vd,"$1"):a||n)}),t}),Jg=de(function(e,t){return Be(e)?$r(e,nt(t,1,Be,!0)):[]}),Xg=de(function(e,t){var n=Ot(t);return Be(n)&&(n=b),Be(e)?$r(e,nt(t,1,Be,!0),ne(n,2)):[]}),eb=de(function(e,t){var n=Ot(t);return Be(n)&&(n=b),Be(e)?$r(e,nt(t,1,Be,!0),b,n):[]}),tb=de(function(e){var t=_(e,Vi);return t.length&&t[0]===e[0]?Ei(t):[]}),nb=de(function(e){var t=Ot(e),n=_(e,Vi);return t===Ot(n)?t=b:n.pop(),n.length&&n[0]===e[0]?Ei(n,ne(t,2)):[]}),rb=de(function(e){var t=Ot(e),n=_(e,Vi);return t=typeof t=="function"?t:b,t&&n.pop(),n.length&&n[0]===e[0]?Ei(n,b,t):[]}),ab=de(Nu),ib=fn(function(e,t){var n=e==null?0:e.length,a=Ni(e,t);return Ys(e,_(t,function(l){return pn(l,n)?+l:l}).sort(au)),a}),ob=de(function(e){return Cn(nt(e,1,Be,!0))}),sb=de(function(e){var t=Ot(e);return Be(t)&&(t=b),Cn(nt(e,1,Be,!0),ne(t,2))}),ub=de(function(e){var t=Ot(e);return t=typeof t=="function"?t:b,Cn(nt(e,1,Be,!0),b,t)}),lb=de(function(e,t){return Be(e)?$r(e,t):[]}),cb=de(function(e){return Bi(m(e,Be))}),db=de(function(e){var t=Ot(e);return Be(t)&&(t=b),Bi(m(e,Be),ne(t,2))}),fb=de(function(e){var t=Ot(e);return t=typeof t=="function"?t:b,Bi(m(e,Be),b,t)}),pb=de(ro),mb=de(function(e){var t=e.length,n=t>1?e[t-1]:b;return n=typeof n=="function"?(e.pop(),n):b,$u(e,n)}),hb=fn(function(e){var t=e.length,n=t?e[0]:0,a=this.__wrapped__,l=function(f){return Ni(f,e)};return!(t>1||this.__actions__.length)&&a instanceof W&&pn(n)?(a=a.slice(n,+n+(t?1:0)),a.__actions__.push({func:wa,args:[l],thisArg:b}),new ee(a,this.__chain__).thru(function(f){return t&&!f.length&&f.push(b),f})):this.thru(l)}),gb=ga(function(e,t,n){je.call(e,n)?++e[n]:cn(e,n,1)}),bb=cu(ku),yb=cu(Au),vb=ga(function(e,t,n){je.call(e,n)?e[n].push(t):cn(e,n,[t])}),xb=de(function(e,t,n){var a=-1,l=typeof t=="function",f=gt(e)?Ze(e.length):[];return Tn(e,function(y){f[++a]=l?s(t,y,n):Or(y,t,n)}),f}),Cb=ga(function(e,t,n){cn(e,n,t)}),_b=ga(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),jb=de(function(e,t){if(e==null)return[];var n=t.length;return n>1&&ft(e,t[0],t[1])?t=[]:n>2&&ft(t[0],t[1],t[2])&&(t=[t[0]]),Zs(e,nt(t,1),[])}),Ba=Eg||function(){return tt.Date.now()},jo=de(function(e,t,n){var a=pt;if(n.length){var l=Mt(n,dr(jo));a|=We}return dn(e,a,t,n,l)}),ml=de(function(e,t,n){var a=pt|Kt;if(n.length){var l=Mt(n,dr(ml));a|=We}return dn(t,a,e,n,l)}),wb=de(function(e,t){return Ds(e,1,t)}),Tb=de(function(e,t,n){return Ds(e,Et(t)||0,n)});Ma.Cache=ln;var Mb=Kg(function(e,t){t=t.length==1&&oe(t[0])?_(t[0],Te(ne())):_(nt(t,1),Te(ne()));var n=t.length;return de(function(a){for(var l=-1,f=at(a.length,n);++l<f;)a[l]=t[l].call(this,a[l]);return s(e,this,a)})}),wo=de(function(e,t){return dn(e,We,b,t,Mt(t,dr(wo)))}),hl=de(function(e,t){return dn(e,On,b,t,Mt(t,dr(hl)))}),Fb=fn(function(e,t){return dn(e,En,b,b,b,t)}),kb=xa(Oi),Ab=xa(function(e,t){return e>=t}),Vn=Us(function(){return arguments}())?Us:function(e){return Pe(e)&&je.call(e,"callee")&&!nl.call(e,"callee")},oe=Ze.isArray,Rb=ks?Te(ks):Bf,Mn=Lg||po,Sb=As?Te(As):Vf,gl=Rs?Te(Rs):Gf,To=Ss?Te(Ss):Zf,bl=Ns?Te(Ns):Kf,yr=$s?Te($s):Yf,Nb=xa(Di),$b=xa(function(e,t){return e<=t}),Ob=lr(function(e,t){if(Dr(t)||gt(t))return Jt(t,Je(t),e),b;for(var n in t)je.call(t,n)&&Nr(e,n,t[n])}),yl=lr(function(e,t){Jt(t,bt(t),e)}),Va=lr(function(e,t,n,a){Jt(t,bt(t),e,a)}),Eb=lr(function(e,t,n,a){Jt(t,Je(t),e,a)}),Ib=fn(Ni),Lb=de(function(e,t){e=Ae(e);var n=-1,a=t.length,l=a>2?t[2]:b;for(l&&ft(t[0],t[1],l)&&(a=1);++n<a;)for(var f=t[n],y=bt(f),x=-1,w=y.length;++x<w;){var A=y[x],k=e[A];(k===b||zt(k,mr[A])&&!je.call(e,A))&&(e[A]=f[A])}return e}),Db=de(function(e){return e.push(b,bu),s(vl,b,e)}),Pb=fu(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=Oa.call(t)),e[t]=n},so(yt)),qb=fu(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=Oa.call(t)),je.call(e,t)?e[t].push(n):e[t]=[n]},ne),Ub=de(Or),zb=lr(function(e,t,n){pa(e,t,n)}),vl=lr(function(e,t,n,a){pa(e,t,n,a)}),Wb=fn(function(e,t){var n={};if(e==null)return n;var a=!1;t=_(t,function(f){return f=_n(f,e),a||(a=f.length>1),f}),Jt(e,Qi(e),n),a&&(n=Nt(n,Pt|an|xt,hp));for(var l=t.length;l--;)Wi(n,t[l]);return n}),Bb=fn(function(e,t){return e==null?{}:Xf(e,t)}),xl=hu(Je),Cl=hu(bt),Vb=cr(function(e,t,n){return t=t.toLowerCase(),e+(n?Zu(t):t)}),Hb=cr(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Gb=cr(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Zb=lu("toLowerCase"),Kb=cr(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Yb=cr(function(e,t,n){return e+(n?" ":"")+Mo(t)}),Qb=cr(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Mo=lu("toUpperCase"),_l=de(function(e,t){try{return s(e,b,t)}catch(n){return ao(n)?n:new mo(n)}}),Jb=fn(function(e,t){return c(t,function(n){n=Xt(n),cn(e,n,jo(e[n],e))}),e}),Xb=du(),ey=du(!0),ty=de(function(e,t){return function(n){return Or(n,e,t)}}),ny=de(function(e,t){return function(n){return Or(e,n,t)}}),ry=Zi(_),ay=Zi(p),iy=Zi(T),oy=pu(),sy=pu(!0),uy=ya(function(e,t){return e+t},0),ly=Ki("ceil"),cy=ya(function(e,t){return e/t},1),dy=Ki("floor"),fy=ya(function(e,t){return e*t},1),py=Ki("round"),my=ya(function(e,t){return e-t},0);return o.after=qm,o.ary=Lu,o.assign=Ob,o.assignIn=yl,o.assignInWith=Va,o.assignWith=Eb,o.at=Ib,o.before=Du,o.bind=jo,o.bindAll=Jb,o.bindKey=ml,o.castArray=Zm,o.chain=Ou,o.chunk=$p,o.compact=Op,o.concat=Ep,o.cond=og,o.conforms=sg,o.constant=so,o.countBy=gb,o.create=bh,o.curry=Pu,o.curryRight=qu,o.debounce=Uu,o.defaults=Lb,o.defaultsDeep=Db,o.defer=wb,o.delay=Tb,o.difference=Jg,o.differenceBy=Xg,o.differenceWith=eb,o.drop=Ip,o.dropRight=Lp,o.dropRightWhile=Dp,o.dropWhile=Pp,o.fill=qp,o.filter=Mm,o.flatMap=Fm,o.flatMapDeep=km,o.flatMapDepth=Am,o.flatten=Ru,o.flattenDeep=Up,o.flattenDepth=zp,o.flip=Um,o.flow=Xb,o.flowRight=ey,o.fromPairs=Wp,o.functions=wh,o.functionsIn=Th,o.groupBy=vb,o.initial=Vp,o.intersection=tb,o.intersectionBy=nb,o.intersectionWith=rb,o.invert=Pb,o.invertBy=qb,o.invokeMap=xb,o.iteratee=uo,o.keyBy=Cb,o.keys=Je,o.keysIn=bt,o.map=Ta,o.mapKeys=Fh,o.mapValues=kh,o.matches=lg,o.matchesProperty=cg,o.memoize=Ma,o.merge=zb,o.mergeWith=vl,o.method=ty,o.methodOf=ny,o.mixin=lo,o.negate=Fa,o.nthArg=fg,o.omit=Wb,o.omitBy=Ah,o.once=zm,o.orderBy=Sm,o.over=ry,o.overArgs=Mb,o.overEvery=ay,o.overSome=iy,o.partial=wo,o.partialRight=hl,o.partition=_b,o.pick=Bb,o.pickBy=Gu,o.property=Qu,o.propertyOf=pg,o.pull=ab,o.pullAll=Nu,o.pullAllBy=Kp,o.pullAllWith=Yp,o.pullAt=ib,o.range=oy,o.rangeRight=sy,o.rearg=Fb,o.reject=Om,o.remove=Qp,o.rest=Wm,o.reverse=no,o.sampleSize=Im,o.set=Sh,o.setWith=Nh,o.shuffle=Lm,o.slice=Jp,o.sortBy=jb,o.sortedUniq=im,o.sortedUniqBy=om,o.split=Yh,o.spread=Bm,o.tail=sm,o.take=um,o.takeRight=lm,o.takeRightWhile=cm,o.takeWhile=dm,o.tap=bm,o.throttle=Vm,o.thru=wa,o.toArray=Bu,o.toPairs=xl,o.toPairsIn=Cl,o.toPath=yg,o.toPlainObject=Hu,o.transform=$h,o.unary=Hm,o.union=ob,o.unionBy=sb,o.unionWith=ub,o.uniq=fm,o.uniqBy=pm,o.uniqWith=mm,o.unset=Oh,o.unzip=ro,o.unzipWith=$u,o.update=Eh,o.updateWith=Ih,o.values=fr,o.valuesIn=Lh,o.without=lb,o.words=Yu,o.wrap=Gm,o.xor=cb,o.xorBy=db,o.xorWith=fb,o.zip=pb,o.zipObject=hm,o.zipObjectDeep=gm,o.zipWith=mb,o.entries=xl,o.entriesIn=Cl,o.extend=yl,o.extendWith=Va,lo(o,o),o.add=uy,o.attempt=_l,o.camelCase=Vb,o.capitalize=Zu,o.ceil=ly,o.clamp=Dh,o.clone=Km,o.cloneDeep=Qm,o.cloneDeepWith=Jm,o.cloneWith=Ym,o.conformsTo=Xm,o.deburr=Ku,o.defaultTo=ug,o.divide=cy,o.endsWith=Uh,o.eq=zt,o.escape=zh,o.escapeRegExp=Wh,o.every=Tm,o.find=bb,o.findIndex=ku,o.findKey=yh,o.findLast=yb,o.findLastIndex=Au,o.findLastKey=vh,o.floor=dy,o.forEach=Eu,o.forEachRight=Iu,o.forIn=xh,o.forInRight=Ch,o.forOwn=_h,o.forOwnRight=jh,o.get=io,o.gt=kb,o.gte=Ab,o.has=Mh,o.hasIn=oo,o.head=Su,o.identity=yt,o.includes=Rm,o.indexOf=Bp,o.inRange=Ph,o.invoke=Ub,o.isArguments=Vn,o.isArray=oe,o.isArrayBuffer=Rb,o.isArrayLike=gt,o.isArrayLikeObject=Be,o.isBoolean=eh,o.isBuffer=Mn,o.isDate=Sb,o.isElement=th,o.isEmpty=nh,o.isEqual=rh,o.isEqualWith=ah,o.isError=ao,o.isFinite=ih,o.isFunction=mn,o.isInteger=zu,o.isLength=ka,o.isMap=gl,o.isMatch=oh,o.isMatchWith=sh,o.isNaN=uh,o.isNative=lh,o.isNil=dh,o.isNull=ch,o.isNumber=Wu,o.isObject=Oe,o.isObjectLike=Pe,o.isPlainObject=Pr,o.isRegExp=To,o.isSafeInteger=fh,o.isSet=bl,o.isString=Aa,o.isSymbol=jt,o.isTypedArray=yr,o.isUndefined=ph,o.isWeakMap=mh,o.isWeakSet=hh,o.join=Hp,o.kebabCase=Hb,o.last=Ot,o.lastIndexOf=Gp,o.lowerCase=Gb,o.lowerFirst=Zb,o.lt=Nb,o.lte=$b,o.max=xg,o.maxBy=Cg,o.mean=_g,o.meanBy=jg,o.min=wg,o.minBy=Tg,o.stubArray=fo,o.stubFalse=po,o.stubObject=mg,o.stubString=hg,o.stubTrue=gg,o.multiply=fy,o.nth=Zp,o.noConflict=dg,o.noop=co,o.now=Ba,o.pad=Bh,o.padEnd=Vh,o.padStart=Hh,o.parseInt=Gh,o.random=qh,o.reduce=Nm,o.reduceRight=$m,o.repeat=Zh,o.replace=Kh,o.result=Rh,o.round=py,o.runInContext=C,o.sample=Em,o.size=Dm,o.snakeCase=Kb,o.some=Pm,o.sortedIndex=Xp,o.sortedIndexBy=em,o.sortedIndexOf=tm,o.sortedLastIndex=nm,o.sortedLastIndexBy=rm,o.sortedLastIndexOf=am,o.startCase=Yb,o.startsWith=Qh,o.subtract=my,o.sum=Mg,o.sumBy=Fg,o.template=Jh,o.times=bg,o.toFinite=hn,o.toInteger=ue,o.toLength=Vu,o.toLower=Xh,o.toNumber=Et,o.toSafeInteger=gh,o.toString=_e,o.toUpper=eg,o.trim=tg,o.trimEnd=ng,o.trimStart=rg,o.truncate=ag,o.unescape=ig,o.uniqueId=vg,o.upperCase=Qb,o.upperFirst=Mo,o.each=Eu,o.eachRight=Iu,o.first=Su,lo(o,function(){var e={};return Qt(o,function(t,n){je.call(o.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),o.VERSION=er,c(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){o[e].placeholder=o}),c(["drop","take"],function(e,t){W.prototype[e]=function(n){n=n===b?1:Ke(ue(n),0);var a=this.__filtered__&&!t?new W(this):this.clone();return a.__filtered__?a.__takeCount__=at(n,a.__takeCount__):a.__views__.push({size:at(n,At),type:e+(a.__dir__<0?"Right":"")}),a},W.prototype[e+"Right"]=function(n){return this.reverse()[e](n).reverse()}}),c(["filter","map","takeWhile"],function(e,t){var n=t+1,a=n==Fr||n==aa;W.prototype[e]=function(l){var f=this.clone();return f.__iteratees__.push({iteratee:ne(l,3),type:n}),f.__filtered__=f.__filtered__||a,f}}),c(["head","last"],function(e,t){var n="take"+(t?"Right":"");W.prototype[e]=function(){return this[n](1).value()[0]}}),c(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");W.prototype[e]=function(){return this.__filtered__?new W(this):this[n](1)}}),W.prototype.compact=function(){return this.filter(yt)},W.prototype.find=function(e){return this.filter(e).head()},W.prototype.findLast=function(e){return this.reverse().find(e)},W.prototype.invokeMap=de(function(e,t){return typeof e=="function"?new W(this):this.map(function(n){return Or(n,e,t)})}),W.prototype.reject=function(e){return this.filter(Fa(ne(e)))},W.prototype.slice=function(e,t){e=ue(e);var n=this;return n.__filtered__&&(e>0||t<0)?new W(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==b&&(t=ue(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)},W.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},W.prototype.toArray=function(){return this.take(At)},Qt(W.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),a=/^(?:head|last)$/.test(t),l=o[a?"take"+(t=="last"?"Right":""):t],f=a||/^find/.test(t);l&&(o.prototype[t]=function(){var y=this.__wrapped__,x=a?[1]:arguments,w=y instanceof W,A=x[0],k=w||oe(y),S=function(pe){var me=l.apply(o,M([pe],x));return a&&q?me[0]:me};k&&n&&typeof A=="function"&&A.length!=1&&(w=k=!1);var q=this.__chain__,V=!!this.__actions__.length,K=f&&!q,se=w&&!V;if(!f&&k){y=se?y:new W(this);var J=e.apply(y,x);return J.__actions__.push({func:wa,args:[S],thisArg:b}),new ee(J,q)}return K&&se?e.apply(this,x):(J=this.thru(S),K?a?J.value()[0]:J.value():J)})}),c(["pop","push","shift","sort","splice","unshift"],function(e){var t=Sa[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",a=/^(?:pop|shift)$/.test(e);o.prototype[e]=function(){var l=arguments;if(a&&!this.__chain__){var f=this.value();return t.apply(oe(f)?f:[],l)}return this[n](function(y){return t.apply(oe(y)?y:[],l)})}}),Qt(W.prototype,function(e,t){var n=o[t];if(n){var a=n.name+"";je.call(gr,a)||(gr[a]=[]),gr[a].push({name:t,func:n})}}),gr[ba(b,Kt).name]=[{name:"wrapper",func:b}],W.prototype.clone=mt,W.prototype.reverse=Ri,W.prototype.value=cf,o.prototype.at=hb,o.prototype.chain=ym,o.prototype.commit=vm,o.prototype.next=xm,o.prototype.plant=_m,o.prototype.reverse=jm,o.prototype.toJSON=o.prototype.valueOf=o.prototype.value=wm,o.prototype.first=o.prototype.head,qr&&(o.prototype[qr]=Cm),o},ur=lf();Ln?((Ln.exports=ur)._=ur,ki._=ur):tt._=ur}).call(Zr)})(Xa,Xa.exports);var Y_=Xa.exports,Yl=Y_.runInContext(),ve=h0(Yl,Yl);const Yc=/^[A-Za-z][_0-9A-Za-z]*$/,Qc=i=>({name:"attributeNameAlreadyUsed",message:Le.unique.id,test(r){if(!r)return!1;const s=ve.snakeCase(r);return!i.some(d=>ve.snakeCase(d)===s)}}),Ko=i=>({name:"forbiddenAttributeName",message:j("error.attributeName.reserved-name"),test(r){if(!r)return!1;const s=ve.snakeCase(r);return!i.some(d=>ve.snakeCase(d)===s)}}),L={default:()=>Re().nullable(),max:()=>Wt().integer().nullable(),min:()=>Wt().integer().when("max",(i,r)=>i?r.max(i,j("error.validation.minSupMax")):r).nullable(),maxLength:()=>Wt().integer().positive(j("error.validation.positive")).nullable(),minLength:()=>Wt().integer().min(1).when("maxLength",(i,r)=>i?r.max(i,j("error.validation.minSupMax")):r).nullable(),name(i,r){return Re().test(Qc(i)).test(Ko(r)).matches(Yc,Le.regex.id).required(Le.required.id)},required:()=>Jr(),type:()=>Re().required(Le.required.id),unique:()=>Jr().nullable()},Io=(i,r)=>({name:L.name(i,r),type:L.type(),default:L.default(),unique:L.unique(),required:L.required(),maxLength:L.maxLength(),minLength:L.minLength(),regex:Re().test({name:"isValidRegExpPattern",message:j("error.validation.regex"),test(d){try{return new RegExp(d||"")!==null}catch{return!1}}}).nullable()}),Lo=()=>({name:"isMinSuperiorThanMax",message:j("error.validation.minSupMax"),test(i){if(!i)return!0;const{max:r}=this.parent;return!r||Number.isNaN(Ao(i))?!0:Ao(r)>=Ao(i)}}),Ka={date(i,r){const s={name:L.name(i,r),type:L.type()};return $e(s)},datetime(i,r){const s={name:L.name(i,r),type:L.type()};return $e(s)},time(i,r){const s={name:L.name(i,r),type:L.type()};return $e(s)},default(i,r){const s={name:L.name(i,r),type:L.type()};return $e(s)},biginteger(i,r){const s={name:L.name(i,r),type:L.type(),default:Re().nullable().matches(/^-?\d*$/),unique:L.unique(),required:L.required(),max:Re().nullable().matches(/^-?\d*$/,Le.regex.id),min:Re().nullable().test(Lo()).matches(/^-?\d*$/,Le.regex.id)};return $e(s)},boolean(i,r){const s={name:L.name(i,r),default:Jr().nullable(),required:L.required(),unique:L.unique()};return $e(s)},component(i,r){const s={name:L.name(i,r),type:L.type(),required:L.required(),max:L.max(),min:L.min(),component:Re().required(Le.required.id)};return $e(s)},decimal(i,r){const s={name:L.name(i,r),type:L.type(),default:Wt(),required:L.required(),max:Wt(),min:Wt().test(Lo())};return $e(s)},dynamiczone(i,r){const s={name:L.name(i,r),type:L.type(),required:L.required(),max:L.max(),min:L.min()};return $e(s)},email(i,r){const s={name:L.name(i,r),type:L.type(),default:Re().email().nullable(),unique:L.unique(),required:L.required(),maxLength:L.maxLength(),minLength:L.minLength()};return $e(s)},enumeration(i,r){const s=/^[_A-Za-z][_0-9A-Za-z]*$/,d={name:Re().test(Qc(i)).test(Ko(r)).matches(s,Le.regex.id).required(Le.required.id),type:L.type(),default:L.default(),unique:L.unique(),required:L.required(),enum:Sl().of(Re()).min(1,Le.min.id).test({name:"areEnumValuesUnique",message:j("error.validation.enum-duplicate"),test(c){return c?!K_(c.map(Eo).filter((p,m,g)=>g.indexOf(p)!==m)).length:!1}}).test({name:"doesNotHaveEmptyValues",message:j("error.validation.enum-empty-string"),test:c=>c?!c.map(Eo).some(h=>h===""):!1}).test({name:"doesMatchRegex",message:j("error.validation.enum-regex"),test:c=>c?c.map(Eo).every(h=>s.test(h)):!1}),enumName:Re().nullable()};return $e(d)},float(i,r){const s={name:L.name(i,r),type:L.type(),required:L.required(),default:Wt(),max:Wt(),min:Wt().test(Lo())};return $e(s)},integer(i,r){const s={name:L.name(i,r),type:L.type(),default:Wt().integer(),unique:L.unique(),required:L.required(),max:L.max(),min:L.min()};return $e(s)},json(i,r){const s={name:L.name(i,r),type:L.type(),required:L.required(),unique:L.unique()};return $e(s)},media(i,r){const s={name:L.name(i,r),type:L.type(),multiple:Jr(),required:L.required(),allowedTypes:Sl().of(Re().oneOf(["images","videos","files","audios"])).min(1).nullable()};return $e(s)},password(i,r){const s={name:L.name(i,r),type:L.type(),default:L.default(),unique:L.unique(),required:L.required(),maxLength:L.maxLength(),minLength:L.minLength()};return $e(s)},relation(i,r,s,{initialData:d,modifiedData:c}){const h={name:L.name(i,r),target:Re().required(Le.required.id),relation:Re().required(),type:Re().required(),targetAttribute:g0(()=>{const p=es(c.relation,c.targetAttribute);if(p==="oneWay"||p==="manyWay")return Re().nullable();const m=Re().test(Ko(r)),v=[...s.map(({name:_})=>_),c.name].filter(_=>_!==d.targetAttribute);return m.matches(Yc,Le.regex.id).test({name:"forbiddenTargetAttributeName",message:j("error.validation.relation.targetAttribute-taken"),test(_){return _?!v.includes(_):!1}}).required(Le.required.id)})};return $e(h)},richtext(i,r){const s={name:L.name(i,r),type:L.type(),default:L.default(),unique:L.unique(),required:L.required(),maxLength:L.maxLength(),minLength:L.minLength()};return $e(s)},blocks(i,r){const s={name:L.name(i,r),type:L.type(),default:L.default(),unique:L.unique(),required:L.required(),maxLength:L.maxLength(),minLength:L.minLength()};return $e(s)},string(i,r){const s=Io(i,r);return $e(s)},text(i,r){const s=Io(i,r);return $e(s)},uid(i,r){const s=Io(i,r);return $e(s)}},Q_=/^[A-Za-z][-_0-9A-Za-z]*$/,J_=(i,r,s,d,c)=>{const h={displayName:Re().test({name:"nameAlreadyUsed",message:Le.unique.id,test(p){if(!p)return!1;const m=Kr(p,s),g=ve.snakeCase(m),v=ve.snakeCase(c);return i.every(_=>ve.snakeCase(_)!==g)&&d.every(_=>ve.snakeCase(_)!==v)}}).test({name:"nameNotAllowed",message:j("error.contentTypeName.reserved-name"),test(p){if(!p)return!1;const m=ve.snakeCase(p);return r.every(g=>ve.snakeCase(g)!==m)}}).required(Le.required.id),category:Re().matches(Q_,Le.regex.id).required(Le.required.id),icon:Re()};return $e(h)},Ql={name:"displayName",type:"text",intlLabel:{id:j("contentType.displayName.label"),defaultMessage:"Display name"}},Do={advanced:{default(){return{sections:[{items:[{intlLabel:{id:j("contentType.draftAndPublish.label"),defaultMessage:"Draft & publish"},description:{id:j("contentType.draftAndPublish.description"),defaultMessage:"Allows writing a draft version of an entry, before it is published"},name:"draftAndPublish",type:"toggle-draft-publish",validations:{}}]}]}}},base:{create(){return{sections:[{sectionTitle:null,items:[Ql,{description:{id:j("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:j("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text-singular"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{description:{id:j("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:j("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text-plural"}]}]}},edit(){return{sections:[{sectionTitle:null,items:[Ql,{disabled:!0,description:{id:j("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:j("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{disabled:!0,description:{id:j("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:j("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text"},{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"kind",type:"content-type-radio-group",size:12,radios:[{title:{id:j("form.button.collection-type.name"),defaultMessage:"Collection Type"},description:{id:j("form.button.collection-type.description"),defaultMessage:"Best for multiple instances like articles, products, comments, etc."},value:"collectionType"},{title:{id:j("form.button.single-type.name"),defaultMessage:"Single Type"},description:{id:j("form.button.single-type.description"),defaultMessage:"Best for single instance like about us, homepage, etc."},value:"singleType"}]}]}]}}}},X_=({usedContentTypeNames:i=[],reservedModels:r=[],singularNames:s=[],pluralNames:d=[],collectionNames:c=[]})=>{const h={displayName:Re().test({name:"nameAlreadyUsed",message:Le.unique.id,test(p){if(!p)return!1;const m=Sc(p),g=ve.snakeCase(m);return!i.some(v=>ve.snakeCase(v)===g)}}).test({name:"nameNotAllowed",message:j("error.contentTypeName.reserved-name"),test(p){if(!p)return!1;const m=ve.snakeCase(p);return!r.some(g=>ve.snakeCase(g)===m)}}).required(Le.required.id),pluralName:Re().test({name:"pluralNameAlreadyUsed",message:Le.unique.id,test(p){if(!p)return!1;const m=ve.snakeCase(p);return!d.some(g=>ve.snakeCase(g)===m)}}).test({name:"pluralNameAlreadyUsedAsSingular",message:j("error.contentType.pluralName-equals-singularName"),test(p){if(!p)return!1;const m=ve.snakeCase(p);return!s.some(g=>ve.snakeCase(g)===m)}}).test({name:"pluralAndSingularAreUnique",message:j("error.contentType.pluralName-used"),test(p,m){return p?ve.snakeCase(m.parent.singularName)!==ve.snakeCase(p):!1}}).test({name:"pluralNameNotAllowed",message:j("error.contentTypeName.reserved-name"),test(p){if(!p)return!1;const m=ve.snakeCase(p);return!r.some(g=>ve.snakeCase(g)===m)}}).test({name:"pluralNameNotAlreadyUsedInCollectionName",message:j("error.contentType.pluralName-equals-collectionName"),test(p){if(!p)return!1;const m=ve.snakeCase(p);return!c.some(g=>ve.snakeCase(g)===m)}}).required(Le.required.id),singularName:Re().test({name:"singularNameAlreadyUsed",message:Le.unique.id,test(p){if(!p)return!1;const m=ve.snakeCase(p);return!s.some(g=>ve.snakeCase(g)===m)}}).test({name:"singularNameAlreadyUsedAsPlural",message:j("error.contentType.singularName-equals-pluralName"),test(p){if(!p)return!1;const m=ve.snakeCase(p);return!d.some(g=>ve.snakeCase(g)===m)}}).test({name:"pluralAndSingularAreUnique",message:j("error.contentType.singularName-used"),test(p,m){return p?ve.snakeCase(m.parent.pluralName)!==ve.snakeCase(p):!1}}).test({name:"singularNameNotAllowed",message:j("error.contentTypeName.reserved-name"),test(p){if(!p)return!1;const m=ve.snakeCase(p);return!r.some(g=>ve.snakeCase(g)===m)}}).required(Le.required.id),draftAndPublish:Jr(),kind:Re().oneOf(["singleType","collectionType"])};return $e(h)},Po={advanced:{default(){return{sections:xr.advanced()}}},base:{createComponent(){return{sections:[{sectionTitle:null,items:[Zo]},...xr.base("componentToCreate.")]}},default(){return{sections:[{sectionTitle:null,items:[Zo]},{sectionTitle:null,items:[{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{name:"components",type:"select-components",intlLabel:{id:j("modalForm.attributes.select-components"),defaultMessage:"Select the components"},isMultiple:!0}]}]}}}},Jl=(i,r)=>{i.forEach(s=>{if(!("sectionTitle"in s)){r[0].items?.push(s);return}r.push(s)})},ej=(i,r)=>`components_${ve.snakeCase(r)}_${Ja(ve.snakeCase(i))}`,Xl=(i,r)=>i.filter(({name:s})=>s!==r.initialData.name).map(({name:s})=>s),Gn={customField:{schema({schemaAttributes:i,attributeType:r,customFieldValidator:s,reservedNames:d,schemaData:c,ctbFormsAPI:h}){const p=Xl(i,c);let m;return r==="relation"?m=Ka[r](p,d.attributes,[],{initialData:{},modifiedData:{}}):m=Ka[r](p,d.attributes),h.makeCustomFieldValidator(m,s,p,d.attributes,c)},form:{base({customField:i}){const r=[{sectionTitle:null,items:[tn]}];return i.options?.base&&Jl(i.options.base,r),{sections:r}},advanced({customField:i,data:r,step:s,extensions:d,...c}){const h=[{sectionTitle:null,items:[]},{sectionTitle:{id:"form.attribute.condition.section",defaultMessage:"Conditions"},items:[{name:"conditions",type:"condition-form",intlLabel:{id:"form.attribute.condition.label",defaultMessage:"Visibility condition"},description:{id:"form.attribute.condition.desc",defaultMessage:"Show this field only when a boolean/enum condition matches."}}]}],p=d.getAdvancedForm(["attribute",i.type],{data:r,type:i.type,step:s,...c});if(i.options?.advanced&&Jl(i.options.advanced,h),p){const m={sectionTitle:{id:j("modalForm.custom-fields.advanced.settings.extended"),defaultMessage:"Extended settings"},items:p};h.push(m)}return{sections:h}}}},attribute:{schema(i,r,s,d,c,h){const p=i?.attributes??[],m=Xl(p,c);try{const g=Ka[r](m,s.attributes,d,c);return h.makeValidator(["attribute",r],g,m,s.attributes,d,c)}catch(g){return console.error("Error yup build schema",g),Ka.default(m,s.attributes)}},form:{advanced({data:i,type:r,step:s,extensions:d,...c}){try{const h=Kl.advanced[r](i,s).sections,p=d.getAdvancedForm(["attribute",r],{data:i,type:r,step:s,...c});let m=!1;return{sections:h.reduce((v,_)=>(_.sectionTitle===null||m?v.push(_):(v.push({..._,items:[..._.items,...p]}),m=!0),v),[])}}catch(h){return console.error(h),{sections:[]}}},base({data:i,type:r,step:s,attributes:d}){try{return Kl.base[r](i,s,d)}catch{return F_}}}},contentType:{schema(i,r,s,d,c,h){const p=Object.values(h).map(T=>T.info.singularName),m=Object.values(h).map(T=>T?.info?.pluralName??""),g=r?i.filter(T=>T!==s):i,v=r?p.filter(T=>{const{info:D}=h[s];return D.singularName!==T}):p,_=r?m.filter(T=>{const{info:D}=h[s];return D.pluralName!==T}):m,M=Object.values(h).map(T=>T?.collectionName??""),E=r?M.filter(T=>{const{collectionName:D}=h[s];return T!==D}):M,P=X_({usedContentTypeNames:g,reservedModels:d.models,singularNames:v,pluralNames:_,collectionNames:E});return c.makeValidator(["contentType"],P,g,d.models,v,_)},form:{base({actionType:i}){return i==="create"?Do.base.create():Do.base.edit()},advanced({extensions:i}){const r=Do.advanced.default().sections.map(d=>d.items).flat(),s=i.getAdvancedForm(["contentType"]);return{sections:[{items:[...r,...s]}]}}}},component:{schema(i,r,s,d=!1,c,h,p=null){const m=d?i.filter(M=>M!==p):i,g=Object.values(c).map(M=>M?.collectionName),v=ej(h,r),_=d?g.filter(M=>M!==v):g;return J_(m,s.models,r,_,v)},form:{advanced(){return{sections:xr.advanced()}},base(){return{sections:xr.base()}}}},addComponentToDynamicZone:{form:{advanced(){return Po.advanced.default()},base({data:i}){return i?.createComponent??!1?Po.base.createComponent():Po.base.default()}}}},tj=(i,r)=>{const s=i.kind;return s==="singleType"||s===r.kind?!0:(i?.attributes??[]).filter(h=>{if(h.type!=="relation")return!1;const{relation:p,targetAttribute:m}=h,g=es(p,m);return!["oneWay","manyWay"].includes(g||"")}).length===0},nj=(i="",r,s)=>{const d=["text","boolean","blocks","json","number","email","date","password","media","enumeration","relation","richtext"],c=i==="contentType";if(c)return[[...d.slice(0,-1),"uid",...d.slice(-1)],["component","dynamiczone"]];if(i){const p=Kc(r,s)>=kc;if(!c&&!p)return[d,["component"]]}return[d]},ec=i=>i.reduce((r,s)=>{const d=s.items.reduce((c,h)=>(h.name&&c.push(h.name),c),[]);return[...r,...d]},[]),rj=Tt.form`
  overflow: auto;
`,aj=i=>i["content-type-builder_formModal"]||b0,ij=()=>{const{onCloseModal:i,onNavigateToChooseAttributeModal:r,onNavigateToAddCompoToDZModal:s,onNavigateToCreateComponentStep2:d,actionType:c,attributeName:h,attributeType:p,customFieldUid:m,dynamicZoneTarget:g,forTarget:v,modalType:_,isOpen:M,kind:E,step:P,targetUid:T,showBackLink:D,activeTab:$,setActiveTab:R}=Cr(),O=Qr("FormModal",X=>X.getPlugin),Y=Qr("FormModal",X=>X.customFields.get)(m),I=ni(),{toggleNotification:te}=Qo(),le=oc(aj,y0),Ce=v0(),{trackUsage:Fe}=ei(),{formatMessage:we}=be(),re=O(kn)?.apis.forms,B=re.components.inputs,Vt=sc("FormModal",X=>X.dispatch),{addAttribute:Te,editAttribute:rt,addCustomFieldAttribute:Qe,addCreatedComponentToDynamicZone:yn,changeDynamicZoneComponents:Q,contentTypes:he,components:z,createSchema:ze,createComponentSchema:He,deleteComponent:Ht,deleteContentType:rn,editCustomFieldAttribute:Gt,updateSchema:Sn,nestedComponents:Mt,sortedContentTypesList:Xn,updateComponentSchema:ai,updateComponentUid:ii,reservedNames:vn}=nn(),{componentToCreate:Zt,formErrors:Ge,initialData:lt,isCreatingComponentWhileAddingAField:_r,modifiedData:H}=le,ye=v==="component"?z[T]:he[T],[b,er]=G.useState(!1),[tr,jr]=G.useState(null),ct=()=>{if(c!=="edit"||_!=="attribute")return!1;const X=lt.name,xe=lt.enum,De=H.enum,Se=(ye?.attributes||[]).filter(Ne=>{if(!Ne.conditions)return!1;const et=Ne.conditions.visible;if(!et)return!1;const[[,ar]]=Object.entries(et),[ir,ia]=ar;return ir.var!==X?!1:xe&&De?xe.filter(In=>!De.includes(In)).includes(ia):!0});return Se.length>0?Se:!1};G.useEffect(()=>{if(M){const X=Xn.filter(Oc);c==="edit"&&_==="attribute"&&v==="contentType"&&Fe("willEditFieldOfContentType");const xe=zo(Ie(ye,"schema.attributes",[]),g)||null;if(_==="contentType"&&c==="create"&&I(Ve.setDataToEdit({data:{draftAndPublish:!0}})),_==="contentType"&&c==="edit"&&I(Ve.setDataToEdit({data:{displayName:ye.info.displayName,draftAndPublish:ye.options?.draftAndPublish,kind:"kind"in ye&&ye.kind,pluginOptions:ye.pluginOptions,pluralName:"pluralName"in ye.info&&ye.info.pluralName,singularName:"singularName"in ye.info&&ye.info.singularName}})),_==="component"&&c==="edit"&&I(Ve.setDataToEdit({data:{displayName:ye.info.displayName,category:"category"in ye&&ye.category,icon:ye.info.icon}})),_==="addComponentToDynamicZone"&&c==="edit"){const De={...xe,components:[],name:g,createComponent:!1,componentToCreate:{type:"component"}};I(Ve.setDynamicZoneDataSchema({attributeToEdit:De}))}if(p){const fe={...zo(Ie(ye,["attributes"],[]),h),name:h};p==="component"&&c==="edit"&&(!("repeatable"in fe)||!fe.repeatable)&&x0(fe,"repeatable",!1),I(_==="customField"?c==="edit"?Ve.setCustomFieldDataSchema({isEditing:!0,modifiedDataToSetForEditing:fe,uid:ye.uid}):Ve.setCustomFieldDataSchema({customField:C0(Y,["type","options"]),isEditing:!1,modifiedDataToSetForEditing:fe,uid:ye.uid}):Ve.setAttributeDataSchema({attributeType:p,nameToSetForRelation:Ie(X,["0","title"],"error"),targetUid:Ie(X,["0","uid"],"error"),isEditing:c==="edit",modifiedDataToSetForEditing:fe,step:P,uid:ye.uid}))}}else I(Ve.resetProps())},[c,h,p,g,v,M,_]);const wr=_==="contentType",Tr=_==="component",nr=_==="attribute",Nn=_==="customField",Pt=p==="component"&&nr,an=c==="create",xt=Ie(H,"createComponent",!1)||_r,Ct=P==="1",$n=_==="chooseAttribute",pt=Sc(H.displayName||""),Kt=Ie(ye,["attributes"],null),ta=async()=>{let X;const xe=xt&&P==="1"?Ie(H,"componentToCreate",{}):H;if(wr)X=Gn.contentType.schema(Object.keys(he),c==="edit",ye?.uid??null,vn,re,he);else if(Tr)X=Gn.component.schema(Object.keys(z),H.category||"",vn,c==="edit",z,H.displayName||"",ye?.uid??null);else if(Nn)X=Gn.customField.schema({schemaAttributes:Ie(ye,["attributes"],[]),attributeType:Y.type,reservedNames:vn,schemaData:{modifiedData:H,initialData:lt},ctbFormsAPI:re,customFieldValidator:Y.options?.validator});else if(Pt&&xt&&Ct)X=Gn.component.schema(Object.keys(z),Ie(H,"componentToCreate.category",""),vn,c==="edit",z,H.componentToCreate.displayName||"");else if(nr&&!Ct){const De=p==="relation"?"relation":H.type;let fe=[];if(De==="relation"){const Se=Ie(H,["target"],null);fe=Ie(he,[Se,"attributes"],[]).filter(({name:et})=>c!=="edit"?!0:et!==lt.targetAttribute)}X=Gn.attribute.schema(ye,De,vn,fe,{modifiedData:H,initialData:lt},re)}else if(Ct&&xt)X=Gn.component.schema(Object.keys(z),Ie(H,"componentToCreate.category",""),vn,c==="edit",z,H.componentToCreate.displayName||"");else return;await X.validate(xe,{abortEarly:!1})},Ft=G.useCallback(({target:{name:X,value:xe,type:De,...fe}})=>{const Se=["enumName","max","min","maxLength","minLength","regex","default"];let Ne;Se.includes(X)&&xe===""?Ne=null:X==="enum"?Ne=Array.isArray(xe)?xe:[xe]:Ne=xe;const et=Object.assign({},Ge);X==="max"&&delete et.min,X==="maxLength"&&delete et.minLength,delete et[X],I(Ve.setErrors({errors:et})),I(Ve.onChange({keys:X.split("."),value:Ne}))},[I,Ge]),xn=async(X,xe=an)=>{try{await ta(),I(Ve.setErrors({errors:{}})),Mr(xe);const De=T;if(wr)if(an)ze({data:{kind:E,displayName:H.displayName,draftAndPublish:H.draftAndPublish,pluginOptions:H.pluginOptions,singularName:H.singularName,pluralName:H.pluralName},uid:pt}),Ce({pathname:`/plugins/${kn}/content-types/${pt}`}),i();else{const fe=ye;tj(fe,H)?(i(),await Sn({uid:fe.uid,data:{displayName:H.displayName,kind:H.kind,draftAndPublish:H.draftAndPublish,pluginOptions:H.pluginOptions}})):te({type:"danger",message:we({id:"notification.contentType.relations.conflict"})});return}else if(_==="component")if(an){const fe=Kr(H.displayName,H.category),{category:Se,...Ne}=H;He({data:{displayName:Ne.displayName,icon:Ne.icon},uid:fe,componentCategory:Se}),Ce({pathname:`/plugins/${kn}/component-categories/${Se}/${fe}`}),i();return}else{if(ai({data:{icon:H.icon,displayName:H.displayName},componentUID:T}),ye.status==="NEW"){const fe=Kr(H.displayName,H.category);ii({componentUID:T,newComponentUID:fe}),Ce({pathname:`/plugins/${kn}/component-categories/${H.category}/${fe}`})}i();return}else if(Nn){const fe={attributeToSet:{...H,customField:m},forTarget:v,targetUid:T,name:lt.name};c==="edit"?Gt(fe):Qe(fe),xe?r({forTarget:v,targetUid:De}):i();return}else if(nr&&!xt){if(p==="dynamiczone"){c==="create"?Te({attributeToSet:H,forTarget:v,targetUid:T}):rt({attributeToSet:H,forTarget:v,targetUid:T,name:lt.name}),an?(I(Ve.resetPropsAndSetTheFormForAddingACompoToADz()),R("basic"),s({dynamicZoneTarget:H.name})):i();return}if(!Pt){c==="create"?Te({attributeToSet:H,forTarget:v,targetUid:T}):rt({attributeToSet:H,forTarget:v,targetUid:T,name:lt.name}),xe?r({forTarget:v,targetUid:De}):i();return}if(Ct){d(),I(Ve.resetPropsAndSetFormForAddingAnExistingCompo({uid:ye.uid}));return}if(c==="create")Te({attributeToSet:H,forTarget:v,targetUid:T});else{const Se={...H};(!("conditions"in H)||H.conditions===void 0)&&(Se.conditions=void 0),rt({attributeToSet:Se,forTarget:v,targetUid:T,name:lt.name})}xe?r({forTarget:v,targetUid:T}):i()}else if(nr&&xt){if(Ct){Fe("willCreateComponentFromAttributesModal"),I(Ve.resetPropsAndSaveCurrentData({uid:ye.uid})),d();return}const{category:fe,...Se}=Zt,Ne=Kr(Zt.displayName,fe);He({data:{icon:Se.icon,displayName:Se.displayName},uid:Ne,componentCategory:fe}),Te({attributeToSet:H,forTarget:v,targetUid:T}),I(Ve.resetProps()),xe?r({forTarget:"component",targetUid:Ne}):i();return}else{if(Ct)if(xt){const{category:fe,type:Se,...Ne}=H.componentToCreate,et=Kr(H.componentToCreate.displayName,fe);He({data:Ne,uid:et,componentCategory:fe}),yn({forTarget:v,targetUid:T,dynamicZoneTarget:g,componentsToAdd:[et]}),r({forTarget:"component",targetUid:et})}else Q({forTarget:v,targetUid:T,dynamicZoneTarget:g,newComponents:H.components}),i();else console.error("This case is not handled");return}I(Ve.resetProps())}catch(De){if(_0.isError(De)){const fe=X0(De);I(Ve.setErrors({errors:fe}))}}},We=async(X,xe=an)=>{if(X.preventDefault(),ct()){jr({e:X,shouldContinue:xe}),er(!0);return}await xn(X,xe)},On=()=>{window.confirm(we({id:"window.confirm.close-modal.file",defaultMessage:"Are you sure? Your changes will be lost."}))&&(i(),I(Ve.resetProps()))},kt=()=>{Qa(H,lt)?(i(),I(Ve.resetProps())):On()},En=X=>{if(X==="advanced"){if(wr){Fe("didSelectContentTypeSettings");return}v==="contentType"&&Fe("didSelectContentTypeFieldSettings")}},Mr=X=>{_==="attribute"&&v==="contentType"&&p!=="dynamiczone"&&X&&Fe("willAddMoreFieldToContentType")},oi=()=>!!(_==="component"||j0(H,"createComponent")),si=nj(v,T,Mt);if(!_)return null;const na=Ie(Gn,[_,"form"],{advanced:()=>({sections:[]}),base:()=>({sections:[]})}),ui=v==="component",Fr={customInputs:{"allowed-types-select":t1,"boolean-radio-group":Z1,"checkbox-with-number-field":K1,"icon-picker":aC,"content-type-radio-group":Y1,"radio-group":ns,relation:f_,"select-category":p_,"select-component":m_,"select-components":h_,"select-default-boolean":H1,"select-number":b_,"select-date":g_,"toggle-draft-publish":Q1,"text-plural":iC,"text-singular":y_,"textarea-enum":C_,"condition-form":M_,...B},componentToCreate:Zt,dynamicZoneTarget:g,formErrors:Ge,isAddingAComponentToAnotherComponent:ui,isCreatingComponentWhileAddingAField:_r,mainBoxHeader:Ie(ye,["info","displayName"],""),modifiedData:H,naturePickerType:v,isCreating:an,targetUid:T,forTarget:v,contentTypeSchema:ye},ra=na.advanced({data:H,type:p,step:P,actionType:c,attributes:Kt,extensions:re,forTarget:v,contentTypeSchema:ye||{},customField:Y}).sections,aa=na.base({data:H,type:p,step:P,actionType:c,attributes:Kt,extensions:re,forTarget:v,contentTypeSchema:ye||{},customField:Y}).sections,on=ec(aa),Yt=ec(ra),li=Object.keys(Ge).some(X=>on.includes(X)),rr=Object.keys(Ge).some(X=>Yt.includes(X)),At=Ie(he,[T,"kind"]),ci=()=>c==="edit"&&Kt.every(({name:X})=>X!==H?.name),di=()=>{ci()&&Fe("didEditFieldNameOnContentType"),Vt({type:"set_completed_actions",payload:[lc.contentTypeBuilder.addField]})};return u.jsx(Rn.Root,{open:M,onOpenChange:kt,children:u.jsxs(Rn.Content,{children:[u.jsxs(Jn.Root,{open:b,onOpenChange:er,children:[u.jsx(Jn.Trigger,{}),u.jsx(ea,{onConfirm:()=>{if(tr){const{e:X,shouldContinue:xe}=tr;er(!1),jr(null),xn(X,xe)}},onCancel:()=>{er(!1),jr(null)},children:(()=>{const X=ct();if(!X)return null;const xe=X.map(fe=>fe.name).join(", ");if(lt.enum&&H.enum){const fe=lt.enum,Se=H.enum,Ne=fe.filter(et=>!Se.includes(et));return u.jsx(ce,{children:u.jsxs(ge,{children:[we({id:"form.attribute.condition.enum-change-warning",defaultMessage:"The following fields have conditions that depend on this field: "}),u.jsx(ge,{fontWeight:"bold",children:xe}),we({id:"form.attribute.condition.enum-change-warning-values",defaultMessage:". Changing or removing the enum values "}),u.jsx(ge,{fontWeight:"bold",children:Ne.join(", ")}),we({id:"form.attribute.condition.enum-change-warning-end",defaultMessage:" will break these conditions. Do you want to proceed?"})]})})}return u.jsx(ce,{children:u.jsxs(ge,{children:[we({id:"form.attribute.condition.field-change-warning",defaultMessage:"The following fields have conditions that depend on this field: "}),u.jsx(ge,{fontWeight:"bold",children:xe}),we({id:"form.attribute.condition.field-change-warning-end",defaultMessage:". Renaming it will break these conditions. Do you want to proceed?"})]})})})()})]}),u.jsx(X1,{actionType:c,attributeName:h,contentTypeKind:E,dynamicZoneTarget:g,modalType:_,forTarget:v,targetUid:T,attributeType:p,customFieldUid:m,showBackLink:D}),$n&&u.jsx(V1,{attributes:si,forTarget:v,kind:At||"collectionType"}),!$n&&u.jsxs(rj,{onSubmit:We,children:[u.jsx(Rn.Body,{children:u.jsxs(Dt.Root,{variant:"simple",value:$,onValueChange:X=>{R(X),En(X)},hasError:li?"basic":rr?"advanced":void 0,children:[u.jsxs(ae,{justifyContent:"space-between",children:[u.jsx(tC,{actionType:c,forTarget:v,kind:E,step:P,modalType:_,attributeType:p,attributeName:h,customField:Y}),u.jsxs(Dt.List,{children:[u.jsx(Dt.Trigger,{value:"basic",children:we({id:j("popUpForm.navContainer.base"),defaultMessage:"Basic settings"})}),u.jsx(Dt.Trigger,{value:"advanced",disabled:oi(),children:we({id:j("popUpForm.navContainer.advanced"),defaultMessage:"Advanced settings"})})]})]}),u.jsx(ti,{marginBottom:6}),u.jsx(Dt.Content,{value:"basic",children:u.jsx(ae,{direction:"column",alignItems:"stretch",gap:6,children:u.jsx(Zl,{form:aa,formErrors:Ge,genericInputProps:Fr,modifiedData:H,onChange:Ft})})}),u.jsx(Dt.Content,{value:"advanced",children:u.jsx(ae,{direction:"column",alignItems:"stretch",gap:6,children:u.jsx(Zl,{form:ra,formErrors:Ge,genericInputProps:Fr,modifiedData:H,onChange:Ft})})})]})}),u.jsxs(Rn.Footer,{children:[u.jsx(Ue,{type:"button",variant:"tertiary",onClick:X=>{X.preventDefault(),kt()},children:we({id:"app.components.Button.cancel",defaultMessage:"Cancel"})}),u.jsx(J1,{deleteContentType:()=>rn(T),deleteComponent:()=>Ht(T),isAttributeModal:_==="attribute",isCustomFieldModal:_==="customField",isComponentToDzModal:_==="addComponentToDynamicZone",isComponentAttribute:p==="component",isComponentModal:_==="component",isContentTypeModal:_==="contentType",isCreatingComponent:c==="create",isCreatingDz:c==="create",isCreatingComponentAttribute:H.createComponent||!1,isCreatingComponentInDz:H.createComponent||!1,isCreatingComponentWhileAddingAField:_r,isCreatingContentType:c==="create",isEditingAttribute:c==="edit",isDzAttribute:p==="dynamiczone",isInFirstComponentStep:P==="1",onSubmitAddComponentAttribute:We,onSubmitAddComponentToDz:We,onSubmitCreateComponent:We,onSubmitCreateContentType:We,onSubmitCreateDz:We,onSubmitEditAttribute:We,onSubmitEditComponent:We,onSubmitEditContentType:We,onSubmitEditCustomFieldAttribute:We,onSubmitEditDz:We,onClickFinish:di})]})]})]})})},tc={actionType:null,attributeName:null,attributeType:null,dynamicZoneTarget:null,forTarget:null,modalType:null,isOpen:!0,showBackLink:!1,kind:null,step:null,targetUid:null,customFieldUid:null,activeTab:"basic"},oj=({children:i})=>{const[r,s]=G.useState(tc),{trackUsage:d}=ei(),c=G.useCallback(({attributeType:O,customFieldUid:N})=>{s(Y=>({...Y,actionType:"create",modalType:"customField",attributeType:O,customFieldUid:N,activeTab:"basic"}))},[]),h=G.useCallback(({attributeType:O,step:N})=>{r.forTarget==="contentType"&&d("didSelectContentTypeFieldType",{type:O}),s(Y=>({...Y,actionType:"create",modalType:"attribute",step:N,attributeType:O,showBackLink:!0,activeTab:"basic"}))},[r.forTarget,d]),p=G.useCallback(({dynamicZoneTarget:O,targetUid:N})=>{s(Y=>({...Y,dynamicZoneTarget:O,targetUid:N,modalType:"addComponentToDynamicZone",forTarget:"contentType",step:"1",actionType:"edit",isOpen:!0}))},[]),m=G.useCallback(({forTarget:O,targetUid:N})=>{s(Y=>({...Y,actionType:"create",forTarget:O,targetUid:N,modalType:"chooseAttribute",isOpen:!0,showBackLink:!1,activeTab:"basic"}))},[]),g=G.useCallback(O=>{s(N=>({...N,...O,isOpen:!0,activeTab:"basic"}))},[]),v=G.useCallback(({forTarget:O,targetUid:N,attributeName:Y,attributeType:I,customFieldUid:te})=>{s(le=>({...le,modalType:"customField",customFieldUid:te,actionType:"edit",forTarget:O,targetUid:N,attributeName:Y,attributeType:I,isOpen:!0,activeTab:"basic"}))},[]),_=G.useCallback(({forTarget:O,targetUid:N,attributeName:Y,attributeType:I,step:te})=>{s(le=>({...le,modalType:"attribute",actionType:"edit",forTarget:O,targetUid:N,attributeName:Y,attributeType:I,step:te,isOpen:!0}))},[]),M=G.useCallback(({modalType:O,forTarget:N,targetUid:Y,kind:I})=>{s(te=>({...te,modalType:O,actionType:"edit",forTarget:N,targetUid:Y,kind:I,isOpen:!0,activeTab:"basic"}))},[]),E=G.useCallback(()=>{s(tc)},[]),P=G.useCallback(({forTarget:O,targetUid:N})=>{s(Y=>({...Y,forTarget:O,targetUid:N,modalType:"chooseAttribute",activeTab:"basic"}))},[]),T=G.useCallback(()=>{s(O=>({...O,attributeType:"component",modalType:"attribute",step:"2",activeTab:"basic"}))},[]),D=G.useCallback(({dynamicZoneTarget:O})=>{s(N=>({...N,dynamicZoneTarget:O,modalType:"addComponentToDynamicZone",actionType:"create",step:"1",attributeType:null,attributeName:null,activeTab:"basic"}))},[]),$=G.useCallback(O=>{s(N=>({...N,activeTab:O}))},[]),R=G.useMemo(()=>({...r,onClickSelectField:h,onClickSelectCustomField:c,onCloseModal:E,onNavigateToChooseAttributeModal:P,onNavigateToAddCompoToDZModal:D,onOpenModalAddComponentsToDZ:p,onNavigateToCreateComponentStep2:T,onOpenModalAddField:m,onOpenModalCreateSchema:g,onOpenModalEditField:_,onOpenModalEditCustomField:v,onOpenModalEditSchema:M,setFormModalNavigationState:s,setActiveTab:$}),[r,h,c,E,P,D,p,T,m,g,_,v,M,$]);return u.jsx($c.Provider,{value:R,children:i})},sj=()=>{const{formatMessage:i}=be(),r=i({id:j("plugin.name"),defaultMessage:"Content-Type Builder"});return u.jsxs(u.Fragment,{children:[u.jsx(nc.contentTypeBuilder.Introduction,{children:u.jsx(ce,{})}),u.jsxs(ae,{justifyContent:"center",alignItems:"center",height:"100%",direction:"column",children:[u.jsx(ge,{variant:"alpha",children:r}),u.jsx(ge,{variant:"delta",children:i({id:j("table.content.create-first-content-type"),defaultMessage:"Create your first Collection-Type"})})]})]})},qo=G.lazy(()=>k0(()=>import("./ListView-vlg8d-w6.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]))),uj=()=>{const{formatMessage:i}=be(),r=i({id:`${kn}.plugin.name`,defaultMessage:"Content Types Builder"}),s=uc("DataManagerProvider",d=>d.autoReload);return u.jsxs(Ro.Protect,{permissions:w0.main,children:[u.jsx(Ro.Title,{children:r}),u.jsx(T0,{children:u.jsx(oj,{children:u.jsxs(Y0,{children:[u.jsx(Q0,{}),u.jsxs(u.Fragment,{children:[s&&u.jsx(ij,{}),u.jsx(M0.Root,{sideNav:u.jsx(E0,{}),children:u.jsx(G.Suspense,{fallback:u.jsx(Ro.Loading,{}),children:u.jsxs(F0,{children:[u.jsx(Za,{path:"content-types/create-content-type",element:u.jsx(sj,{})}),u.jsx(Za,{path:"content-types/:contentTypeUid",element:u.jsx(qo,{})}),u.jsx(Za,{path:"component-categories/:categoryUid/:componentUid",element:u.jsx(qo,{})}),u.jsx(Za,{path:"*",element:u.jsx(qo,{})})]})})})]})]})})})]})},hj=Object.freeze(Object.defineProperty({__proto__:null,default:uj},Symbol.toStringTag,{value:"Module"}));export{Xr as A,Uc as C,pj as S,Cr as a,mj as c,j as g,hj as i,nn as u};
