import{f as a,n as j,k as q,o as v,j as r,S as C,p as I,I as T,q as y}from"./strapi-CGAa_rXE.js";const k=({disabled:d,label:g,placeholder:h,trackedEvent:l,trackedEventDetails:p})=>{const t=a.useRef(null),m=a.useRef(null),[{query:S},n]=j(),[s,u]=a.useState(S?._q||""),[o,c]=a.useState(!!s),{formatMessage:f}=q(),{trackUsage:b}=v(),i=()=>c(e=>!e);a.useLayoutEffect(()=>{o&&t.current&&t.current.focus()},[o]);const x=()=>{u(""),n({_q:""},"remove")},R=e=>{e.preventDefault(),s?(l&&b(l,p),n({_q:encodeURIComponent(s),page:1})):(i(),n({_q:""},"remove"))};return o?r.jsx(C,{onSubmit:R,children:r.jsx(I,{ref:t,name:"search",onChange:e=>u(e.target.value),value:s,clearLabel:f({id:"clearLabel",defaultMessage:"Clear"}),onClear:x,placeholder:h,onBlur:e=>{!e.currentTarget.contains(e.relatedTarget)&&e.currentTarget.value===""&&c(!1)},children:g})}):r.jsx(T,{ref:m,disabled:d,label:f({id:"global.search",defaultMessage:"Search"}),onClick:i,children:r.jsx(y,{})})};export{k as S};
